<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[è®°å¼€æºé¡¹ç›®çš„äºŒæ¬¡å¼€å‘]]></title>
    <url>%2F%E8%AE%B0%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E7%9A%84%E4%BA%8C%E6%AC%A1%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[Scratché¡¹ç›®çš„äºŒæ¬¡å¼€å‘èƒŒæ™¯è¿‘äº›å¹´æ¥ï¼Œé’å°‘å„¿ç¼–ç¨‹è¢«ç‚’å¾—ç«çƒ­ï¼Œè€Œ Scratch è¯­è¨€å› å…¶ç®€å•æ˜“å­¦ç­‰æ€§è´¨å¤‡å—å…³æ³¨ã€‚å›½å†…å¤šæ•°çš„ Scratch æ•™å­¦é¡¹ç›®æ˜¯æ¥è‡ª Github ä¸Šçš„å¼€æº Scratch é¡¹ç›®ï¼Œç›®å‰å®˜æ–¹æœ€æ–°çš„ç‰ˆæœ¬ scratch-gui ä½¿ç”¨å‰ç«¯æµè¡Œçš„ React é‡å†™äº†ä¸€éï¼Œè€Œä¸”è¯¥é¡¹ç›®è¿˜åœ¨ä¸æ–­å®Œå–„æ›´æ–°å½“ä¸­ã€‚å¼€æºé¡¹ç›®çš„äºŒæ¬¡å¼€å‘å°±æ˜¯åœ¨å¼€æºé¡¹ç›®çš„åŸºç¡€ä¸Šç»“åˆå…¬å¸ä¸šåŠ¡æ‰€åšçš„äºŒæ¬¡å¼€å‘ï¼Œå¦‚æœä¸è€ƒè™‘å…·ä½“çš„é¡¹ç›®ï¼Œéœ€è¦é‡è§†çš„é—®é¢˜æ˜¯ï¼šåœ¨ç»“åˆå…¬å¸ä¸šåŠ¡çš„åŸºç¡€ä¸Šå¦‚ä½•æŒç»­åŒæ­¥è·Ÿè¿›å®˜æ–¹é¡¹ç›®ï¼Ÿæ·»åŠ è‡ªå·±çš„ä»£ç ç°åœ¨æƒ³è±¡ä¸€ä¸‹åœºæ™¯ï¼Œæ‹‰å– GitHub ä¸Šçš„æºç åï¼Œç„¶åç›´æ¥å†™å…¥å…¬å¸ä¸šåŠ¡ä»£ç ï¼Œä¸€æ³¢çŒ›å¦‚è™çš„æ“ä½œåï¼Œå†æ¬¡æ‹‰å– GitHub ä¸Šçš„æœ€æ–°ä»£ç ï¼Œå‘ç°è‡ªå·±å†™çš„ä»£ç å…¨éƒ¨å†²çªäº†ã€‚è‡ªå·±ä»£ç å’Œæºç æœ‰å†²çªæ˜¯ä»¶æ­£å¸¸çš„äº‹ï¼Œä½†æˆ‘ä»¬ä¾ç„¶å¯ä»¥å‡å°‘è¿™ç§å†²çªçš„å‡ºç°ã€‚è¦å‡å°‘è¿™ç§å†²çªå°±éœ€è¦å°†å…¬å¸ä¸šåŠ¡ä»£ç ä»æºç ä¸­è§£è€¦å‡ºæ¥ï¼Œå°½é‡ä¸å¹²æˆ–æ‰°è¦†å†™æºç ã€‚è¯´åˆ°è¿™ï¼Œçªç„¶æƒ³åˆ°äº†è®¾è®¡æ¨¡å¼ä¸­çš„ä¸­ä»‹è€…æ¨¡å¼ã€è£…é¥°è€…æ¨¡å¼ç­‰ï¼Œå°±æ˜¯è¯´ä¸ç®¡æ˜¯é€šè¿‡ä¸­é—´å±‚è¿˜æ˜¯åŒ…è£¹å±‚ï¼Œå°½é‡ä¸ä¿®æ”¹æºç éƒ¨åˆ†ã€‚æˆ‘ä»¬å†è¯´è¯´ scratch-gui é¡¹ç›®ï¼Œscratch-gui ä½¿ç”¨çš„æ˜¯ React + Redux çš„æŠ€æœ¯æ ˆï¼Œç»„ä»¶åŒ–å¼€å‘å†ç»“åˆçŠ¶æ€ç®¡ç†ï¼Œåœ¨å¤§å‹é¡¹ç›®ä¸Šï¼Œé˜…è¯»æºç æ˜¯ä»¶ç—›è‹¦çš„äº‹ã€‚ç»„ä»¶åµŒå¥—æ·±ï¼ŒçŠ¶æ€é”™ç»¼å¤æ‚ï¼Œä¸è¿‡ Scratch åœ¨ç»„ä»¶åˆ†ç±»ä¸Šè¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°çš„ï¼Œæœ‰è´Ÿè´£å±•ç¤ºçš„åŸºç¡€ UI ç»„ä»¶ï¼Œæœ‰è´Ÿè´£çŠ¶æ€é€»è¾‘çš„å®¹å™¨ç»„ä»¶ã€‚ä¹‹å‰æ‰€è¯´çš„ç”¨æ¥è§£è€¦çš„æ¨¡å¼åœ¨ç»„ä»¶åŒ–å¼€å‘ä¸Šè²Œä¼¼å¹¶ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œå°¤å…¶æ˜¯å®¹å™¨ç»„ä»¶ï¼Œä¸å…¶éº»çƒ¦åœ°æ‹†è§£åŒ…è£¹è¿˜ä¸å¦‚å°è£…è‡ªå·±çš„ä¸šåŠ¡ç»„ä»¶ã€‚å†è¯´äº†ï¼ŒåƒåŸºç¡€ç»„ä»¶è¿™ç±»ç»„ä»¶ï¼Œæºç å¯èƒ½éœ€è¦ç»å¸¸ä¿®æ”¹ï¼ŒäºŒæ¬¡å¼€å‘ä¸­ï¼Œå³ä¾¿å†çœäº‹ï¼Œä¹Ÿä¸è¦æƒ³ç€ç›´æ¥ä¿®æ”¹è¿™ç±»ç»„ä»¶ã€‚æ·»åŠ ä¸šåŠ¡ä»£ç çš„åŸåˆ™æ˜¯ï¼šå°½é‡åŠ ï¼Œé¿å…æ”¹ï¼Œç„¶ååœ¨å¤åˆç»„ä»¶ä¸­ç»„è£…åŸºç¡€ç»„ä»¶ã€‚åˆ†æ”¯ç®¡ç†æˆ‘ä»¬è´¹äº†é‚£ä¹ˆå¤§çš„åŠ²å»æ‹†åˆ†ç»„ä»¶ä¸ä»…ä»…æ˜¯ä¸ºäº†åæœŸå¯æ‰©å±•å¯ç»´æŠ¤ï¼Œæ›´æ˜¯ä¸ºäº†å‡å°‘å› ä¸ºåˆå¹¶æœ€æ–°æºç æ‰€å¸¦æ¥çš„ä»£ç å†²çªã€‚å¯¹äºæäº¤é¢‘ç¹çš„å¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿè·Ÿè¿›åŒæ­¥æœ€æ–°ä»£ç ã€‚åŒæ—¶ï¼Œå¯¹äºä¸šåŠ¡ä»£ç çš„æ”¹åŠ¨å’Œæäº¤ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¹Ÿå¾ˆååˆ†å…³æ³¨ã€‚åœ¨è¯´åˆ†æ”¯ç®¡ç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ä¸€äº›å¸¸ç”¨çš„ git å‘½ä»¤ï¼š1234567891011121314151617181920212223242526# æŸ¥çœ‹ git å‘½ä»¤git help [command]# æ¸…ç†æ–‡ä»¶git clean -df# æŸ¥çœ‹åˆ†æ”¯ä¿¡æ¯git branch -vv# åˆ›å»ºä¸è¿œç¨‹åˆ†æ”¯å…³è”çš„åˆ†æ”¯git checkout -b æœ¬åœ°åˆ†æ”¯å è¿œç¨‹ä»“åº“ï¼è¿œç¨‹åˆ†æ”¯åç§° # å…³è”è¿œç¨‹åˆ†æ”¯git branch (--set-upstream-to=&lt;upstream&gt; | -u &lt;upstream&gt;) [&lt;branchname&gt;]# å–æ¶ˆå…³è”è¿œç¨‹åˆ†æ”¯git branch --unset-upstream [&lt;branchname&gt;]# åˆ é™¤è¿œç¨‹åˆ†æ”¯git push --delete è¿œç¨‹ä¸»æœº è¿œç¨‹åˆ†æ”¯# æŸ¥çœ‹è¿œç¨‹ä»“åº“git remote -v # æ·»åŠ è¿œç¨‹ä»“åº“git remote add è¿œç¨‹ä»“åº“åç§°è€ƒè™‘åˆ°å‰ç«¯å·¥ç¨‹åŒ–çš„æ™®åŠï¼Œæˆ‘ä»¬æŠŠåˆ†æ”¯åˆ†ä¸ºå®˜æ–¹æºç åˆ†æ”¯ï¼ˆOfficeï¼‰ï¼Œå¼€å‘åˆ†æ”¯ï¼ˆdevï¼‰ï¼Œæµ‹è¯•åˆ†æ”¯ï¼ˆtestï¼‰ï¼Œé¢„å‘å¸ƒåˆ†æ”¯ï¼ˆpreï¼‰å’Œç”Ÿäº§åˆ†æ”¯ï¼ˆprodï¼‰ã€‚æˆ‘ä»¬æ˜¯åŸºäºå¼€æºé¡¹ç›®çš„äºŒæ¬¡å¼€å‘ï¼Œä»£ç æ‰˜ç®¡çš„ä½ç½®è‡ªç„¶ä¼šåœ¨ä¸¤ä¸ªä½ç½®ï¼Œå®˜æ–¹æºç æ˜¯åœ¨ GitHub ä¸Šï¼Œè€Œæˆ‘ä»¬çš„ä»£ç ä¼šæ”¾åœ¨å…¬å¸çš„æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸¤ä¸ªè¿œç¨‹ä»“åº“çš„åœ°å€ã€‚é™¤äº† office åˆ†æ”¯å…³è” Github ä¸Šçš„è¿œç¨‹ä»“åº“ï¼Œå…¶å®ƒçš„åˆ†æ”¯éƒ½æ˜¯å…³è”è‡ªå·±æœåŠ¡å™¨çš„è¿œç¨‹ä»“åº“ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬æ˜¯å°†åˆ†æ”¯ç®¡ç†åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯é¦–æ¬¡æ‹‰å–å®˜æ–¹æºç ï¼Œåˆ‡å‡º dev åˆ†æ”¯ï¼Œå®Œæˆä¸šåŠ¡å¼€å‘ã€‚ç¬¬äºŒä¸ªé˜¶æ®µä¸ºåæœŸä»£ç è·Ÿè¿›åŒæ­¥ä¸åæœŸçš„éœ€æ±‚å¼€å‘ã€‚ç¬¬ä¸€é˜¶æ®µåˆ‡å‡º dev åˆ†æ”¯åï¼Œæˆ‘ä»¬è¦æŠŠå…¬å¸ä¸šåŠ¡ä»£ç äº†ã€‚å¯æ˜¯åœ¨æˆ‘ä»¬å†™è‡ªå·±ä¸šåŠ¡çš„æ—¶å€™ï¼Œäººå®¶å®˜æ–¹ä¹Ÿå¯èƒ½ä¸æ–­åœ°å®Œå–„æ›´æ–°ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬è¦ä¸æ–­å»åˆå¹¶æœ€æ–°çš„ä»£ç ï¼Œåœ¨åˆå¹¶æ—¶æˆ‘ä»¬ä½¿ç”¨ rebase å»åˆå¹¶ä»£ç ï¼Œè¿™æ ·æˆ‘ä»¬çš„æäº¤è®°å½•ä¼šå¾ˆæ¸…æ™°ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¹Ÿä¸ä¼šå…³æ³¨å®˜æ–¹çš„æ›´æ–°ã€‚å½“ç„¶äº†ï¼Œåœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°äº†å†²çªçš„æƒ…å†µï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¥½å¤šäººå–œæ¬¢ä½¿ç”¨ merge å‘½ä»¤ã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯å–œæ¬¢ä½¿ç”¨ rebaseï¼Œä¸€ä¸ªä¸€ä¸ªåœ°å»è§£å†³çªä¹ŸæŒºå¥½çš„ï¼Œè€Œä¸” rebase çš„åŠŸèƒ½å¯ä¸æ­¢äºæ­¤ã€‚å‰æœŸçš„ä¸šåŠ¡å¼€å‘å®Œæˆåï¼Œè¿˜éœ€è¦æµ‹è¯•ä¸Šçº¿å‘¢ã€‚æµ‹è¯•åˆ†æ”¯ï¼ˆtestï¼‰ï¼Œé¢„å‘å¸ƒåˆ†æ”¯ï¼ˆpreï¼‰å’Œç”Ÿäº§åˆ†æ”¯ï¼ˆprodï¼‰éƒ½å·®ä¸å¤šï¼Œå°±åªè¯´ç”Ÿäº§åˆ†æ”¯ï¼ˆprodï¼‰ã€‚æˆ‘ä»¬åˆ‡åˆ° prod åˆ†æ”¯ï¼Œé€šè¿‡ merge æŒ‡ä»¤åˆå¹¶é€šè¿‡æµ‹è¯•çš„åˆ†æ”¯ã€‚merge å’Œ rebase ï¼Œåˆ°åº•ä»€ä¹ˆåœºåˆç”¨ï¼Œæ¨èçš„æ–¹æ¡ˆæ˜¯ï¼Œä¸ªäººåˆ†æ”¯ä½¿ç”¨ rebaseï¼Œå…¬å…±åˆ†æ”¯ä½¿ç”¨ mergeã€‚ç¬¬äºŒé˜¶æ®µç¬¬äºŒé˜¶æ®µä¹Ÿæ˜¯å·®ä¸å¤šï¼ŒåŒºåˆ«å¯èƒ½æ˜¯æˆ‘ä»¬ä¸ä»…è¦è§£å†³æ˜¯å®˜æ–¹æºç çš„å†²çªï¼Œè¿˜æœ‰è‡ªå·±å›¢é˜Ÿä»£ç çš„å†²çªã€‚æˆ‘ä»¬ä» prod åˆ†æ”¯åˆ‡å‡º dev åˆ†æ”¯ï¼Œå› ä¸ºå¯èƒ½æ˜¯å›¢é˜Ÿåä½œï¼Œæ‰€ä»¥åœ¨åˆå¹¶åˆ° prod åˆ†æ”¯æ—¶ï¼Œè¿˜éœ€è¦åŒæ­¥ prod ä¸Šçš„æ›´æ–°ã€‚æˆ‘ä»¬åˆ‡å‡ºé‚£ä¹ˆå¤šåˆ†æ”¯å¯ä¸æ˜¯é—¹ç€ç©çš„ï¼Œå‰ç«¯é¡¹ç›®çš„æ‰“åŒ…è¡Œä¸ºï¼Œåç«¯æ•°æ®çš„æ¥æºçš„ç­‰ï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒä¸‹éƒ½æ˜¯å­˜åœ¨åŒºåˆ«çš„ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒéœ€è¦å†™ä¸åŒçš„æŒ‡ä»¤è„šæœ¬ï¼Œè¿™ä¹Ÿæ˜¯å¼€æºé¡¹ç›®äºŒæ¬¡å¼€å‘éœ€è¦æ”¹é€ çš„åœ°æ–¹ã€‚æ„å»ºåŠéƒ¨ç½²å¹¶ä¸æ˜¯è¯´è¦ä»é›¶å¼€å§‹è®¾è®¡æ„å»ºæµï¼Œå¼€æºé¡¹ç›®å·²ç»å®šä¹‰å¥½äº†æ„å»ºæµï¼Œæˆ‘ä»¬è¦åšçš„åªæ˜¯æŒ‰ç…§è‡ªå·±çš„éœ€è¦ä¿®æ”¹æ„å»ºè„šæœ¬ã€‚åœ¨ scratch-gui ä¸­ï¼Œæ„å»ºå‘½ä»¤æ˜¯ç”± NPM è„šæœ¬ç»“åˆ webpack æ„å»ºå·¥å…·æ¥å®Œæˆçš„ã€‚åœ¨å¼€å‘ç¯å¢ƒä¸­ä¸ºäº†æé«˜å¼€å‘ä½“éªŒï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¿®æ”¹ SourceMapï¼Œä½¿ç”¨æ¨¡å—çƒ­æ›¿æ¢ç­‰ï¼Œåœ¨ä¸åŒç¯å¢ƒæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸åŒçš„æ‰“åŒ…ç­–ç•¥ç­‰ç­‰ã€‚123456&#123;"dev": "webpack --config webpack.config.dev.js","test": "webpack --config webpack.config.test.js","pre": "webpack --config webpack.config.pre.js","prod": "webpack --config webpack.config.prod.js"&#125;è‡³äºéƒ¨ç½²ï¼Œå‰ç«¯é¡¹ç›®æ˜¯ç›¸å¯¹æ¯”è¾ƒå®¹æ˜“çš„ï¼ŒæŠŠæ‰“åŒ…å¥½çš„é¡¹ç›®å¾€æœåŠ¡ä¸Šä¸€ä¸¢å°±ç®—å®Œæˆéƒ¨ç½²äº†ã€‚æ‰‹åŠ¨éƒ¨ç½²ï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½²è¿˜æ˜¯æŒç»­éƒ¨ç½²ï¼Œè¿™éƒ½æ— æ‰€è°“ï¼Œæˆ‘ä»¬åªè¦é’ˆå¯¹ä¸åŒç¯å¢ƒé…ç½®ä¸åŒçš„æ„å»ºè„šæœ¬å³å¯ã€‚]]></content>
      <categories>
        <category>å¼€å‘ä¸‰ä¸¤äº‹</category>
      </categories>
      <tags>
        <tag>å¼€æºé¡¹ç›®</tag>
        <tag>äºŒæ¬¡å¼€å‘</tag>
        <tag>git</tag>
        <tag>åˆ†æ”¯ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€ŠJavaScript è½»é‡çº§å‡½æ•°å¼ç¼–ç¨‹ã€‹]]></title>
    <url>%2F%E8%AF%BB%E3%80%8AJavaScript-%E8%BD%BB%E9%87%8F%E7%BA%A7%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E3%80%8B%2F</url>
    <content type="text"><![CDATA[è¯»åæ„Ÿå¾ˆä¹…ä¹‹å‰ï¼Œç»„å†…åˆ†äº«è¿‡å‡½æ•°å¼ç¼–ç¨‹çš„ç›¸å…³å†…å®¹ï¼Œå¬å®Œä¹‹åçš„æ„Ÿå—å°±æ˜¯å’Œæ²¡å¬æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚å‡½æ•°å¼ç¼–ç¨‹ä¸­æœ‰è®¸å¤šæ¦‚å¿µï¼Œå¯¹äºç†Ÿæ‚‰å’Œè§æƒ¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„äººæ¥è¯´ï¼Œä¸€æ—¶åŠä¼šä¸èƒ½å¤Ÿæ¶ˆåŒ–ã€‚è€Œä¸”ï¼Œå°±è¿å€¼å’Œå¼•ç”¨ã€é—­åŒ…ç­‰æ¦‚å¿µéƒ½åˆ†ä¸æ¸…çš„äººï¼Œå¯¹JavaScript å‡½æ•°å¼ç¼–ç¨‹çš„å…¥é—¨æ›´æ˜¯å›°éš¾é‡é‡ã€‚ã€ŠFunctional-Light JavaScriptã€‹ï¼ˆä¸­æ–‡ç¿»è¯‘ç‰ˆã€ŠJavaScript è½»é‡çº§å‡½æ•°å¼ç¼–ç¨‹ã€‹ï¼‰è‡ªç§°æ˜¯è½»é‡çº§çš„ï¼ŒæŠ›å¼€äº†æ¦‚å¿µçš„è®²è§£ï¼Œä»ä¸ºä»€ä¹ˆç”¨ï¼Œæ€ä¹ˆç”¨ï¼Œæœ€ç»ˆå‘ˆç°ä»€ä¹ˆç­‰å‡ ä¸ªæ–¹é¢å¸¦æˆ‘ä»¬é‡æ–°è®¤è¯†äº†å‡½æ•°è¿™ä¸ªåŸºç¡€ä¸”é‡è¦çš„æ¦‚å¿µã€‚ä¸ºä»€ä¹ˆå‡½æ•°å¼ç¼–ç¨‹å½“ä¸‹æœ‰ä¸‰ç§ç¼–ç¨‹èŒƒå¼ï¼Œç»“æ„åŒ–ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹ã€‚è™½ç„¶å‡½æ•°å¼ç¼–ç¨‹æ˜¯è¿‘äº›å¹´æ‰é‡‡ç”¨çš„ç¼–ç¨‹èŒƒå¼ï¼Œä½†æ˜¯å®ƒçš„å‘æ˜å´æ˜¯æœ€æ—©çš„ã€‚å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µæ˜¯åŸºäº ğ›Œ æ¼”ç®—çš„ç›´æ¥è¡ç”Ÿç‰©ï¼Œğ›Œ æ¼”ç®—æ³•çš„ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³æ˜¯ä¸å˜æ€§ã€‚æ•…ï¼Œç†è®ºä¸Šè®²ï¼Œåœ¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­åº”è¯¥ä¸å­˜åœ¨èµ‹å€¼è¯­å¥çš„ã€‚å‡½æ•°å¼ç¼–ç¨‹çš„åŸåˆ™å¯ä»¥ä½¿å¾—æˆ‘ä»¬å†™å‡ºçš„ä»£ç æ˜¯å¯è¯»ã€å¯ä¿¡ä»»çš„ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨å®ƒæ˜¯å®¹æ˜“ç†è§£çš„ã€‚å£°æ˜å¼çš„é£æ ¼å¯ä»¥è®©æˆ‘ä»¬çŸ¥é“ç¨‹åºæ˜¯å¹²ä»€ä¹ˆçš„ï¼Œä½†æ˜¯è¦å†™å‡ºè¿™æ ·çš„ç¨‹åºå´ä¸æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ï¼Œèµ·ç å¯¹äºåˆšæ¥è§¦å‡½æ•°å¼ç¼–ç¨‹çš„äººæ¥è¯´ã€‚åœ¨ç»´æŠ¤ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¤§éƒ¨åˆ†æ—¶é—´æ˜¯ç”¨æ¥é˜…è¯»å’Œç†è§£ä»£ç ã€‚æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å°å¿ƒç¿¼ç¿¼åœ°é˜…è¯»æ¯ä¸€è¡Œä»£ç ï¼Œç”Ÿæ€•æŸä¸€ä¸ªä¸ä¸ºäººçŸ¥çš„éªšæ“ä½œä¼šå¼•å‘äº†ä¸€äº›åˆ—çš„ bugï¼›æœ‰æ—¶å€™ä¹Ÿéœ€è¦åœ¨ä¸åŒå‡½æ•°è°ƒç”¨ä¸­äº†è§£ç¨‹åºçš„æ„å›¾ã€‚æ€»ä¹‹ï¼Œå‡½æ•°å¼ç¼–ç¨‹çš„ä¸€äº›åŸåˆ™å¯ä»¥è®©æˆ‘ä»¬å†™å‡ºå¯è¯»æ€§é«˜ã€å¯éªŒè¯çš„ä»£ç ã€‚å½“ç„¶ï¼Œå³ä¾¿æŒæ¡äº†å‡½æ•°å¼ç¼–ç¨‹ï¼Œä¹Ÿå¹¶ä¸æ„å‘³ç€ä½ ä¸€å®šå¾—ç”¨å®ƒã€‚æœ€å¥½çš„ä»£ç æ˜¯å¯è¯»æ€§é«˜çš„ä»£ç ï¼Œå› ä¸ºå®ƒåœ¨æ­£ç¡®çš„ï¼ˆç†æƒ³ä¸»ä¹‰ï¼‰å’Œå¿…ç„¶çš„ï¼ˆæ­£ç¡®çš„ï¼‰ä¹‹é—´å¯»æ±‚åˆ°äº†æ°åˆ°å¥½å¤„çš„å¹³è¡¡ã€‚å‡½æ•°åŸºç¡€åœ¨æ•°å­¦ä¸­ï¼Œå‡½æ•°æ€»æ˜¯è·å–ä¸€äº›è¾“å…¥å€¼ï¼Œç„¶åè¿”å›ä¸€ä¸ªè¾“å‡ºå€¼ï¼Œè¾“å…¥å€¼å’Œè¾“å‡ºå€¼å­˜åœ¨æŸç§å…³ç³»çš„æ˜ å°„ã€‚åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ä½¿ç”¨çš„å°±æ˜¯æ•°å­¦æ„ä¹‰ä¸Šçš„å‡½æ•°ï¼Œæ¥å—è¾“å…¥å€¼ï¼Œæ˜ç¡® return å€¼ã€‚å‡½æ•°é€šå¸¸æ˜¯è¿™ä¸ªæ¨¡æ ·ï¼š12345function foo(x, y, z)&#123; // ... &#125;foo.length // 3foo(1, 2, 3);foo.length æ˜¯å‡½æ•°æœŸæœ›çš„å‚æ•°ä¸ªæ•°ï¼Œé€šå¸¸å°±æ˜¯å½¢åƒä¸ªæ•°ã€‚ä½†æ˜¯ï¼Œå¹¶ä¸è¦æ±‚å®å‚å’Œå½¢åƒçš„ä¸ªæ•°ç›¸åŒï¼Œåœ¨å‡½æ•°å†…éƒ¨å¯ä»¥é€šè¿‡ arguments æŸ¥çœ‹æ‰€æœ‰å…¥åƒï¼ˆç®­å¤´å‡½æ•°æ— æ­¤å‚æ•°ï¼‰ã€‚ä½¿ç”¨ ES6 ä¸­çš„è§£æ„å¯ä»¥è½»æ¾ç»™å˜é‡ç»‘å®šå…¥åƒçš„å€¼ï¼š12345678910function foo([x, y, ...args]) &#123; // ... &#125;function foo(params) &#123; var x = params[0]; var y = params[1]; var args = params.slice(2); // ...&#125;ç”±ä»¥ä¸Šå¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå£°æ˜å¼ä»£ç é€šå¸¸æ¯”å‘½ä»¤å¼ä»£ç æ›´å¹²å‡€ã€‚æ‰€ä»¥åªè¦æœ‰å¯èƒ½ï¼Œè¿˜æ˜¯å°½å¯èƒ½ä½¿ç”¨å£°æ˜å¼å’Œè‡ªè§£é‡Šçš„ä»£ç ã€‚æœ‰æ—¶å€™å‡½æ•°ä¼šæ ¹æ®ä¸åŒçš„è¾“å…¥å€¼æ¥é‡è½½ä¸åŒçš„åŠŸèƒ½ï¼š12345678function foo(x,y) &#123; if (typeof x == "number" &amp;&amp; typeof y == "number") &#123; return x * y; &#125; else &#123; return x + y; &#125;&#125;è¿™ç§è®¾è®¡è™½ç„¶æš‚æ—¶å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¯¹ä»¥åçš„åŠŸèƒ½æ·»åŠ æˆ–ä¿®æ”¹ä¼šå¸¦æ¥å¾ˆå¤§çš„éº»çƒ¦ã€‚åœ¨ä¸Šé¢å·²ç»æåˆ°å‡½æ•°è¦æœ‰æ˜ç¡®çš„ return å€¼ï¼Œå¦‚æœå‡½æ•°å†…éƒ¨æ”¹å˜äº†å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡æˆ–å¼•ç”¨ç±»å‹çš„å…¥åƒï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æœ‰äº†å‰¯ä½œç”¨çš„ï¼Œå¯¹è¯¥å‡½æ•°å¤–çš„ç¯å¢ƒé€ æˆäº†æ±¡æŸ“ã€‚æˆ‘ä»¬å¸Œæœ›å‡½æ•°æ˜¯ä¸ªæ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•°ï¼Œå³çº¯å‡½æ•°ã€‚1234567891011121314function sum(list) &#123; var total = 0; for (let i = 0; i &lt; list.length; i++) &#123; if (!list[i]) list[i] = 0; total = total + list[i]; &#125; return total;&#125;var nums = [ 1, 3, 9, 27, , 84 ];sum( nums ); // 124å‡½æ•°å¯ä»¥æ¥å—å¹¶è¿”å›ä»»ä½•ç±»å‹çš„å€¼ï¼Œå½“è¿™ç§ç±»å‹çš„å€¼æ°å¥½æ˜¯å‡½æ•°æ—¶ï¼Œå®ƒå°±å«é«˜é˜¶å‡½æ•°ã€‚è€ŒçœŸæ­£é«˜é˜¶çš„ç”¨æ³•ï¼Œå°±æ˜¯é—­åŒ…ï¼Œå®ƒå¯ä»¥è®°å½•å¹¶ä¸”è®¿é—®ä½œç”¨äºå¤–çš„å˜é‡ï¼Œç”šè‡³è¯¥å‡½æ•°åœ¨ä¸åŒä½œç”¨åŸŸä¸­è¢«æ‰§è¡Œã€‚1234567891011121314function runningCounter(start) &#123; var val = start; return function current(increment = 1)&#123; val = val + increment; return val; &#125;;&#125;var score = runningCounter( 0 );score(); // 1score(); // 2score( 13 ); // 15é—­åŒ…ä¸­ä¿å­˜çš„å˜é‡å¹¶ä¸ä¼šåœ¨å‡½æ•°æ‰§è¡Œåè‡ªåŠ¨é”€æ¯ï¼Œåªè¦å†…éƒ¨å‡½æ•°ä¾ç„¶å­˜åœ¨å¯¹å˜é‡çš„å¼•ç”¨ï¼Œå˜é‡å°±ä¼šä¸€ç›´ä¿ç•™ã€‚åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œé—­åŒ…æ˜¯æœ€é‡è¦çš„åŸºç¡€ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªæ¦‚å¿µä¸€å®šè¦ç†è§£ã€‚è¿˜æœ‰çš„å‡½æ•°æ˜¯æ²¡æœ‰åå­—çš„ï¼Œè¿™ç§å‡½æ•°ç§°ä¹‹ä¸ºåŒ¿åå‡½æ•°ï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯ç«‹å³æ‰§è¡Œè¡¨è¾¾å¼ï¼š12345(function()&#123; // æˆ‘æ˜¯ IIFE!&#125;)();å‘½åå‡½æ•°çš„å¥½å¤„æœ‰å¾ˆå¤šï¼Œå¯ä»¥åœ¨å †æ ˆä¸­æ–¹ä¾¿è°ƒè¯•ï¼Œå¯ä»¥é€šè¿‡åå­—å¼•ç”¨è‡ªèº«ç­‰ã€‚ä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„å‡½æ•°éƒ½å¯ä»¥å‘½åçš„ï¼Œç®­å¤´å‡½æ•°å¯ä»¥è¯´æ˜¯ååˆ†ç®€æ´ï¼Œå¯ä»¥ä½¿ç”¨æœ€ç®€å•çš„ç¬¦å·æ¥è¡¨ç¤ºä¸€ä¸ªå‡½æ•°ã€‚1people.map( person =&gt; person.nicknames[0] || person.firstName );ç®­å¤´å‡½æ•°é™¤äº†å†™æ³•ç®€æ´ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯ä»¥ç§°ä¹‹ä¸ºå¥½å¤„çš„ä¾¿æ˜¯ thisã€‚ç®­å¤´å‡½æ•°ä¸­çš„ this æ˜¯åŸºäºä½œç”¨åŸŸçš„ï¼Œæ˜¯å¯ä»¥é¢„æµ‹çš„ã€‚è€Œå¯¹äºæ™®é€šå‡½æ•°ï¼Œthis æ˜¯åŠ¨æ€ç»‘å®šçš„ï¼Œæ˜¯åŸºäºè°ƒç”¨è€…çš„ã€‚ä¸ç®¡æ˜¯å“ªä¸€ç§ thisï¼Œ æˆ‘ä»¬è¿˜æ˜¯å¸Œæœ›èƒ½å¤Ÿæ˜¾å¼åœ°è¡¨ç¤ºä¸Šä¸‹æ–‡ã€‚12345678910function sum(ctx) &#123; return ctx.x + ctx.y;&#125;var context = &#123; x: 1, y: 2&#125;;sum( context );å‡½æ•°çš„è¾“å…¥åœ¨ç¨‹åºä¸­å¾€å¾€å°†ä¸å˜çš„å°è£…èµ·æ¥ï¼Œå˜åŒ–çš„éš”ç¦»å¼€æ¥ã€‚å¾ˆå¤šæ—¶å€™ä¸å˜çš„åŒ…æ‹¬ä¸€äº›é¢„è®¾çš„å‚æ•°ã€‚é¦–å…ˆå°è£…ä¸€ä¸ªè¯·æ±‚å‡½æ•°ï¼š1234// æ­¥éª¤ä¸€ï¼šfunction ajax(url,data,callback) &#123; // ..&#125;å¯¹äºä¸åŒçš„è¯·æ±‚ï¼Œæœ‰ä¸åŒçš„ url æˆ–å‚æ•°ï¼š12345678// æ­¥éª¤äºŒï¼šfunction getPerson(data,cb) &#123; ajax( "http://some.api/person", data, cb );&#125;function getOrder(data,cb) &#123; ajax( "http://some.api/order", data, cb );&#125;url å°±æ˜¯é¢„è®¾çš„å‚æ•°ï¼Œè€Œå‰©ä½™çš„å‚æ•°åœ¨è°ƒç”¨çš„æ—¶å€™ä¼ å…¥ã€‚12// æ­¥éª¤ä¸‰ï¼šgetPerson( &#123; user: CURRENT_USER_ID &#125;, cb );ä»”ç»†è§‚å¯Ÿæ­¥éª¤äºŒï¼Œä»£ç ä¼¼ä¹è¿˜å¯ä»¥æç‚¼ä¸‹ï¼š1234567// æ­¥éª¤äºŒï¼švar partial = (fn, ...presetArgs) =&gt; (...laterArgs) =&gt; fn(...presetArgs, ...laterArgs);var getPerson = partial(ajax, "http://some.api/person");var getOrder = partial(ajax, "http://some.api/order");æ­¥éª¤äºŒçš„è½¬æ¢å°±æ˜¯åå‡½æ•°çš„åº”ç”¨ï¼Œå®ƒæ˜¯é€šè¿‡é¢„è®¾å‚æ•°çš„æ–¹å¼æ¥å‡å°‘å…¥åƒçš„æ•°é‡ã€‚å¦‚æœé¢ å€’å…¥åƒçš„é¡ºåºï¼Œå°±æˆäº†å³åå‡½æ•°ã€‚åŒæ ·æ˜¯å¯¹å‡½æ•°è¾“å…¥ç®¡ç†çš„æŠ€æœ¯ï¼Œå³æŸ¯é‡ŒåŒ–ï¼Œè¯¥æŠ€æœ¯å°†ä¸€ä¸ªæ¥å—å¤šä¸ªå®å‚çš„å‡½æ•°æ‹†è§£æˆè¿ç»­çš„é“¾å¼å‡½æ•°ï¼Œæ¯ä¸ªé“¾å¼å‡½æ•°æ¥å—å•ä¸€å®å‚å¹¶è¿”å›æ¥å—ä¸‹ä¸€ä¸ªå®å‚çš„å‡½æ•°ã€‚1234567891011121314151617181920212223242526272829function sum(...args) &#123; var sum = 0; for (let i = 0; i &lt; args.length; i++) &#123; sum += args[i]; &#125; return sum;&#125;sum(1, 2, 3, 4, 5 ); // æŸ¯é‡ŒåŒ–var curry = (fn, arity = fn.length, nextCurried) =&gt; (nextCurried = prevArgs =&gt; nextArg =&gt; &#123; var args = prevArgs.concat( [nextArg] ); if (args.length &gt;= arity) &#123; return fn( ...args ); &#125; else &#123; return nextCurried( args ); &#125; &#125; )( [] );// (5 ç”¨æ¥æŒ‡å®šéœ€è¦é“¾å¼è°ƒç”¨çš„æ¬¡æ•°)var curriedSum = curry( sum, 5 );curriedSum( 1 )( 2 )( 3 )( 4 )( 5 );ä»ä»¥ä¸Šçš„ä»£ç å¯ä»¥å‘ç°ï¼Œæ— è®ºæ˜¯åå‡½æ•°è¿˜æ˜¯æŸ¯é‡ŒåŒ–ï¼Œéƒ½æ˜¯æ”¶é½æ‰€æœ‰çš„å®å‚åæ‰æ‰§è¡ŒåŸå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡å¿…è¦ä¸€æ¬¡æ€§ä¼ å…¥æ‰€æœ‰çš„å‚æ•°ï¼Œè€Œä¸”æŸ¯é‡ŒåŒ–è¿™ç§åªæ¥å—å•ä¸€å‚æ•°çš„ç‰¹æ€§åœ¨åé¢çš„ç»„åˆå‡½æ•°ä¸­ä¹Ÿèµ·ç€å¾ˆé‡è¦çš„ä½œç”¨ã€‚å‡½æ•°å¼ç¼–ç¨‹å¯ä»¥è¯´åœ¨å‚æ•°ä¸Šä¸‹äº†å¾ˆå¤§çš„åŠŸå¤«ï¼Œç”šè‡³è¿˜æœ‰ç§ç§°ä¹‹ä¸ºæ— å½¢åƒçš„é£æ ¼ï¼Œå…¶ç›®çš„å°±æ˜¯ç§»é™¤éå¿…è¦çš„å½¢åƒåˆ°å®å‚ä¹‹é—´çš„æ˜ å°„ã€‚æ— å½¢åƒé£æ ¼æ˜¯å¦æé«˜äº†ä»£ç çš„å¯è¯»æ€§ï¼Œæœ‰æ²¡æœ‰å¿…è¦ä½¿ç”¨æ— å½¢åƒé£æ ¼ï¼Œè¿˜éœ€è¦ä½ è‡ªå·±å»å®šå¤ºã€‚12345678910function double(x) &#123; return x * 2;&#125;[1,2,3,4,5].map( function mapper(v)&#123; return double( v );&#125; );// æ— å½¢åƒé£æ ¼ï¼›[1,2,3,4,5].map( double );ç»„åˆå‡½æ•°å‡½æ•°ç»„åˆï¼Œå°±æ˜¯æŠŠä¸Šä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºå€¼ä½œä¸ºä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥å€¼ï¼Œå¹¶ä»¥æ­¤æŒç»­ä¸‹å»ã€‚çœ‹ä¸ªä¾‹å­ï¼Œå°†ä¸€å¥è¯æ‹†åˆ†ä¸ºå•è¯æ•°ç»„ï¼š1234567891011121314151617181920212223242526272829303132333435// è½¬å°å†™ï¼Œè¿‡è™‘å‡ºå•è¯ï¼›function words(str) &#123; return String( str ) .toLowerCase() .split( /\s|\b/ ) .filter( function alpha(v)&#123; return /^[\w]+$/.test( v ); &#125; );&#125;// å»é‡ï¼›function unique(list) &#123; var uniqList = []; for (let i = 0; i &lt; list.length; i++) &#123; // value not yet in the new list? if (uniqList.indexOf( list[i] ) === -1 ) &#123; uniqList.push( list[i] ); &#125; &#125; return uniqList;&#125;var text = "To compose two functions together, pass the \output of the first function call as the input of the \second function call.";function uniqueWords(str) &#123; return unique( words( str ) );&#125;var wordsUsed = uniqueWords(text);// ["to","compose","two","functions","together","pass",// "the","output","of","first","function","call","as",// "input","second"]æ•°æ®çš„æµå‘ï¼š1wordsUsed &lt;-- unique &lt;-- words &lt;-- textä½†æ˜¯å‡½æ•°å¼ç¼–ç¨‹å–œæ¬¢å£°æ˜å¼é£æ ¼ï¼Œå…³æ³¨ç‚¹åœ¨æ˜¯ä»€ä¹ˆè€Œä¸æ˜¯æ€ä¹ˆåšï¼Œæˆ‘ä»¬ä¸éœ€è¦çŸ¥é“å…·ä½“çš„å®ç°ç»†èŠ‚ã€‚æˆ‘ä»¬å¸Œæœ›æ˜¯è¿™æ ·çš„ï¼š1234567// å‘½ä»¤å¼function shorterWords(text) &#123; return skipLongWords( unique( words( text ) ) );&#125;// å£°æ˜å¼var shorterWords = compose( skipLongWords, unique, words );å¦‚ä½•å®ç°å‡½æ•° compose ï¼Ÿ12345678910111213141516171819202122232425262728293031323334353637// å†™æ³•ä¸€ï¼švar compose = (...fns) =&gt; result =&gt; &#123; var list = fns.slice(); while (list.length &gt; 0) &#123; // å°†æœ€åä¸€ä¸ªå‡½æ•°ä»åˆ—è¡¨å°¾éƒ¨æ‹¿å‡º // å¹¶æ‰§è¡Œå®ƒ result = list.pop()( result ); &#125; return result; &#125;;// å†™æ³•äºŒï¼švar compose = (...fns) =&gt; fns.reverse().reduce( (fn1,fn2) =&gt; (...args) =&gt; fn2( fn1( ...args ) ) );// å†™æ³•ä¸‰ï¼švar compose = (...fns) =&gt; &#123; // æ‹¿å‡ºæœ€åä¸¤ä¸ªå‚æ•° var [ fn1, fn2, ...rest ] = fns.reverse(); var composedFn = (...args) =&gt; fn2( fn1( ...args ) ); if (rest.length == 0) return composedFn; return compose( ...rest.reverse(), composedFn ); &#125;;å‰¯ä½œç”¨å’Œå€¼çš„ä¸å¯å˜æ€§const æ˜¯ç”¨æ¥å£°æ˜ä¸€ä¸ªå¸¸é‡çš„ï¼Œè€Œå¸¸é‡å°±æ˜¯ä¸å…è®¸è¢«é‡æ–°èµ‹å€¼çš„å˜é‡ã€‚åœ¨æ’æŸ¥é—®é¢˜çš„æ—¶ï¼Œæˆ‘ä»¬å¾ˆå°‘å°†æ³¨æ„åŠ›æ”¾åœ¨ç”± const å£°æ˜çš„å˜é‡ä¸Šï¼Œæ¯•ç«Ÿå®ƒå°±æ˜¯ä¸€ä¸ªæ— å…³ç—›ç—’çš„å¸¸é‡ã€‚å¦‚æœæœ€ç»ˆå°±æ˜¯å› ä¸ºè¿™ä¸ªå¸¸é‡å‘ç”Ÿäº†å˜åŒ–ï¼Œä¼šä¸ä¼šå¾ˆåˆºæ¿€ï¼Ÿï¼è™½ç„¶ const å£°æ˜çš„æ˜¯å¸¸é‡ï¼Œä½†æ˜¯å¯¹äºå¼•ç”¨ç±»å‹çš„å€¼ï¼Œç¨‹åºè¿˜æ˜¯å…è®¸å®ƒæ”¹å˜çš„ã€‚å› ä¸º const çš„ä¸é è°±ï¼Œæˆ‘ä»¬ä¸å¾—ä¸é‡æ–°å…³æ³¨ç”±å®ƒå£°æ˜çš„å¸¸é‡ã€‚12const x = [ 2 ];x[0] = 3;æ•°æ®çš„çªå˜å¼•å‘äº†ä¸€ç³»åˆ—æ„æƒ³ä¸åˆ°çš„ bugï¼Œç©¶å…¶åŸå› ï¼Œæ˜¯å˜é‡è¢«å…±äº«æˆ–æœ‰ç€ä¸åŒçš„ç”¨å¤„ã€‚12345678910111213var x = 1;foo();console.log( x );bar();console.log( x );baz();console.log( x );å½“å˜é‡è¢«å…±äº«æ—¶ï¼ˆåœ¨å‡½æ•° foo()ã€bar()ã€baz() ä¸­ï¼Œä»»ä½•ä¸€ä¸ªå‡½æ•°éƒ½æœ‰å¯èƒ½æ”¹å˜å˜é‡ xï¼‰ï¼Œæœ€ç»ˆæˆ‘ä»¬æ— æ³•ç¡®è®¤ x åˆ°åº•æ˜¯ä»€ä¹ˆå€¼ï¼Œä¸ºäº†è¿½è¸ªå˜é‡ x çš„å˜åŒ–ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ä»”ç»†é€ä¸ªé˜…è¯»å‡½æ•° foo()ã€bar()ã€baz()ã€‚æ˜¾è€Œæ˜“è§ï¼Œè¿™ç»™æˆ‘ä»¬é˜…è¯»ç†è§£ä»£ç å¸¦æ¥äº†å¾ˆå¤§çš„éº»çƒ¦ã€‚12345678910111213141516function sum(list) &#123; var total = 0; for (let i = 0; i &lt; list.length; i++) &#123; if (!list[i]) list[i] = 0; total = total + list[i]; &#125; return total;&#125;var nums = [ 1, 3, 9, 27, , 84 ];sum( nums ); // 124sums; //[1, 3, 9, 27, 0, 84]è€Œå¯¹äºå¼•ç”¨åŒä¸€å¯¹è±¡çš„ä¸åŒå˜é‡ï¼Œå¯¹è±¡çš„æ”¹å˜ä¹Ÿæ˜¯åŒæ­¥çš„ï¼Œè¿™ç§æ”¹å˜å¾€å¾€æ˜¯ä¸æ˜“å¯Ÿè§‰çš„ã€‚æ‰€ä»¥ï¼Œå¯¹äºå¼•ç”¨ç±»å‹çš„ç‰¹æ®Šæ€§ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„ã€‚å½’çº³ä¸€ä¸‹ï¼Œä»€ä¹ˆæ ·çš„å˜é‡è¢«å…±äº«æ—¶éœ€è¦é¢å¤–ä¸Šå¿ƒçš„ï¼Œå¤–å±‚ä½œç”¨åŸŸé‡Œçš„å˜é‡å’Œå¼•ç”¨ç±»å‹çš„å˜é‡ã€‚å¦‚ä½•é¿å…è¿™ç§æ•°æ®çªå˜å¸¦æ¥çš„çŠ¶æ€ç´Šä¹±çš„ï¼Ÿå¯ä»¥æƒ³åˆ°çš„æ˜¯å°†å˜é‡å˜æˆåªè¯»çš„æˆ–é‡æ–°æ‹·è´ä¸€ä»½ä»¥ä½œåŒºåˆ«ã€‚1234567var x = Object.freeze( [ 2, 3, [4, 5] ] );// ä¸å…è®¸æ”¹å˜ï¼šx[0] = 42;// oopsï¼Œä»ç„¶å…è®¸æ”¹å˜ï¼šx[2][0] = 42;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Object.freeze ç­‰ API å°†æ•°æ®è½¬ä¸ºä¸å¯å˜ï¼Œä½†æ˜¯è¿™ç§ API çš„è¿˜æ˜¯æœ‰å±€é™æ€§çš„ï¼Œåªèƒ½æµ…å±‚é™åˆ¶ä¸å¯å˜ã€‚è¦æƒ³ä½¿å¾—ä¸€ä¸ªæ·±å±‚åµŒå¥—çš„å¯¹è±¡ä¸å¯å˜ï¼Œå°±éœ€è¦æ·±åº¦éå†å¯¹æ¯ä¸ªå±æ€§ä½¿ç”¨ Object.freeze ç­‰ APIã€‚å¦ä¸€ç§æ€è·¯å°±æ˜¯æ‹·è´ä¸€ä»½æ•°æ®ï¼Œè¿™æ ·çš„è¯ï¼Œå†æ€ä¹ˆæŠ˜è…¾å‰¯æœ¬éƒ½ä¸ä¼šå½±å“åˆ°æºæ•°æ®ã€‚123456function addValue(arr) &#123; var newArr = [ ...arr, 4 ]; return newArr;&#125;addValue( [1,2,3] ); // [1,2,3,4]åœ¨æ­¤ï¼Œæˆ‘ä»¬ä¸ç”±åœ°æƒ³èµ·å‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒ â€”â€” ä¸å˜æ€§ã€‚æˆ‘ä»¬çœ‹åˆ°äº†å˜åŒ–çš„æ•°æ®ç»™ç¨‹åºé€ æˆçš„å¯è¯»æ€§å·®ã€çŠ¶æ€ç´Šä¹±ç­‰åå¤„ï¼Œè‡ªç„¶æˆ‘ä»¬å°±æƒ³åˆ°æ•°æ®ä¸å˜æ€§ä¼šè®©ç¨‹åºæ›´åŠ å‹å¥½ã€‚ä½†å€¼çš„ä¸å˜æ€§å¹¶ä¸æ„å‘³ç€å€¼ä»£è¡¨çš„çŠ¶æ€ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥å°±æœ‰äº†å€¼çš„æ‹·è´ã€‚è¿™ç§ä¸å˜æ€§æ˜¯æŒ‡ï¼Œå½“éœ€è¦æ”¹å˜ç¨‹åºä¸­æŸä¸ªçŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½æ”¹å˜æºæ•°æ®ï¼Œè€Œæ˜¯æ‹·è´è·Ÿè¸ªå®ƒçš„å‰¯æœ¬ã€‚æ‹·è´ä¹Ÿæœ‰æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ç‹¬ç«‹äºæºæ•°æ®çš„å‰¯æœ¬ã€‚1234567891011function updateLastLogin(user) &#123; var newUserRecord = Object.assign( &#123;&#125;, user ); newUserRecord.lastLogin = Date.now(); return newUserRecord;&#125;var user = &#123; // ..&#125;;user = updateLastLogin( user );ç„¶è€Œï¼Œæ‹·è´ä¹Ÿä¸æ˜¯æ²¡æœ‰ä»£ä»·çš„ã€‚çªç„¶å¤šå‡ºæ¥çš„å‰¯æœ¬ï¼Œå¤šå°‘ä¼šå½±å“åˆ°æ€§èƒ½ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ç§æ–¹å¼å¯ä»¥å‡å°‘å†…å­˜å ç”¨ï¼Œæé«˜æ€§èƒ½ã€‚å®ƒä½¿å¾—ä¸åŒå˜é‡æŒ‡å‘åŒä¸€ä¸ªæ•°æ®æºåŒæ—¶æœ‰ç€ä¸åŒç‰ˆæœ¬çš„æ•°æ®ï¼Œä¸åŒç‰ˆæœ¬çš„æ•°æ®äº’ä¸å½±å“ï¼Œè¿™æœ‰ç‚¹åƒ git çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œè¿™æ ·çš„è¯ï¼Œå€¼çš„ä¸å˜æ€§è¿™ä¸ªè¯­ä¹‰ä¹Ÿå¾—ä»¥ä¿ç•™ã€‚å…¶å®å·²ç»æœ‰ä¸€äº›åº“å®ç°äº†ç±»ä¼¼çš„ä¼˜åŒ–ï¼Œå¦‚ Immutable.js ç­‰ã€‚å¦‚æœç”¨ä¸¤ä¸ªå­—æ€»ç»“ä»¥ä¸Šçš„å†…å®¹ï¼Œæ— ç–‘ï¼Œå°±æ˜¯ã€Œå¹²æ‰°ã€äº†ï¼Œè¿™ç§å¹²æ‰°æ¥è‡ªäºéé¢„æœŸçš„æ•°æ®å˜åŒ–ã€‚ä½œä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„ä¸»è§’ â€”â€” å‡½æ•°ï¼Œæˆ‘ä»¬è‡ªç„¶ä¹Ÿä¼šå¸Œæœ›å‡½æ•°å†…éƒ¨ä¸ä¼šé€ æˆæ•°æ®çš„çªå˜ï¼Œä¸€åˆ‡ç»“æœæ˜¯å¯é¢„æµ‹çš„ï¼Œæ›´å¤šçš„å¸Œæœ›å®ƒèƒ½å¤Ÿç¬¦åˆå‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒ â€”â€” ä¸å˜æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨ç¼–ç çš„è¿‡ç¨‹ä¸­è¦å‡å°‘å‡½æ•°çš„å‰¯ä½œç”¨ã€‚é™¤äº†ä»¥ä¸Šæ‰€è¯´çš„æ•°æ®å…±äº«ï¼Œå‰¯ä½œç”¨è¿˜åŒ…æ‹¬éšæœºæ€§ ï¼ˆMath.random()ï¼‰ã€IO æ“ä½œã€ç«æ€é—®é¢˜ç­‰ã€‚å‰¯ä½œç”¨æ˜¯å¤šç§å¤šæ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨çº¯å‡½æ•°æ¥å‡å°‘è¿™ç§å‰¯ä½œç”¨ã€‚æ¢å¥è¯è¯´ï¼Œä¸çº¯å‡½æ•°ç›¸è¿èƒŒçš„ï¼Œæˆ‘ä»¬åŸºæœ¬å¯ä»¥è®¤ä¸ºæ˜¯å‰¯ä½œç”¨ã€‚ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿæœ‰è¯´çº¯å‡½æ•°å°±æ˜¯å¹‚ç­‰å‡½æ•°ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„çº¯å‡½æ•°éƒ½æ˜¯æ•°å­¦æ¦‚å¿µä¸Šçš„å¹‚ç­‰ã€‚12345678910111213141516171819var hist = document.getElementById( "orderHistory" );// å¹‚ç­‰çš„ï¼šhist.innerHTML = order.historyText;// éå¹‚ç­‰çš„ï¼švar update = document.createTextNode( order.latestUpdate );hist.appendChild( update );// éå¹‚ç­‰çš„ï¼šfunction calculateAverage(list) &#123; var sum = 0; for (let i = 0; i &lt; list.length; i++) &#123; sum += list[i]; &#125; return sum / list.length;&#125;calculateAverage( [1,2,4,7,11,16,22] ); // 9å¦ä¸€ç§å®šä¹‰å‡½æ•°çš„æ–¹æ³•æ˜¯ï¼Œç»™å®šç›¸åŒçš„è¾“å…¥ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰ï¼Œå®ƒæ€»æ˜¯äº§ç”Ÿç›¸åŒçš„è¾“å‡ºã€‚12345const PI = 3.141592;function circleArea(radius) &#123; return PI * radius * radius;&#125;è¿˜æœ‰ä¸€ç§å®šä¹‰å°±æ˜¯ï¼Œå³çº¯å‡½æ•°å…·æœ‰å¼•ç”¨é€æ˜æ€§ã€‚å¼•ç”¨é€æ˜æ€§æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°è°ƒç”¨å¯ä»¥è¢«å®ƒçš„è¾“å‡ºå€¼æ‰€ä»£æ›¿ï¼Œå¹¶ä¸”æ•´ä¸ªç¨‹åºçš„è¡Œä¸ºä¸ä¼šæ”¹å˜ã€‚æ¢å¥è¯è¯´ï¼Œä¸å¯èƒ½ä»ç¨‹åºçš„æ‰§è¡Œä¸­åˆ†è¾¨å‡ºå‡½æ•°è°ƒç”¨æ˜¯è¢«æ‰§è¡Œçš„ï¼Œè¿˜æ˜¯å®ƒçš„è¿”å›å€¼æ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„ä½ç½®ä¸Šå†…è”çš„ã€‚1234567891011121314151617function calculateAverage(list) &#123; var sum = 0; for (let i = 0; i &lt; list.length; i++) &#123; sum += list[i]; &#125; return sum / list.length;&#125;var nums = [1,2,4,7,11,16,22];var avg = calculateAverage( nums );console.log( "The average is:", avg ); // The average is: 9var avg = 9;console.log( "The average is:", avg ); // The average is: 9ä»£ç çš„å‰¯ä½œç”¨é™ä½äº†ç¨‹åºçš„è´¨é‡ï¼ŒåŒæ—¶ä¹ŸåŠ å¤§äº†æˆ‘ä»¬å¯¹ä»£ç çš„é˜…è¯»éš¾åº¦ã€‚æ²¡æœ‰å‰¯ä½œç”¨çš„ç¨‹åºæ˜¯ä¸å­˜åœ¨çš„ï¼Œæˆ‘ä»¬åªæ˜¯é€šè¿‡é‡æ„ä¸çº¯çš„å‡½æ•°æˆ–å°è£…å‰¯ä½œç”¨ç­‰æ–¹å¼æ¥é¿å…å‰¯ä½œç”¨çš„äº§ç”Ÿã€‚é—­åŒ…å’Œå¯¹è±¡é¦–å…ˆç”¨ä¸¤æ®µä»£ç æ¥æè¿°åŒä¸€ä¸ªä¸œè¥¿ï¼š12345678910111213141516171819202122232425// é—­åŒ…æ–¹å¼function person(name,age) &#123; return happyBirthday()&#123; age++; console.log( "Happy " + age + "th Birthday, " + name + "!" ); &#125;&#125;var birthdayBoy = person( "Kyle", 36 );birthdayBoy(); // Happy 37th Birthday, Kyle!// å¯¹è±¡æ–¹å¼var birthdayBoy = &#123; name: "Kyle", age: 36, happyBirthday() &#123; this.age++; console.log( "Happy " + this.age + "th Birthday, " + this.name + "!" ); &#125;&#125;;birthdayBoy.happyBirthday();// Happy 37th Birthday, Kyle!å¯ä»¥å‘ç°é—­åŒ…å’Œå¯¹è±¡å°±æ˜¯å¯¹åŒä¸€äº‹ç‰©çš„ä¸¤ç§è¡¨è¾¾æ–¹å¼ã€‚å…³äºé—­åŒ…å’Œå¯¹è±¡æœ‰ç€ä»¥ä¸‹çš„è®ºè°ƒï¼šä¸€ä¸ªæ²¡æœ‰é—­åŒ…çš„ç¼–ç¨‹è¯­è¨€å¯ä»¥ç”¨å¯¹è±¡æ¥æ¨¡æ‹Ÿé—­åŒ…ã€‚ä¸€ä¸ªæ²¡æœ‰å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€å¯ä»¥ç”¨è¡¨æŠ¥æ¨¡æ‹Ÿå¯¹è±¡ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ JavaScript ä¸­ç”¨å¯¹è±¡æ¨¡æ‹Ÿé—­åŒ…ã€‚1234567function outer() &#123; var x = 1; return function inner()&#123; return x; &#125;;&#125;é¦–å…ˆè¦è§£å†³ outer() æ‰§è¡Œåï¼Œx å˜é‡æ²¡æœ‰è¢«é”€æ¯ã€‚åœ¨åˆ›å»ºå‡½æ•° outer æ—¶ï¼Œæœ‰ä¸ªå¯¹è±¡ä¼šä¿å­˜è¯¥ä½œç”¨åŸŸä¸‹çš„æ‰€æœ‰å˜é‡:123scopeOfOuter = &#123; x: 1&#125;;åœ¨åˆ›å»ºå‡½æ•° inner æ—¶ï¼Œä¹Ÿä¼šç”Ÿæˆä¸€ä¸ª scopeOfInner çš„ä½œç”¨åŸŸå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„åŸå‹æŒ‡å‘ scopeOfOuterï¼š12scopeOfInner = &#123;&#125;;Object.setPrototypeOf( scopeOfInner, scopeOfOuter );æ‰€ä»¥åœ¨è®¿é—® x å˜é‡æ—¶ï¼Œæ›´åƒæ˜¯åœ¨è®¿é—® scopeOfInner.xï¼Œç„¶åæ²¿åŸå‹é“¾æŸ¥æ‰¾ã€‚ä»¥ä¸Šåªæ˜¯äº›å‡è®¾ï¼ŒçœŸå®çš„æƒ…å†µè‚¯å®šæ¯”è¿™å¤æ‚ã€‚è¿™é‡Œåªæ˜¯è®ºè¯å¯ä»¥ä½¿ç”¨å¯¹è±¡å®ç°é—­åŒ…ï¼ŒåŒæ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨é—­åŒ…å®ç°å¯¹è±¡ã€‚é€’å½’é€’å½’å¯ä»¥è¯´æ˜¯å¾ˆå‡½æ•°å¼ï¼Œå®ƒçš„ä¼˜ç‚¹æ˜¯æ›´å…·æœ‰å£°æ˜è¡Œï¼Œç®€æ´æ˜“è¯»ï¼Œä½†æœ€å¤§çš„å¼Šç«¯è¿˜æ˜¯å†…å­˜å ç”¨æ–¹é¢ã€‚123456789101112131415function foo() &#123; var z = "foo!";&#125;function bar() &#123; var y = "bar!"; foo();&#125;function baz() &#123; var x = "baz!"; bar();&#125;baz();æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½å°†å¼€è¾Ÿå‡ºä¸€å°å—ç§°ä¸ºå †æ ˆå¸§çš„å†…å­˜ã€‚å †æ ˆå¸§ä¸­åŒ…å«äº†å‡½æ•°è¯­å¥å½“å‰çŠ¶æ€çš„æŸäº›é‡è¦ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä»»æ„å˜é‡çš„å€¼ã€‚ä¹‹æ‰€ä»¥è¿™æ ·ï¼Œæ˜¯å› ä¸ºä¸€ä¸ªå‡½æ•°æš‚åœå»æ‰§è¡Œå¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè€Œå¦å¤–ä¸€ä¸ªå‡½æ•°è¿è¡Œç»“æŸåï¼Œå¼•æ“éœ€è¦è¿”å›åˆ°ä¹‹å‰æš‚åœæ—¶å€™çš„çŠ¶æ€ç»§ç»­æ‰§è¡Œã€‚ä½†æ˜¯å¯¹äºé€’å½’æ¥è¯´ï¼Œå¯èƒ½ä¼šç”Ÿæˆä¸Šä¸‡çš„å †æ ˆï¼Œæœ€ç»ˆä¼šå¯¼è‡´çˆ†æ ˆã€‚æˆ‘ä»¬å¸Œæœ›å†…å±‚å‡½æ•°åœ¨å‡½æ•°åº•éƒ¨è°ƒç”¨æ—¶ï¼Œå¤–éƒ¨å‡½æ•°çš„å †æ ˆç›´æ¥å¼¹å‡ºã€‚è¿™ç§æŠ€æœ¯å«åšå°¾è°ƒç”¨ä¼˜åŒ–ã€‚å‡å°‘å†…å­˜çš„æ–¹æ³•è¿˜åŒ…æ‹¬åç»§ä¼ é€’é£æ ¼ï¼ˆCPSï¼‰å’Œ Trampoline ç­‰ã€‚åˆ©ç”¨CPSå˜æ¢ï¼ŒæŠŠä»»æ„é€’å½’å‡½æ•°æ”¹å†™æˆå°¾è°ƒç”¨å½¢å¼ï¼Œä»¥ continuation é“¾çš„å½¢å¼ï¼Œå°†é€’å½’å ç”¨çš„æ ˆç©ºé—´è½¬ç§»åˆ°å †ä¸Šï¼Œé¿å…çˆ†æ ˆçš„æ‚²å‰§ã€‚ï¼ˆCPSå˜æ¢å¯ä»¥ç”¨æ¥å°†æ™®é€šé€’å½’è½¬å˜ä¸ºå°¾é€’å½’ï¼Ÿï¼Ÿï¼‰åœ¨ç¼ºä¹å°¾è°ƒç”¨ä¼˜åŒ–çš„è¯­è¨€ä¸­ï¼Œå¹¶ä¸çŸ¥æ™“å‡½æ•°ä¸ä¼šè¿”å›ï¼ŒçŠ¶æ€ã€å‚æ•°å‹æ ˆä¾æ—§ä¼šå‘ç”Ÿï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨å¼ºåˆ¶å¼¹å‡ºä¸‹ä¸€å±‚è°ƒç”¨çš„å‡½æ•°ï¼Œç¦æ­¢è§£é‡Šå™¨çš„å‹æ ˆè¡Œä¸ºï¼Œè¿™å°±æ˜¯æ‰€è°“çš„Trampolineã€‚1234567891011121314151617181920212223242526272829303132333435363738394041// æ–æ³¢é‚£å¥‘function fib(n) &#123; if (n &lt;= 1) return n; return fib( n - 2 ) + fib( n - 1 );&#125;// CPSfunction fib(n,cont = r =&gt; r) &#123; if (n &lt;= 1) return cont( n ); return fib( n - 2, n2 =&gt; fib( n - 1, n1 =&gt; cont( n2 + n1 ) ) );&#125;function trampoline(fn) &#123; return function trampolined(...args) &#123; var result = fn( ...args ); while (typeof result == "function") &#123; result = result(); &#125; return result; &#125;;&#125;// trampoline åŒ–trampoline(fib(n,cont = r =&gt; r) &#123; if (n &lt;= 1) return cont( n ); return () =&gt; fib( n - 2, n2 =&gt; fib( n - 1, n1 =&gt; cont( n2 + n1 ) ) );&#125;)åæ§½ä¹¦ä¸­è¿˜æœ‰å…¶å®ƒç« èŠ‚ï¼Œå¤§éƒ¨åˆ†å±äºå®æ“ï¼ŒæŒ‰ä¸‹ä¸è¡¨ã€‚å¯¹äº JavaScript å‡½æ•°å¼ç¼–ç¨‹å…¥é—¨ï¼Œæœ¬ä¹¦å€’æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ä¸çŸ¥é“æ˜¯å¤–å›½äººæœ¬æ¥å°±è¯´è¯å•°å—¦è¿˜æ˜¯ç¿»è¯‘çš„é—®é¢˜ï¼Œä¸­æ–‡ç‰ˆæœ‰äº›åœ°æ–¹è¯»èµ·æ¥ä¸æ˜¯å¾ˆé¡ºç•…ã€‚ä¸è¿‡ç¿»è¯‘å‘æ¥æ˜¯å‡ºåŠ›ä¸è®¨å¥½ï¼Œè¯·åŸè°…æˆ‘çš„åæ§½ï¼Œä½ ä»¬éƒ½æ˜¯æ£’æ£’çš„ï¼]]></content>
      <categories>
        <category>è¯»ä¹¦</category>
      </categories>
      <tags>
        <tag>å‡½æ•°å¼ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šä¹Œåˆä¹‹ä¼—ã€‹]]></title>
    <url>%2F%E8%AF%BB%E3%80%8A%E4%B9%8C%E5%90%88%E4%B9%8B%E4%BC%97%E3%80%8B%2F</url>
    <content type="text"><![CDATA[è¯»åæ„Ÿåœ¨è¯»ã€Šä¹Œåˆä¹‹ä¼—ã€‹çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä¼šæƒ³ï¼Œå¦‚æœä½œè€…ç”Ÿåœ¨ä¸­å›½è¯¥å¤šå¥½ï¼Œæœ‰ç€æ—¶é—´è·¨åº¦é•¿ï¼Œå†å²æ‚ ä¹…çš„ç¾¤ä½“å¯ä»¥ç ”ç©¶ï¼Œå®šä¼šè·å¾—æ„æƒ³ä¸åˆ°çš„æ”¶è·ã€‚ä¸ªäººè®¤ä¸ºæœ¬ä¹¦çš„è®ºè°ƒåŸºç¡€æ˜¯ï¼Œäººç»ˆç©¶ä¸æ˜¯ä¸€ä¸ªç†æ€§çš„äººï¼Œèƒ½å¤Ÿè¢«ç¾¤ä½“æ¥å—çš„æ„è§å¾€å¾€ä¸æ˜¯æœ€ä¼˜çš„ï¼Œè€Œæ˜¯èƒ½å¤Ÿè¢«æ™®éæ¥å—çš„ã€‚è¯­å½•ä¸ªäººæœ‰æ„è¯†çš„è¡Œä¸ºï¼Œä¼šé€æ¸è¢«ç¾¤ä½“æ— æ„è¯†è¡Œä¸ºå–ä»£ã€‚ç†æ€§åªæ˜¯è¾ƒæ™šçš„äººç±»æ‰æœ‰çš„å±æ€§ï¼Œå¹¶ä¸”è¿˜ä¸å¤Ÿå®Œç¾ï¼Œè¿˜ä¸èƒ½æ­ç¤ºæ— æ„è¯†çš„è§„å¾‹ï¼Œç†æ€§æƒ³è¦ç«™ç¨³è„šè·Ÿï¼Œè¿˜éœ€è¦æœªæ¥å¾ˆé•¿æ—¶é—´ã€‚åœ¨æˆ‘ä»¬çš„æ‰€æœ‰è¡Œä¸ºä¸­ï¼Œæ— æ„è¯†ä½œç”¨å¾ˆå¤§ï¼Œè€Œç†æ€§å´æ²¡ä»€ä¹ˆä½œç”¨ã€‚ç¾¤ä½“æ˜¯ä¸å–„äºæ¨ç†çš„ï¼Œä½†å´æ˜¯æ€¥äºé‡‡å–è¡ŒåŠ¨çš„ã€‚åˆ›é€ æ–‡æ˜ï¼Œé¢†å¯¼æ–‡æ˜çš„ï¼Œä»æ¥éƒ½ä¸æ˜¯ç¾¤ä½“ï¼Œè€Œæ˜¯å°‘æ•°çš„çŸ¥è¯†è´µæ—ã€‚ç¾¤ä½“æœ‰çš„åªæ˜¯å¼ºå¤§çš„ç ´ååŠ›ï¼Œä»–ä»¬çš„ç»Ÿæ²»æ°¸è¿œéƒ½æ˜¯ä¸€ä¸ªé‡è›®é˜¶æ®µã€‚æ–‡åŒ–çš„é«˜çº§é˜¶æ®µçš„è¡¨ç°æœ‰ç€å¤æ‚çš„å…¸ç« åˆ¶åº¦ï¼Œèƒ½å¤Ÿä»åŸå§‹çš„æœ¬èƒ½çŠ¶æ€è½¬ä¸ºæ€æƒ³çš„ç†æ€§çŠ¶æ€ã€‚æœ€å®¹æ˜“è¢«äººä»¬å®¹å¿çš„åŠæ³•ï¼Œå…¶å®æ˜¯ä¸æ€ä¹ˆæ¸…æ¥šã€ä¸å®¹æ˜“ç†è§£ï¼Œè€Œä¸”çœ‹ä¸Šå»è´Ÿæ‹…æœ€å°çš„åŠæ³•ã€‚ä¸ªäººçš„è‡ªè§‰çš„ä¸ªæ€§æ¶ˆå¤±ï¼Œå¹¶ä¸”æƒ…æ„Ÿå’Œæ€æƒ³è¦å’Œå…¶ä»–äººä¸€èµ·è½¬å‘ä¸€ä¸ªå…±åŒçš„æ–¹å‘ï¼Œè¿™æ˜¯æƒ³è¦ç»„æˆç¾¤ä½“çš„ä¸ªäººæ‰€å¿…é¡»è¡¨ç°çš„ç‰¹å¾ã€‚æ— æ„è¯†ç°è±¡ä¸ä½†å­˜åœ¨äºæœ‰æœºä½“çš„ç”Ÿæ´»ä¸­ï¼Œè€Œä¸”å­˜åœ¨äºæ™ºåŠ›æ´»åŠ¨ä¸­ï¼Œå¹¶å‘æŒ¥ç€ä¸€ç§å®Œå…¨å‹å€’æ€§çš„é‡è¦ä½œç”¨ã€‚äº‹å®ä¸Šï¼Œäººä»¬åœ¨æ™ºåŠ›ä¸Šæ˜¯æœ‰å¾ˆå¤§å·®å¼‚çš„ï¼Œä½†åœ¨æœ¬èƒ½å’Œæƒ…æ„Ÿæ–¹é¢æ˜¯å¾ˆç›¸ä¼¼çš„ã€‚åœ¨é›†ä½“çš„å¿ƒç†ä¸­ï¼Œä¸ªäººçš„æ‰æ™ºæ˜¯è¢«å‰Šå¼±çš„ï¼Œä¸ªæ€§ä¹ŸåŒæ ·è¢«å‰Šå¼±äº†ã€‚ä¹Ÿå°±æ˜¯å¼‚è´¨æ€§è¢«åŒè´¨æ€§åæ²¡ï¼Œæ— æ„è¯†çš„ç‰¹æ€§å“è´¨å æ®äº†ä¸Šé£ã€‚ç¾¤ä½“ä¸­å¯ä»¥ç´¯åŠ çš„ä¸€èˆ¬åªæœ‰æ„šè ¢è€Œä¸æ˜¯å¤©ç”Ÿçš„æ™ºæ…§ã€‚ç¾¤ä½“ä¸­çš„æ¯ä¸ªä¸ªäººåªæ˜¯æŠŠä»–ä»¬æ‹¥æœ‰çš„å…±åŒçš„å¯»å¸¸å“è´¨é›†ä¸­åœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆè¿™ä¸ªç¾¤ä½“æ‰€æ‹¥æœ‰çš„åªèƒ½æ˜¯æ˜æ˜¾çš„å¹³åº¸ï¼Œè€Œæ— æ³•åˆ›é€ å‡ºæ–°çš„ç‰¹ç‚¹ã€‚æ— æ„è¯†äººæ ¼çš„å¼ºåŠ¿ï¼Œæœ‰æ„è¯†äººæ ¼çš„æ¶ˆå¤±ï¼Œé€šè¿‡æš—ç¤ºå’Œç›¸äº’ä¼ æŸ“çš„ä½œç”¨ï¼Œäººçš„æ€æƒ³å’Œæ„Ÿæƒ…å‘ç€ä¸€ä¸ªå…±åŒçš„æ–¹å‘å‘å±•ï¼Œå¹¶ä¸”ä¼šç«‹åˆ»å°†è¿™ç§æš—ç¤ºçš„è§‚å¿µè½¬åŒ–ä¸ºè¡ŒåŠ¨ã€‚ç¾¤ä½“æ„Ÿæƒ…çš„ç‹‚æš´ï¼Œä¼šå› ä¸ºç¾¤ä½“çš„è´£ä»»æ„Ÿæ¶ˆå¤±è€Œå¾—åˆ°å¼ºåŒ–ï¼Œå°¤å…¶æ˜¯åœ¨å¼‚è´¨çš„ç¾¤ä½“ä¸­ï¼Œè€Œä¸”è¿™ä¸ªç¾¤ä½“ä¸­äººæ•°è¶Šå¤šï¼Œå°±è¶Šä¼šè¿™æ ·ã€‚ç¾¤ä½“æœ‰ç€æ˜ç¡®è®¤è¯†çš„æ„Ÿæƒ…ï¼Œå°±æ˜¯ä¸“æ¨ªå’Œåæ‰§ï¼Œç¾¤ä½“ä¸­çš„ä»–ä»¬å¾ˆå®¹æ˜“äº§ç”Ÿè¿™ç§æ„Ÿæƒ…ï¼Œè€Œä¸”ï¼Œåªè¦æœ‰äººåœ¨ä»–ä»¬ä¸­é—´ï¼Œæš—ç¤ºä»–ä»¬ï¼Œæˆ–è€…ç…½åŠ¨ä»–ä»¬çš„è¿™ç§æƒ…ç»ªï¼Œä»–ä»¬ä¼šç«‹åˆ»ä»˜è¯¸è¡ŒåŠ¨ï¼Œå°†ä¹‹å®ç°ã€‚ä¸€ç§è§‚å¿µçš„äº§ç”Ÿï¼Œä¸ç®¡å®ƒåˆšå‡ºç°æ—¶æœ‰å¤šä¹ˆé«˜æ·±å’Œä¼Ÿå¤§çš„æˆåˆ†ï¼Œä¸ç®¡å®ƒå¤šä¹ˆä¼Ÿå¤§ï¼Œä»…ä»…æ˜¯å› ä¸ºå®ƒè¿›å…¥äº†ç¾¤ä½“è¿™ä¸ªç†ç”±ï¼Œå¤„åœ¨ç¾¤ä½“ä½ä¸‹æ™ºåŠ›çš„èŒƒå›´ï¼Œå¹¶å¯¹ç¾¤ä½“äº§ç”Ÿçš„å½±å“ï¼Œå°±è®©è¿™ç§è§‚å¿µçš„ä¼Ÿå¤§æˆåˆ†ä¸§å¤±æ®†å°½ã€‚ä¸€ç§è§‚å¿µï¼Œåªæœ‰ç»è¿‡å½»åº•çš„æ”¹é€ ï¼Œå¹¶è¿›å…¥æ— æ„è¯†é¢†åŸŸï¼Œå˜æˆä¸€ç§æƒ…æ„Ÿï¼Œæ‰èƒ½è¢«ç¾¤ä½“æ¥å—ã€‚ä»»ä½•æ¨ç†ï¼Œä¸ç®¡æ˜¯é«˜çº§çš„æ¨ç†ï¼Œè¿˜æ˜¯ç¾¤ä½“çš„æ‹™åŠ£çš„æ¨ç†ï¼Œéƒ½éœ€è¦å€ŸåŠ©ä»–ä»¬å¤´è„‘ä¸­çš„è§‚å¿µï¼Œä½†æ˜¯æœ‰æ‰€å·®åˆ«çš„æ˜¯ï¼Œç¾¤ä½“ç”¨æ¥æ¨ç†çš„å„ç§è§‚å¿µä¹‹é—´ï¼Œæ²¡æœ‰é€»è¾‘æ€§ï¼Œåªæœ‰è¡¨é¢çš„è¿ç»­æ€§å’Œç›¸ä¼¼æ€§ã€‚æŠŠç¾¤ä½“ä¸åŒçš„äº‹ç‰©ï¼Œåªåœ¨è¡¨é¢ä¸Šæœ‰ä¸€äº›ç›¸ä¼¼çš„äº‹ç‰©æ··åˆåœ¨ä¸€èµ·ï¼ŒåŒæ—¶è®©å…·ä½“çš„äº‹ç‰©æ™®éåŒ–ï¼Œè¿™å°±æ˜¯ç¾¤ä½“æ¨ç†çš„ä¸€ä¸ªç‰¹ç‚¹ã€‚å¯¹äºæ™ºæ…§å½¢è±¡æ€ç»´çš„ç¾¤ä½“æ¥è¯´ï¼Œå½¢è±¡çš„é‡è¦æ€§å¯æƒ³è€ŒçŸ¥ï¼Œä»–ä»¬ä¸€èˆ¬ä¹Ÿåªèƒ½è¢«å½¢è±¡æ‰“åŠ¨ã€‚è¿™äº›å½¢è±¡å¯ä»¥å¸å¼•æˆ–è€…æå“ç¾¤ä½“ï¼Œè‡ªç„¶è€Œç„¶å°±æˆä¸ºç¾¤ä½“è¡ŒåŠ¨çš„æœ€ç›´æ¥åŠ¨æœºã€‚å¯ä»¥å½±å“æ°‘ä¼—æƒ³è±¡åŠ›çš„ï¼Œæ˜¯äº‹ä»¶å‘ç”Ÿä»¥åŠå¼•èµ·äººä»¬æ³¨æ„åŠ›çš„æ–¹å¼ï¼Œå¹¶ä¸ä»…ä»…æ˜¯äº‹ä»¶çš„çœŸå®æœ¬èº«ã€‚ä¸€åˆ‡å®—æ•™çš„åˆ›ç«‹è€…ï¼Œæˆ–è€…æŸä¸ªæ”¿æ²»ä¿¡æ¡çš„åˆ›ç«‹è€…ï¼Œä»–ä»¬ä¹‹æ‰€ä»¥èƒ½å¤Ÿç«™ç¨³è„šè·Ÿï¼Œå–å†³äºä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ä»–ä»¬éƒ½æˆåŠŸåœ°æ¿€èµ·äº†ç¾¤ä¼—é‚£ç§æƒ³å…¥ééçš„æ„Ÿæƒ…ã€‚åœ¨æ„Ÿæƒ…ä¸ç†æ€§çš„å†²çªä¸­ï¼Œæ„Ÿæƒ…ä»æœªå¤±è´¥è¿‡ã€‚æ˜¯æ—¶é—´æŠŠå„ç§è§‚å¿µã€ä¿¡ä»°ã€æ€æƒ³ç­‰ç¢ç‰‡é›†èšèµ·æ¥ï¼Œå½¢æˆè¿™ä¸ªæ—¶ä»£çš„æ€æƒ³å’Œè§‚å¿µã€‚å¯ä»¥è¯´ï¼Œæ€æƒ³ä¸è§‚å¿µçš„å½¢æˆï¼Œæ ¹æ¤äºæ¼«é•¿çš„å²æœˆçš„ç§¯ç´¯ï¼Œå¯ä¸åƒæ·éª°å­é‚£æ ·å‡­è¿æ°”ã€‚å„ä¸ªä¸åŒæ°‘æ—çš„è¡ŒåŠ¨ï¼Œæ”¯é…ä»–ä»¬çš„æ˜¯è‡ªå·±çš„æ€§æ ¼ï¼Œä½†å‡¡ä¸è¿™ç§æ€§æ ¼ä¸å»åˆçš„ï¼Œå³ä½¿æ‹¿æ¥äº†ï¼Œä¹Ÿä¸è¿‡æ˜¯æš‚æ—¶å€Ÿæ¥çš„ï¼Œåªèƒ½ä½œä¸ºè¡¨é¢çš„ä¼ªè£…ã€‚å›½å®¶ç”¨æ•™è‚²ã€æ•™ç§‘ä¹¦ï¼Œè®©å¾ˆå¤šäººå…·æœ‰äº†é«˜æ–‡å‡­ï¼Œç„¶è€Œå›½å®¶åªèƒ½åˆ©ç”¨è¿™éƒ¨åˆ†äººä¸­å¾ˆå°çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆå¦ä¸€éƒ¨åˆ†åªèƒ½æ— äº‹å¯åšã€‚æ‰€ä»¥ï¼Œå·¥ä½œåªèƒ½ç»™æœ€å…ˆæ¥çš„äººï¼Œåé¢å‰©ä¸‹çš„äººå˜æˆä¸ºäº†æ•Œäººã€‚ä¸€åˆ‡æ–‡æ˜å­˜åœ¨çš„ä¸»è¦åŠ¨åŠ›å‘æ¥ä¸æ˜¯ç†æ€§ï¼Œä¹Ÿå¯ä»¥è¯´ï¼Œå°½ç®¡ç†æ€§æ˜¯å­˜åœ¨çš„ï¼Œä½†æ–‡æ˜çš„åŠ¨åŠ›å§‹ç»ˆè¿˜æ˜¯å„ç§æ„Ÿæƒ…ï¼Œè¿™äº›æ„Ÿæƒ…åŒ…å«æœ‰å°Šä¸¥ã€è‡ªæˆ‘ç‰ºç‰²ã€å®—æ•™ä¿¡ä»°ã€çˆ±å›½ä¸»ä¹‰ç²¾ç¥å’Œå¯¹äºè£èª‰çš„çƒ­çˆ±ã€‚è®©æŸç§è§‚å¿µè¿›å…¥ç¾¤ä¼—çš„å¤´è„‘ï¼Œæœ€å¯é æœ€æœ‰æ•ˆçš„åŠæ³•ï¼Œå°±æ˜¯åšå‡ºæ–­è¨€ï¼Œå¹¶ä¸”ç®€æ´æœ‰åŠ›ï¼Œä¸ç”¨ç†ç¬ä»»ä½•çš„è¯æ®å’Œæ¨ç†ã€‚åˆ©ç”¨æ–­è¨€ã€é‡å¤å’Œä¼ æŸ“è€Œè¿›è¡Œæ™®åŠçš„è§‚å¿µï¼Œå€ŸåŠ©ç¯å¢ƒå¾—åˆ°äº†æœ€å¤§çš„å¨åŠ›ï¼Œç„¶åå®ƒä»¬å…·æœ‰äº†ä¸€ç§ç¥å¥‡çš„åŠ›é‡ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬ç»å¸¸è¯´çš„åæœ›ã€‚æ²¡æœ‰æˆåŠŸé™ªä¼´çš„åæœ›ï¼Œæ˜¯å¾ˆå®¹æ˜“åœ¨æçŸ­çš„æ—¶é—´é‡Œå°±èµ°å‘æ¶ˆå¤±çš„ç»“å±€çš„ã€‚æ‰€æœ‰çš„æ™®éçš„ä¿¡å¿µï¼Œéƒ½æ˜¯è™šæ„çš„ï¼Œå®ƒèƒ½å¤Ÿç”Ÿå­˜çš„å”¯ä¸€æ¡ä»¶ï¼Œå°±æ˜¯ä¸è¦å»å®¡æŸ¥å®ƒã€‚ç¾¤ä½“çš„å¤´è„‘ä¸­ï¼Œä¸€æ—¦æœ‰æ–°çš„æ•™æ¡ç”Ÿæ ¹ï¼Œé‚£ä¹ˆè¿™äº›æ•™æ¡ä½œä¸ºæºæ³‰ï¼Œä¼šæŒç»­é¼“èˆäººå¿ƒï¼Œå¹¶ä¸”ä¼šäº§ç”Ÿå‡ºå„ç§å„æ ·çš„åˆ¶åº¦ã€ç”Ÿæ´»æ–¹å¼ä»¥åŠè‰ºæœ¯ã€‚äººä»¬å¤„äºè¿™æ ·çš„ç¯å¢ƒä¸­ï¼Œå°±ä¼šè¢«å®ƒç»å¯¹åœ°æ§åˆ¶ã€‚èƒ½å¤Ÿå¼•å¯¼æ„è§çš„åŠ›é‡æ˜¯ä¸å­˜åœ¨çš„ï¼Œå†åŠ ä¸Šæ™®éä¿¡ä»°çš„ä¸æ–­æ¶ˆäº¡ï¼Œäº§ç”Ÿçš„å”¯ä¸€ç»“æœå°±æ˜¯ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆç§©åºï¼Œæ€»ä¼šå­˜åœ¨ç€å®Œå…¨ç›¸åçš„æ„è§ã€‚å¹¶ä¸”è®©ç¾¤ä½“äº§ç”Ÿä¸€ç§æ€åº¦ï¼Œå°±æ˜¯åªè¦ä¸æ˜¯ç›´æ¥è§¦åŠä»–ä»¬çš„åˆ©ç›Šï¼Œä»–ä»¬å°±ä¸ä¼šå…³å¿ƒã€‚å› ä¸ºè®¨è®ºå’Œåˆ†æï¼Œæ‰€æœ‰çš„æ„è§éƒ½æ²¡æœ‰äº†åæœ›ã€‚æ„è§çš„ç‰¹å¾é€€åŒ–å¾—å¾ˆå¿«ï¼ŒæŒç»­çš„æ—¶é—´ä¹Ÿéå¸¸çŸ­æš‚ï¼Œæˆ‘ä»¬çš„çƒ­æƒ…ä¹Ÿå°±å¾ˆéš¾è¢«å”¤é†’ã€‚ç°ä»£äººä¹Ÿå¼€å§‹å˜å¾—è¶Šå‘éº»æœ¨ä¸ä»ã€‚ä¸€ç§æ–‡æ˜ï¼Œå¦‚æœä½¿å¾—ç¾¤ä¼—å æ®äº†ä¸Šé£ï¼Œé‚£ä¹ˆå®ƒç¦»æ¶ˆäº¡ä¹Ÿå°±ä¸è¿œäº†ã€‚å¦‚æœéè¦æ‰¾ä¸€äº›äº‹å»å»¶ç¼“å®ƒçš„æ¯ç­ï¼Œé‚£å°±åªå‰©ç¾¤ä¼—æä¸ç¨³å®šçš„æ„è§äº†ï¼Œè¿˜æœ‰ç¾¤ä¼—å¯¹æ‰€æœ‰æ™®éä¿¡ä»°æ‰€è¡¨ç°å‡ºçš„éº»æœ¨ä¸ä»ã€‚ç¾¤ä½“æ‰€æ‹¥æœ‰çš„çŠ¶æ€ï¼Œæˆ–è€…è¯´æ”¯é…ç¾¤ä½“çš„é‚£ç§åŠ›é‡éƒ½ç±»ä¼¼äºä¸€ç§é‡è›®çš„çŠ¶æ€ï¼Œæˆ–è€…å¯ä»¥ç†è§£ä¸ºåƒè¿™ç§é‡è›®çŠ¶æ€çš„ä¸€ç§å›å½’ã€‚ç§æ—éœ€è¦çš„æ˜¯è·å¾—ç¨³å®šç»“æ„çš„é›†ä½“ç²¾ç¥ï¼Œåªæœ‰è¿™æ ·ï¼Œç§æ—æ‰ä¼šé€æ¸æ‘†è„±é‚£ç§ç¼ºä¹æ€è€ƒçš„ç¾¤ä½“åŠ›é‡ï¼Œè¿›è€Œèµ°å‡ºé‡è›®çŠ¶æ€ã€‚å¤è€çš„ç†æƒ³ä¸€æ—¦æ¶ˆå¤±ï¼Œç§æ—çš„æ‰åä¹Ÿå°±æ¶ˆå¤±äº†ã€‚å®ƒå›åˆ°äº†åŸå§‹çŠ¶æ€ï¼Œå˜æˆä¸€ç¾¤ç‹¬ç«‹çš„ä¸ªä½“ï¼Œæˆä¸ºä¹Œåˆä¹‹ä¼—ã€‚å®ƒæ²¡æœ‰åŒä¸€æ€§ï¼Œæ²¡æœ‰æœªæ¥ï¼Œå®ƒæ‰€æ‹¥æœ‰çš„ç‰¹æ€§åªæ˜¯ä¹Œåˆä¹‹ä¼—ä¸€æ—¶çš„ç‰¹ç‚¹ã€‚å®ƒçš„æ–‡æ˜çš„ç¨³å®šæ€§å·²ç»æ²¡æœ‰äº†ï¼Œæ¯«æ— åŠæ³•åœ°éšæ³¢é€æµã€‚è‡³ä¸Šçš„æƒåŠ›æ˜¯æ°‘ä¼—ï¼Œç››è¡Œçš„æ˜¯é‡è›®çš„é£æ°”ã€‚æ–‡æ˜å¯èƒ½ä¾æ—§æ¯”è¾ƒç²¾å½©ï¼Œå› ä¸ºå†å²æ‚ ä¹…ï¼Œæ–‡æ˜çš„å¤–è¡¨ä¾æ—§å­˜åœ¨ï¼Œä½†æ˜¯å®ƒå·²ç»æ˜¯å°†è¦å€¾å€’çš„å¤§å¦ï¼Œæ‘‡æ‘‡æ¬²å ï¼Œæ²¡æœ‰æ”¯æ’‘ï¼Œåªç­‰é£æš´æ¥ä¸´ï¼Œå®ƒå°±é©¬ä¸Šå€¾å€’ã€‚ä¸€ä¸ªæ°‘æ—çš„ç”Ÿå‘½å¾ªç¯ï¼Œå°±æ˜¯åœ¨è¿½æ±‚ç†æƒ³ä¸­ï¼Œä»é‡è›®åˆ°æ–‡æ˜ï¼Œç„¶åï¼Œç†æƒ³æ²¡æœ‰äº†ä¼˜åŠ¿ï¼Œä¾¿ä¼šèµ°å‘è¡°è½ï¼Œç„¶åæ­»äº¡ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦</category>
      </categories>
      <tags>
        <tag>ä¹Œåˆä¹‹ä¼—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘The story of a V8 performance cliff in React]]></title>
    <url>%2F%E3%80%90%E8%AF%91%E3%80%91The-story-of-a-V8-performance-cliff-in-React%2F</url>
    <content type="text"><![CDATA[å‰è¨€æœ¬æ–‡æ˜¯æ ¹æ®è‡ªå·±çš„ç†è§£ç¿»è¯‘è€Œæ¥ï¼Œå¦‚æœ‰ç–‘æƒ‘å¯æŸ¥çœ‹åŸæ–‡ The story of a V8 performance cliff in Reactã€‚æœ¬æ¬¡æš‚å®šç¿»è¯‘ä¸‰ç¯‡æ–‡ç« ï¼šJavaScript engine fundamentals: Shapes and Inline Caches(Published 14th June 2018)JavaScript engine fundamentals: optimizing prototypes(Published 16th August 2018)The story of a V8 performance cliff in React(Published 28 August 2019)JavaScript typesåœ¨ JavaScript ä¸­ï¼Œå€¼æœ‰ 8 æ€»ç±»å‹ï¼ˆå½“å‰ï¼‰ï¼šNumberï¼ŒStringï¼ŒSymbolï¼ŒBigIntï¼ŒBooleanï¼ŒUndefinedï¼ŒNullï¼ŒObjectã€‚é™¤äº†ä¸€ä¸ªæ˜æ˜¾çš„ä¾‹å¤–ï¼Œè¿™äº›ç±»å‹éƒ½å¯ä»¥ç”¨ typeof ç›´æ¥æŸ¥çœ‹ã€‚12345678910111213141516typeof 42;// â†’ 'number'typeof 'foo';// â†’ 'string'typeof Symbol('bar');// â†’ 'symbol'typeof 42n;// â†’ 'bigint'typeof true;// â†’ 'boolean'typeof undefined;// â†’ 'undefined'typeof null;// â†’ 'object' ğŸ¤”typeof &#123; x: 42 &#125;;// â†’ 'object'typeof null è¿”å›çš„æ˜¯ &#39;object&#39;ï¼Œè€Œä¸æ˜¯ &#39;null&#39;ï¼Œè¦äº†è§£ä¸ºä»€ä¹ˆï¼Œé¦–å…ˆè¦æŠŠæ‰€æœ‰çš„ JavaScript ç±»å‹åˆ†æˆä¸¤ç»„ï¼šobjects(å³ï¼Œå¯¹è±¡ç±»å‹)primitives(å³ï¼Œéå¯¹è±¡ç±»å‹)ç…§æ­¤æ¥è¯´ï¼Œnull è¡¨ç¤ºã€Œæ²¡æœ‰å¯¹è±¡ã€ï¼Œè€Œ undefined è¡¨ç¤º ã€Œæ²¡æœ‰å€¼ã€ã€‚æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼ŒBrendan Eich åœ¨è®¾è®¡ JavaScript æ—¶ï¼Œå—åˆ° Java çš„å½±å“ï¼Œä½¿å¾—å³æ‰‹è¾¹çš„å€¼æ‰§è¡Œ typeof åéƒ½è¿”å› objectã€‚å› æ­¤ï¼Œå³ä¾¿è§„èŒƒé‡Œæœ‰ Null ç±»å‹ï¼Œtypeof null === &#39;object&#39; ä¾ç„¶æˆç«‹ã€‚Value representationJavaScript å¼•æ“èƒ½å¤Ÿåœ¨å†…å­˜ä¸­è¡¨ç¤ºä»»æ„çš„ JavaScript å€¼ã€‚ç„¶è€Œï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒJavaScript å¼•æ“åœ¨å†…å­˜ä¸­å€¼ç±»å‹çš„è¡¨ç°å½¢å¼æ˜¯ä¸åŒäº JavaScript ä¸­çš„ç±»å‹æè¿°ã€‚ä¾‹å¦‚ï¼Œ42ï¼Œåœ¨ JavaScript ä¸­æ˜¯ number ç±»å‹ã€‚12typeof 42;// â†’ 'number'åœ¨å†…å­˜ä¸­æœ‰å¥½å¤šç§æ–¹å¼è¡¨ç¤ºæ•´æ•°ï¼Œä¾‹å¦‚ 42:representationbitstwoâ€™s complement 8-bit0010 1010twoâ€™s complement 32-bit0000 0000 0000 0000 0000 0000 0010 1010packed binary-coded decimal (BCD)0100 001032-bit IEEE-754 floating-point0100 0010 0010 1000 0000 0000 0000 000064-bit IEEE-754 floating-point0100 0000 0100 0101 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000ECMAScript å°†æ•°å­—æ ‡å‡†åŒ–ä¸º 64 ä½æµ®ç‚¹å€¼ï¼Œä¹Ÿç§°ä¸ºåŒç²¾åº¦æµ®ç‚¹æˆ– Float64ã€‚ä½†æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ JavaScript å¼•æ“æ€»æ˜¯ä»¥ Float64 çš„å½¢å¼å­˜å‚¨æ•°å­— â€”â€” è¿™ä¹ˆåšä¼šå¾ˆä½æ•ˆã€‚å¼•æ“ä¼šé€‰æ‹©å…¶å®ƒçš„å†…éƒ¨è¡¨ç°å½¢å¼ï¼Œé™¤éè§‚æµ‹åˆ°çš„è¡Œä¸ºå®Œå…¨åŒ¹é… Float64ã€‚åœ¨çœŸå®çš„ JavaScript åº”ç”¨ä¸­ï¼Œå¤§å¤šæ•°æ•°å­—éƒ½æ˜¯åˆæ³•çš„ ECMAScript æ•°ç»„ç´¢å¼•ï¼Œå³ï¼Œå±äº 0 ~ 2Â³Â²âˆ’2 èŒƒå›´å†…çš„æ•´æ•°ã€‚123array[0]; // Smallest possible array index.array[42];array[2**32-2]; // Greatest possible array index.JavaScript å¼•æ“ä¼šä¸ºæ•°å­—é€‰æ‹©æœ€ä¼˜å­˜å‚¨çš„è¡¨è¾¾å½¢å¼ä»¥æ­¤ä¼˜åŒ–æ•°ç»„å…ƒç´ çš„è®¿é—®æ•ˆç‡ã€‚å¯¹äºå¤„ç†å™¨çš„å†…å­˜è®¿é—®æ“ä½œï¼Œæ•°ç»„ç´¢å¼•å¿…é¡»æ˜¯äºŒè¿›åˆ¶è¡¥ç çš„å½¢å¼ã€‚ç”¨ Float64 è¡¨ç¤ºæ•°ç»„æ˜¯ä¸€ç§å¾ˆè´¹æ€§èƒ½çš„è¡Œä¸ºï¼Œå› ä¸ºæ¯æ¬¡è®¿é—®æ•°ç»„å…ƒç´ å¼•æ“éƒ½éœ€è¦åœ¨ Float64 å’ŒäºŒè¿›åˆ¶è¡¥ç ä¹‹é—´è½¬æ¢ã€‚32 ä½çš„äºŒè¿›åˆ¶è¡¥ç è¡¨è¾¾å½¢å¼å¯¹æ•°ç»„æ“ä½œæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚é€šå¸¸æ¥è¯´ï¼Œå¤„ç†å™¨æ‰§è¡Œæ•´å‹æ“ä½œæ¯”æ‰§è¡Œæµ®ç‚¹å‹æ“ä½œè¦å¿«å¾—å¤šã€‚æ‰€ä»¥è¯´ï¼Œä¸‹é¢çš„ä¾‹å­ï¼Œç¬¬ä¸€ä¸ªå¾ªç¯æ¯”ç¬¬äºŒä¸ªå¾ªç¯å¿«ä¸¤å€ã€‚1234567for (let i = 0; i &lt; 1000; ++i) &#123; // fast ğŸš€&#125;for (let i = 0.1; i &lt; 1000.1; ++i) &#123; // slow ğŸŒ&#125;æ“ä½œç¬¦ä¹Ÿæ˜¯ä¸€æ ·ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæ¨¡è¿ç®—ç¬¦çš„æ€§èƒ½å–å†³äºå¤„ç†çš„æ˜¯å¦æ˜¯æ•´æ•°ã€‚123const remainder = value % divisor;// Fast ğŸš€ if `value` and `divisor` are represented as integers,// slow ğŸŒ otherwise.å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•´æ•°çš„å½¢å¼ï¼ŒCPU å°±å¯ä»¥é«˜æ•ˆåœ°è®¡ç®—å‡ºç»“æœã€‚å¦‚æœé™¤æ•°æ˜¯ 2 çš„å€æ•°ï¼ŒV8 è¿˜ä¼šæœ‰é¢å¤–çš„æ·å¾„ã€‚å¯¹äºå€¼æ˜¯æµ®ç‚¹å‹çš„å½¢å¼ï¼Œè®¡ç®—è¿‡ç¨‹ä¼šå˜å¾—å¤æ‚è€—æ—¶ã€‚å› ä¸ºæ•´å‹æ“ä½œçš„æ‰§è¡Œé€Ÿåº¦é€šå¸¸æ¯”æµ®ç‚¹å‹è¦å¿«å¾ˆå¤šï¼Œæ‰€ä»¥ï¼Œå¼•æ“å°±åº”è¯¥ä½¿ç”¨äºŒè¿›åˆ¶è¡¥ç æ¥è¡¨ç¤ºæ‰€æœ‰çš„æ•´å‹å’Œæ•´å‹æ“ä½œçš„ç»“æœã€‚é—æ†¾çš„æ˜¯ï¼Œé‚£æ˜¯æœ‰æ‚–äº ECMAScript è§„èŒƒçš„ï¼ECMAScript é‡‡ç”¨äº† Float64ï¼ŒæŸäº›æ•´æ•°è¿ç®—å®é™…ä¸Šäº§ç”Ÿçš„æ˜¯æµ®ç‚¹å‹ã€‚åœ¨ä¸‹é¢è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹äºèƒ½å¤Ÿäº§ç”Ÿæ­£ç¡®çš„ç»“æœå¾ˆé‡è¦ã€‚12345678910111213141516171819// Float64 has a safe integer range of 53 bits. Beyond that range,// you must lose precision.2**53 === 2**53+1;// â†’ true// Float64 supports negative zeros, so -1 * 0 must be -0, but// thereâ€™s no way to represent negative zero in twoâ€™s complement.-1*0 === -0;// â†’ true// Float64 has infinities which can be produced through division// by zero.1/0 === Infinity;// â†’ true-1/0 === -Infinity;// â†’ true// Float64 also has NaNs.0/0 === NaN;å·¦è¾¹çš„å€¼éƒ½æ˜¯æ•´å‹ï¼Œè€Œå³è¾¹çš„å´æ˜¯æµ®ç‚¹å‹ã€‚ä»¥ä¸Šçš„æ“ä½œåœ¨ä½¿ç”¨ 32 ä½äºŒè¿›åˆ¶è¡¥ç çš„å½¢å¼æ˜¯æ²¡æ³•æ­£ç¡®æ‰§è¡Œçš„ã€‚JavaScript å¼•æ“å¿…é¡»ç¡®ä¿æ•´å‹æ“ä½œè¢«åˆç†åœ°å¤„ç†ä»¥ç”Ÿæˆæƒ³è¦çš„ Float64 ç»“æœã€‚å¯¹äºåœ¨ 31 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´å†…çš„å°æ•´æ•°ï¼ŒV8 æœ‰ç‰¹æ®Šçš„è¡¨ç¤ºå½¢å¼ï¼Œç§°ä¸º Smiã€‚å¯¹äºé Smi çš„æ•°å€¼ä¼šè¢«è¡¨ç¤ºä¸º HeapObjectï¼Œå®ƒæ˜¯å†…å­˜ä¸­æŸäº›å®ä½“çš„åœ°å€ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ç§ç‰¹æ®Šçš„ HeapObjectï¼Œå³æ‰€è°“çš„ HeapNumberï¼Œæ¥è¡¨ç¤ºè¶…å‡º Smi èŒƒå›´çš„æ•°å­—ã€‚123456789101112 -Infinity // HeapNumber-(2**30)-1 // HeapNumber -(2**30) // Smi -42 // Smi -0 // HeapNumber 0 // Smi 4.2 // HeapNumber 42 // Smi 2**30-1 // Smi 2**30 // HeapNumber Infinity // HeapNumber NaN // HeapNumberå¦‚ä¸Šæ‰€ç¤ºï¼ŒæŸäº›æ•°å­—è¢«è¡¨ç¤ºä¸º Smiï¼Œå…¶å®ƒæ•°å­—è¢«è¡¨ç¤ºä¸º HeapNumberã€‚V8 å¯¹ Smi ä¸“é—¨ä¼˜åŒ–ï¼Œå› ä¸ºåœ¨çœŸå®çš„ JavaScript ç¼–ç¨‹ä¸­ï¼Œå°çš„æ•´æ•°æ˜¯éå¸¸æ™®éçš„ã€‚Smi æ²¡å¿…è¦åœ¨å†…å­˜ä¸­åˆ†é…ä¸“ç”¨çš„å®ä½“ï¼Œè€Œä¸”å¯ä»¥ç´ å¿«é€Ÿåœ°æ•´å‹æ“ä½œã€‚Smi vs. HeapNumber vs. MutableHeapNumberæœ‰ä»¥ä¸‹å¯¹è±¡ï¼š1234const o = &#123; x: 42, // Smi y: 4.2, // HeapNumber&#125;;x çš„å€¼ 42 è¢«ç¼–ç¨‹ä¸º Smiï¼Œå› æ­¤å®ƒè¢«å­˜å‚¨åœ¨å¯¹è±¡é‡Œã€‚å¦ä¸€æ–¹é¢å€¼ 4.2 éœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„å®ä¾‹ï¼ˆç©ºé—´ï¼‰æ¥ä¿å­˜è¿™ä¸ªå€¼ï¼Œå¹¶ä¸”è¿™ä¸ªå¯¹è±¡ä¼šæŒ‡å‘è¿™ä¸ªå®ä½“ã€‚è¿è¡Œä»¥ä¸‹ JavaScript ä»£ç ç‰‡æ®µï¼š1234o.x += 10;// â†’ o.x is now 52o.y += 1;// â†’ o.y is now 5.2è¿™ç§æƒ…å†µä¸‹ï¼Œx çš„å€¼å¯ä»¥å°±åœ°æ›´æ–°ï¼Œå› ä¸ºæ–°çš„å€¼ 52 ä¹Ÿåœ¨ Smi çš„èŒƒå›´å†…ã€‚ç„¶è€Œï¼Œæ–°çš„å€¼ y=5.2 ä¸åœ¨ Smi èŒƒå›´å†…ä¸”ä¸åŒäºä¹‹å‰çš„å€¼ 4.2ï¼Œå› æ­¤ V8 ä¸º y é‡æ–°åˆ†é…äº†æ–°çš„ HeapNumber å®ä½“ã€‚HeapNumber æ˜¯ä¸å¯å˜çš„ï¼Œå®ƒä½¿å¾—æŸäº›ä¼˜åŒ–æˆä¸ºå¯èƒ½ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æŠŠ y èµ‹å€¼ç»™ xï¼š12o.x = o.y;// â†’ o.x is now 5.2æˆ‘ä»¬åªéœ€è¦æŠŠå®ƒè¿æ¥åˆ°åŒä¸€ä¸ª HeapNumber ä¸Šè€Œä¸æ˜¯é‡æ–°åˆ†é…ä¸€ä¸ªæ–°çš„å®ä½“ï¼ˆç©ºé—´ï¼‰ã€‚HeapNumber ä¸å¯å˜ä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼Œå¦‚æœæ›´æ–°çš„å€¼ç»å¸¸ä¸åœ¨ Smi çš„èŒƒå›´å†…ï¼Œå®ƒå°±ä¼šå˜æ…¢ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š1234567// Create a `HeapNumber` instance.const o = &#123; x: 0.1 &#125;;for (let i = 0; i &lt; 5; ++i) &#123; // Create an additional `HeapNumber` instance. o.x += 1;&#125;ç¬¬ä¸€è¡Œåˆ›å»ºäº†ä¸€ä¸ª HeapNumber å®ä¾‹ï¼Œå…¶åˆå§‹å€¼ä¸º 0.1ã€‚åœ¨å¾ªç¯ä½“ä¸­å€¼ä» 1.1ï¼Œ2.1ï¼Œ3.1ï¼Œ4.2 å˜åˆ° 5.1ï¼Œä¸€å…±åˆ›å»ºäº† 6 ä¸ª HeapNumber å®ä¾‹ï¼Œå…¶ä¸­ 5 ä¸ªä¼šåœ¨å¾ªç¯ç»“æŸåå˜æ²¡æœ‰ä»»ä½•ç”¨å¤„ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œä½œä¸ºä¼˜åŒ–ï¼ŒV8 æä¾›äº†å°±åœ°æ›´æ–°é Smi æ•°å€¼çš„æ–¹æ³•ã€‚å½“ä¸€ä¸ªå­—æ®µå¯¹åº”ç€é Smi çš„æ•°å€¼ï¼ŒV8 ä¼šåœ¨ shape ä¸Šå°†è¿™ä¸ªå­—æ®µæ ‡è®°ä¸º Doubleï¼Œå¹¶åˆ†é…ä¸€ä¸ªä¿å­˜ Float64 çš„ MutableHeapNumber å®ä½“ã€‚å½“å­—æ®µé‡Œçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒV8 ä¸å¿…åˆ†é…ä¸€ä¸ªæ–°çš„ HeapNumberï¼Œè€Œæ˜¯åœ¨ MutableHeapNumber å®ä½“ä¸­å°±åœ°æ›´æ–°ã€‚ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMutableHeapNumber ä¸­çš„å€¼æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œæ‰€ä»¥å€¼ä¸åº”è¯¥ä¼ æ¥ä¼ å»çš„ã€‚ä¾‹å¦‚ï¼Œä½ æŠŠ o.x èµ‹å€¼ç»™å˜é‡ yï¼Œä½ ä¸å¸Œæœ› y ä¼šéšç€ o.x çš„æ”¹å˜è€Œæ”¹å˜ï¼æ‰€ä»¥åœ¨ç»™ y èµ‹å€¼å‰ï¼Œå¿…é¡»å°† o.x çš„å€¼é‡æ–°åŒ…è£…æˆ HeapNumberã€‚å¯¹äºæµ®ç‚¹å‹ï¼ŒV8 å·²ç»é»˜é»˜åœ°åŒ…è£…äº†ä¸€ä¸‹ã€‚ä½†æ˜¯ï¼Œå¯¹äºå°çš„æ•´æ•°ä¹Ÿé‡‡ç”¨å’Œ MutableHeapNumber ç›¸åŒçš„æ–¹æ³•ï¼Œå°±ä¼šæ˜¾å¾—æµªè´¹ï¼Œå› ä¸º Smi æœ¬å°±æ˜¯ä¸€ç§æ›´é«˜æ•ˆçš„è¡¨ç°å½¢å¼ã€‚12345const object = &#123; x: 1 &#125;;// â†’ no â€œboxingâ€ for `x` in objectobject.x += 1;// â†’ update the value of `x` inside objectä¸ºäº†é¿å…ä½æ•ˆç‡ï¼Œæˆ‘ä»¬ä¼šåœ¨ shape ä¸Šä¸ºå°æ•´æ•°å¯¹åº”çš„å­—æ®µä¸Šæ ‡è®° Smiï¼Œå¹¶ä¸”ä¼šåŸåœ°æ›´æ–°æ•°å€¼ï¼Œåªè¦è¿™ä¸ªæ•°å€¼åœ¨ Smi èŒƒå›´å†…ã€‚Shape deprecations and migrationså¦‚æœä¸€ä¸ªå­—æ®µé‡ŒåŒ…å«çš„å€¼åœ¨ Smi èŒƒå›´å†…ï¼Œä¹‹ååˆä¸å±äº Smi èŒƒå›´ï¼Œè¿™ä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿç°æœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬çš„ x å±æ€§å€¼éƒ½æ˜¯ Smi è¡¨ç¤ºå½¢å¼ã€‚12345678const a = &#123; x: 1 &#125;;const b = &#123; x: 2 &#125;;// â†’ objects have `x` as `Smi` field nowb.x = 0.2;// â†’ `b.x` is now represented as a `Double`y = a.x;è¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æŒ‡å‘åŒä¸€ä¸ª shapeï¼Œx å±æ€§ç‰¹æ€§ Representation è¢«æ ‡è®°ä¸º Smiï¼šå½“ b.x å˜æˆ Double å½¢å¼ï¼ŒV8 ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ shapeï¼Œå±æ€§ x çš„ Representation è¢«æ ‡è®°ä¸º Double ä¸”æŒ‡å‘ä¹‹å‰çš„ç©º shapeã€‚V8 ä¹Ÿä¼šä¸ºå±æ€§ x åˆ†é…ä¸€ä¸ª MutableHeapNumber å®ä½“ç”¨æ¥ä¿å­˜å€¼ 0.2ã€‚ç„¶åè®©å¯¹è±¡ b æŒ‡å‘æ–°åˆ›å»ºçš„ shape å¹¶ä¸”å†…éƒ¨åç§»é‡ä¸º 0 çš„ä½ç½®æŒ‡å‘åˆšåˆ†é…çš„ MutableHeapNumber å®ä½“ã€‚æœ€åï¼Œæˆ‘ä»¬æŠŠæ—§çš„ shape æ ‡è®°ä¸ºåºŸå¼ƒçš„ï¼Œå¹¶æ–­å¼€ä¸è¿‡æ¸¡æ ‘ï¼ˆtransition treeï¼‰çš„é“¾æ¥ã€‚è¿™å°±å®Œæˆäº†ä»ç©º shape åˆ°æ–° shape çš„è¿‡æ¸¡ã€‚æˆ‘ä»¬ä¸èƒ½åŒæ—¶å®Œå…¨åˆ é™¤æ—§ shapeï¼Œå› ä¸ºå¯¹è±¡ a è¿˜åœ¨ä½¿ç”¨ï¼Œè€Œä¸”çŸ­æ—¶é—´æ‰¾åˆ°æ‰€æœ‰é“¾æ¥åˆ°æ—§ shape çš„å¯¹è±¡å¹¶æ›´æ–°å®ƒä»¬ï¼Œå¯¹ V8 æ¥è¯´æ˜¯ç¬”å¾ˆå¤§çš„å¼€é”€ã€‚ç›¸åï¼ŒV8 ä¸æ€¥ç€å¤„ç†ï¼šåªæœ‰åœ¨æ”¹å˜å¯¹è±¡ a çš„æ—¶å€™æ‰å¼€å§‹è¿ç§»åˆ°æ–°çš„ shapeã€‚æœ€ç»ˆï¼Œæ ‡è®°ä¸ºåºŸå¼ƒçš„ shape ä¼šæ…¢æ…¢æ·¡å‡ºè§†é‡å¹¶è¢«åƒåœ¾å›æ”¶æœºåˆ¶æŠ¹é™¤ã€‚æ›´æ£˜æ‰‹çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœå¯¹è±¡ä¸Šå±æ€§ç‰¹æ€§ Representation å‘ç”Ÿå˜åŒ–çš„å±æ€§ä¸æ˜¯ shape é“¾ä¸Šçš„æœ€åä¸€ä¸ªï¼Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä»äº§ç”Ÿåˆ†æ”¯çš„ shape å¼€å§‹ï¼Œæˆ‘ä»¬ä¸ºå±æ€§ y åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„è¿‡æ¸¡é“¾ä¸” y è¢«æ ‡è®°ä¸º Doubleã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨æ–°çš„è¿‡æ¸¡é“¾æ—¶ï¼Œä¹Ÿå°±æ„å‘³ç€æ—§çš„è¿‡æ¸¡é“¾å°†è¢«åºŸå¼ƒã€‚åœ¨æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬æŠŠå®ä¾‹ o è¿ç§»åˆ°æ–°çš„ shape å¹¶ç”¨ MutableHeapNumber ä¿å­˜ y çš„å€¼ã€‚å°±è¿™æ ·ï¼Œæ–°å¯¹è±¡ä¸å†ä½¿ç”¨è€çš„é‚£ä¸€å¥—ï¼Œä¸€æ—¦æ—§çš„ shape ä¸Šçš„é“¾æ¥éƒ½è¢«ç§»é™¤æ‰ï¼Œæ—§ shape ä¹Ÿä¼šä»è¿‡æ¸¡æ ‘ä¸Šæ¶ˆå¤±ã€‚Extensibility and integrity-level transitionsObject.preventExtensions() é˜²æ­¢å°†æ–°å±æ€§æ·»åŠ åˆ°å¯¹è±¡ä¸­ã€‚å¦‚æœä½ è¿™ä¹ˆåšäº†ï¼Œå®ƒå°†ä¼šæŠ›å¼‚å¸¸ã€‚ï¼ˆå¦‚æœæ˜¯åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå®ƒä¸ä¼šæŠ›å¼‚å¸¸è€Œæ˜¯é»˜è®¤ä»€ä¹ˆéƒ½ä¸åšã€‚ï¼‰12345const object = &#123; x: 1 &#125;;Object.preventExtensions(object);object.y = 2;// TypeError: Cannot add property y;// object is not extensibleObject.seal ä¸ Object.preventExtensions ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒä¼šæŠŠæ‰€æœ‰çš„å±æ€§æ ‡è®°ä¸ºä¸å¯é…ç½®ï¼Œè¿™å°±æ„å‘³ç€ä½ ä¸èƒ½åˆ é™¤å®ƒä»¬ï¼Œæˆ–æ”¹å˜ä»–ä»¬çš„å¯æšä¸¾æ€§ï¼Œå¯é…ç½®æ€§ï¼Œå¯å†™æ€§ã€‚1234567const object = &#123; x: 1 &#125;;Object.seal(object);object.y = 2;// TypeError: Cannot add property y;// object is not extensibledelete object.x;// TypeError: Cannot delete property xObject.freeze ä¸ Object.seal ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒå°†æ‰€æœ‰å±æ€§æ ‡è®°ä¸ºä¸å¯å†™ä»¥é˜²æ­¢å±æ€§å€¼è¢«ä¿®æ”¹ã€‚123456789const object = &#123; x: 1 &#125;;Object.freeze(object);object.y = 2;// TypeError: Cannot add property y;// object is not extensibledelete object.x;// TypeError: Cannot delete property xobject.x = 3;// TypeError: Cannot assign to read-only property xè®©æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œæœ‰ä¸¤ä¸ªéƒ½åªæœ‰å±æ€§ y çš„å¯¹è±¡ï¼Œå¹¶é˜»æ­¢ç¬¬äºŒä¸ªå¯¹è±¡æœ‰ä»»ä½•çš„æ‰©å±•ã€‚1234const a = &#123; x: 1 &#125;;const b = &#123; x: 2 &#125;;Object.preventExtensions(b);å°±å¦‚æˆ‘ä»¬æ‰€çŸ¥çš„ï¼Œä»ç©ºçš„ shape è¿‡æ¸¡åˆ°ä¸€ä¸ªæœ‰å±æ€§ x ï¼ˆè¢«æ ‡è®°ä¸º Smiï¼‰çš„æ–° shape ä¸Šã€‚å½“æˆ‘ä»¬é˜»æ­¢ b çš„æ‰©å±•æ—¶ï¼Œæˆ‘ä»¬ä¼šè¿‡æ¸¡åˆ°æ ‡è®°ä¸ºä¸å¯æ‰©å±•çš„æ–° shape ä¸Šã€‚è¿™ä¸ªæ–° shape æ²¡æœ‰ä»»ä½•å±æ€§ï¼Œä»…ä»…ä½œä¸ºä¸€ä¸ªæ ‡è¯†ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬ä¸èƒ½å°±åœ°æ›´æ–°æœ‰ x çš„ shapeï¼Œå› ä¸ºå¯¹è±¡ a ä¾ç„¶æ˜¯å¯æ‰©å±•çš„ã€‚The React performance issueè®©æˆ‘ä»¬ç”¨ä»¥ä¸Šå­¦åˆ°çš„çŸ¥è¯†æ¥è§£æä¸‹ the recent React issue #14365ã€‚ç®€å•é‡ç°è¿™ä¸ª bugï¼š123const o = &#123; x: 1, y: 2 &#125;;Object.preventExtensions(o);o.y = 0.2;æœ‰ä¸€ä¸ªæ‹¥æœ‰ä¸¤ä¸ªå­—æ®µçš„å¯¹è±¡ï¼Œè€Œä¸”å®ƒä»¬çš„å±æ€§ç‰¹æ€§ Representation è¢«æ ‡è®°ä¸º Smiã€‚æˆ‘ä»¬é˜»æ­¢å¯¹è±¡çš„è¿›ä¸€æ­¥æ‰©å±•ï¼Œä½†æœ€ç»ˆæˆ‘ä»¬è¿˜æ˜¯å¼ºåˆ¶æ”¹å˜ç¬¬äºŒå­—æ®µçš„å±æ€§ç‰¹æ€§ Representation çš„å€¼ï¼ˆDoubleï¼‰ã€‚å°±å¦‚ä¹‹å‰å­¦åˆ°çš„ï¼Œå¤§è‡´æµç¨‹å¦‚ä¸‹ï¼šæ¯ä¸ªå±æ€§çš„ç‰¹æ€§ Representation éƒ½è¢«æ ‡è®°ä¸º Smiï¼Œå¹¶æœ€ç»ˆè¿‡æ¸¡åˆ°è¢«æ ‡è®°ä¸ºä¸å¯æ‰©å±•çš„ shape ä¸Šã€‚æˆ‘ä»¬éœ€è¦å°† y çš„å±æ€§ç‰¹æ€§ Representation æ ‡è®°ä¸º Doubleï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦ä»å¼•å…¥ y å±æ€§ä¹‹å‰çš„ shape å¼€å§‹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°±æ˜¯å¼•å…¥ x å±æ€§çš„é‚£ä¸ª shapeã€‚ä½†æ˜¯ï¼Œ V8 ä¼šå¾ˆå›°æƒ‘ï¼Œå› ä¸ºå½“å‰çš„ shape æ˜¯ä¸å¯æ‰©å±•çš„ï¼Œè€Œæ‰¾åˆ°çš„ shape å´æ˜¯å¯æ‰©å±•çš„ã€‚V8 ä¸çŸ¥é“æ€ä¹ˆå»å¤„ç†è¿™ä¸ªè¿‡æ¸¡æ ‘ã€‚å› æ­¤ï¼ŒV8 ä¸å†è¯•å›¾ææ¸…æ¥šè¿™äº›å…³ç³»ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªç‹¬ç«‹çš„ shapeï¼Œè¿™ä¸ª shape å’Œå…ˆå‰çš„è¿‡æ¸¡æ ‘æ²¡æœ‰ä»»ä½•å…³è”ï¼Œè€Œä¸”ä¹Ÿä¸è¢«ä»»ä½•å…¶å®ƒå¯¹è±¡å…±äº«ã€‚å¯ä»¥æŠŠå®ƒå½“ä½œå­¤ç«‹çš„ shapeï¼šä½ å¯ä»¥æƒ³è±¡ï¼Œå¦‚æœæœ‰å¾ˆå¤šå¯¹è±¡çš„è¯ï¼Œè¿™æ ·ä¼šå˜å¾—å¾ˆç³Ÿç³•ï¼Œå› ä¸ºæ•´ä¸ª shape ç³»ç»Ÿå·²ç»å¤±å»ä»·å€¼ã€‚åœ¨ React çš„æ¡ˆä¾‹ä¸­ï¼Œå½“å¼€å§‹åˆ†ææ•°æ®æ—¶ï¼ŒFiberNode ä¸Šçš„ä¸€äº›å­—æ®µéœ€è¦è®°å½•æ—¶é—´æˆ³ã€‚123456789class FiberNode &#123; constructor() &#123; this.actualStartTime = 0; Object.preventExtensions(this); &#125;&#125;const node1 = new FiberNode();const node2 = new FiberNode();è¿™äº›å­—æ®µï¼ˆæ¯”å¦‚ï¼ŒactualStartTimeï¼‰åˆå§‹åŒ–å€¼æ˜¯ 0 æˆ– -1ï¼Œå› æ­¤å±æ€§ç‰¹æ€§ Representation ä¸º Smiã€‚ä½†æ˜¯ï¼Œä¹‹åç”± performance.now() ç”Ÿæˆçš„æµ®ç‚¹å‹æ•°å€¼è¢«ä¿å­˜åœ¨è¿™äº›å­—æ®µä¸­ï¼Œå› æ­¤å±æ€§ç‰¹æ€§ Representation è¢«æ ‡è®°ä¸º Doubleã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒReact è¿˜é˜»æ­¢ FiberNode å®ä¾‹æ‰©å±•å±æ€§ã€‚åˆšå¼€å§‹çš„çŠ¶å†µå¦‚ä¸‹ï¼šå¦‚é¢„æœŸï¼Œä¸¤ä¸ªå®ä¾‹å…±äº«ç€ shape æ ‘ã€‚ä½†æ˜¯ä¹‹åï¼Œä¸€æ—¦ä½ å­˜å‚¨äº†çœŸå®çš„æ—¶é—´æˆ³ï¼ŒV8 å°±ä¼šæ— ä»ä¸‹æ‰‹ï¼šV8 å…ˆåç»™ node1ï¼Œnode2 åˆ†åˆ«åˆ†é…äº†ç‹¬ç«‹çš„ shapeï¼Œä¸”å®ƒä»¬ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³è”ã€‚çœŸå®ä¸­çš„ React åº”ç”¨æœ‰ç€æ•°ä¸‡ä¸ªè¿™æ ·çš„ FiberNodeã€‚ä½ å¯ä»¥æƒ³è±¡ï¼Œè¿™ç§æƒ…å†µå°†ä¼šä¸¥é‡å½±å“åˆ° V8 çš„æ€§èƒ½ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªé—®é¢˜åœ¨ V8 v7.4 ä¸­è§£å†³äº†ã€‚ç ”å‘äººå‘˜æ‰¾åˆ°äº†æ”¹å˜å±æ€§ç‰¹æ€§ Representation çš„æ–¹æ³•ï¼ŒV8 ç»ˆäºçŸ¥é“å®ƒè¯¥æ€ä¹ˆåšäº†ï¼šä¸¤ä¸ª FiberNode å®ä¾‹æŒ‡å‘ä¸å¯æ‰©å±•çš„ shapeï¼Œshape ä¸­çš„ actualStartTime è¢«æ ‡è®°ä¸º Smiã€‚å½“ node1.actualStartTime è¢«åˆ†é…æ–°çš„å€¼æ—¶ï¼Œå°†ä¼šç”Ÿæˆä¸€æ¡æ–°çš„è¿‡æ¸¡é“¾ï¼Œè€Œä¸”ä¹‹å‰çš„è¿‡æ¸¡é“¾ä¼šè¢«æ ‡è®°ä¸ºåºŸå¼ƒçš„ã€‚å¯ä»¥æ³¨æ„åˆ°ï¼Œç°åœ¨çš„è¿‡æ¸¡é“¾å¯ä»¥æ­£ç¡®çš„è¿‡æ¸¡è½¬ç§»ã€‚å½“ node2.actualStartTime ä¹Ÿè¢«é‡æ–°åˆ†é…æ—¶ï¼Œæ‰€æœ‰çš„é“¾æ¥éƒ½æŒ‡å‘äº†æ–°çš„ shapeï¼Œè¿‡æ¸¡æ ‘ä¸­åºŸå¼ƒçš„éƒ¨åˆ†å°†ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤ã€‚React å›¢é˜Ÿå°† FiberNode æ‰€æœ‰å…³äºæ—¶é—´çš„å­—æ®µéƒ½æ”¹æˆäº† Double å½¢å¼ä»è€Œç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚123456789101112class FiberNode &#123; constructor() &#123; // Force `Double` representation from the start. this.actualStartTime = Number.NaN; // Later, you can still initialize to the value you want: this.actualStartTime = 0; Object.preventExtensions(this); &#125;&#125;const node1 = new FiberNode();const node2 = new FiberNode();ç”± React å…·ä½“çš„ Bug å¼•å‡ºäº† V8 ç‰¹æœ‰çš„é—®é¢˜ï¼Œé€šå¸¸æ¥è¯´ï¼Œå¼€å‘è€…ä¸å¿…å¯¹æŸä¸ªç‰ˆæœ¬çš„ JavaScript å¼•æ“åšä¼˜åŒ–ã€‚ä¸è¿‡ï¼Œå½“æ—¶äº‹æƒ…å‘ä¸å¥½çš„æ–¹å‘å‘å±•æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šæŸæ‰‹æ— ç­–ã€‚è¦çŸ¥é“ JavaScript å¼•æ“åœ¨å¹•ååšäº†å¾ˆå¤šäº‹ï¼Œå°½å¯èƒ½çš„ä¸è¦å»æ··åˆç±»å‹ã€‚ä¾‹å¦‚ï¼Œç»™ä¸€ä¸ªæ•°å­—å­—æ®µåˆå§‹åŒ–ä¸º nullï¼Œè¿™æ ·åšçš„è¯ä¼šä½¿å¾—ä¸€äº›ä¼˜åŒ–åŒ–ä¸ºæ³¡å½±ï¼Œè€Œä¸”å¯è¯»æ€§é™ä½ã€‚123456789// Donâ€™t do this!class Point &#123; x = null; y = null;&#125;const p = new Point();p.x = 0.1;p.y = 402;æ¢å¥è¯è¯´ï¼Œå†™å¯è¯»æ€§ä»£ç ï¼Œæ€§èƒ½è‡ªç„¶ä¼šç´§è·Ÿå…¶åï¼Take-awaysæœ¬æ–‡è¦†ç›–äº†ä¸€ä¸‹å‡ ç‚¹ï¼šJavaScript åŒºåˆ†äº† primitives å’Œ objectsï¼Œè€Œä¸” typeof ä¸é è°±ã€‚å³ä½¿æ˜¯ç›¸åŒç±»å‹çš„å€¼ä¹Ÿä¼šæœ‰ä¸åŒçš„è¡¨è¾¾å½¢å¼ã€‚JavaScript å¼•æ“ä¼šä¸ºæ¯ä¸ªå±æ€§æ‰¾åˆ°æœ€ä¼˜çš„è¡¨è¾¾å½¢å¼ã€‚è®¨è®ºäº† V8 å¤„ç† shape çš„åºŸå¼ƒï¼Œè¿ç§»å’Œå¯æ‰©å±•ã€‚åŸºäºä»¥ä¸Šçš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº› JavaScript ç¼–ç¨‹æŠ€å·§æ¥æå‡æ€§èƒ½ï¼šä»¥ç›¸åŒçš„æ–¹å¼åˆå§‹åŒ–å¯¹è±¡ç±»å‹ï¼Œè¿™æ · shape ç³»ç»Ÿä¼šæ›´é«˜æ•ˆã€‚ä¸ºä½ çš„å­—æ®µé€‰æ‹©åˆç†çš„å€¼ï¼ˆã€ŒRepresentationã€ï¼šSmi æˆ– é Smiï¼‰ã€‚]]></content>
      <categories>
        <category>å†™ç‚¹å•¥</category>
      </categories>
      <tags>
        <tag>JavaScript å¼•æ“</tag>
        <tag>V8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘JavaScript engine fundamentals: optimizing prototypes]]></title>
    <url>%2F%E3%80%90%E8%AF%91%E3%80%91JavaScript-engine-fundamentals-optimizing-prototypes%2F</url>
    <content type="text"><![CDATA[å‰è¨€æœ¬æ–‡æ˜¯æ ¹æ®è‡ªå·±çš„ç†è§£ç¿»è¯‘è€Œæ¥ï¼Œå¦‚æœ‰ç–‘æƒ‘å¯æŸ¥çœ‹åŸæ–‡ JavaScript engine fundamentals: optimizing prototypesã€‚æœ¬æ¬¡æš‚å®šç¿»è¯‘ä¸‰ç¯‡æ–‡ç« ï¼šJavaScript engine fundamentals: Shapes and Inline Caches(Published 14th June 2018)JavaScript engine fundamentals: optimizing prototypes(Published 16th August 2018)The story of a V8 performance cliff in React(Published 28 August 2019)Optimization tiers and execution trade-offsä¸Šä¸€ç¯‡æ–‡ç« å·²ç»è®¨è®ºäº†ç°ä»£ JavaScript å¼•æ“çš„å·¥ä½œæµç¨‹ï¼šæˆ‘ä»¬ä¹ŸæŒ‡å‡ºäº†å¼•æ“é—´çš„ç›¸åŒä¹‹å¤„å’Œç¼–è¯‘ç¯èŠ‚ä¸­çš„å·®å¼‚ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿä¸ºä»€ä¹ˆä¸€äº›å¼•æ“çš„ç¼–è¯‘å™¨æ¯”å…¶ä»–å¼•æ“å¤šï¼Ÿç»“è®ºæ˜¯åŸºäºæ›´å¿«åœ°ç”Ÿæˆä»£ç å’Œç”Ÿæˆæ›´å¥½çš„ä»£ç ä¸¤è€…é—´çš„è€ƒé‡ã€‚è§£é‡Šå™¨å¯ä»¥å¾ˆå¿«åœ°ç”Ÿæˆå­—èŠ‚ç ï¼Œä½†æ˜¯å­—èŠ‚ç çš„æ•ˆç‡ä¸é«˜ã€‚å¦ä¸€æ–¹é¢ï¼Œä¼˜åŒ–ç¼–è¯‘å™¨è™½ç„¶ä¼šç¨å¾®èŠ±è´¹äº›æ—¶é—´ï¼Œå´å¯ä»¥ç”Ÿæˆæ•ˆç‡æ›´é«˜çš„æœºå™¨ç ã€‚ä¸‹å›¾æ˜¯ V8 æ¨¡å‹ï¼ŒV8 çš„è§£é‡Šå™¨ç§°ä¸º Ignitionï¼Œæ˜¯æ‰€æœ‰å¼•æ“ä¸­æœ€å¿«çš„è§£é‡Šå™¨ï¼ˆä»åŸå§‹å­—èŠ‚ç æ‰§è¡Œé€Ÿåº¦çš„è§’åº¦ï¼‰ã€‚V8 çš„ä¼˜åŒ–ç¼–è¯‘å™¨ç§°ä¸º TurboFanï¼Œå®ƒæœ€ç»ˆä¼šç”Ÿæˆé«˜åº¦ä¼˜åŒ–çš„æœºå™¨ç ã€‚å¯åŠ¨é€Ÿåº¦å’Œæ‰§è¡Œé€Ÿåº¦æ˜¯ä¸€äº› JavaScript å¼•æ“é€‰æ‹©æ·»åŠ ä¼˜åŒ–å±‚çš„ç†ç”±ã€‚æ¯”å¦‚ï¼ŒSpiderMonkey å°±åœ¨è§£é‡Šå™¨å’Œ IonMonkey ç¼–è¯‘å™¨é—´æ·»åŠ äº† Baseline å±‚ã€‚è§£é‡Šå™¨å¯ä»¥å¿«é€Ÿç”Ÿæˆå­—èŠ‚ç ï¼Œä½†æ˜¯å­—èŠ‚ç æ‰§è¡Œçš„é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚Baseline ä¼šèŠ±äº›æ—¶é—´ç”Ÿæˆä»£ç ï¼Œä½†åŒæ ·ä¼šæä¾›æ€§èƒ½æ›´å¥½çš„ä»£ç ã€‚æœ€åï¼ŒIonMonkey ä¼šèŠ±æ›´é•¿çš„æ—¶é—´å»ç”Ÿæˆæœºå™¨ç ï¼Œå¹¶èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°æ‰§è¡Œã€‚æ¥ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œçœ‹çœ‹ä¸åŒå¼•æ“ä¹‹é—´çš„å¤„ç†å·®å¼‚ã€‚åœ¨è¿™ä¸ªå¾ªç¯é‡Œï¼Œä¸€äº›ä»£ç é‡å¤æ‰§è¡Œã€‚12345let result = 0;for (let i = 0; i &lt; 4242424242; ++i) &#123; result += i;&#125;console.log(result);åœ¨ Ignition è§£é‡Šå™¨ä¸­ï¼ŒV8 å¼€å§‹æ‰§è¡Œå­—èŠ‚ç ã€‚åœ¨æŸä¸ªæ—¶åˆ»å¼•æ“æµ‹å®šä»£ç æ˜¯ hot çš„ï¼Œå°±ä¼šå¯åŠ¨ TurboFan frontend, TurboFan frontend æ˜¯è´Ÿè´£æ•´åˆåˆ†ææ•°æ®ï¼ˆprofiling dataï¼‰å¹¶æ„å»ºä»£ç çš„åˆçº§æœºå™¨ç è¡¨ç°å½¢å¼ã€‚è¿™äº›ä¸œè¥¿ä¼šè¢«é€åˆ°å¤„åœ¨å…¶ä»–çº¿ç¨‹çš„ TurboFan ä¼˜åŒ–ç¨‹åºä¸­ä½œè¿›ä¸€æ­¥ä¼˜åŒ–ã€‚å½“ä¼˜åŒ–ç¨‹åºè¿›è¡Œæ—¶ï¼ŒV8 ç»§ç»­æ‰§è¡Œå­—èŠ‚ç ã€‚åœ¨æŸä¸ªæ—¶åˆ»ï¼Œä¼˜åŒ–ç¨‹åºç”Ÿæˆå¯æ‰§è¡Œä»£ç åï¼Œæµç¨‹ä¼šæ¥ç€æ‰§è¡Œä¸‹å»ã€‚åŒæ ·ï¼ŒSpiderMonkey ä¹Ÿæ˜¯åœ¨è§£é‡Šå™¨ä¸­å¼€å§‹æ‰§è¡Œå­—èŠ‚ç ã€‚ä½†æ˜¯å®ƒæœ‰ Baseline å±‚ï¼Œhot ä»£ç ä¼šè¢«é€åˆ°è¿™é‡Œã€‚ä¸€æ—¦ Baseline ç¼–è¯‘å™¨ç”Ÿæˆäº† Baseline ä»£ç ï¼Œæµç¨‹ä¼šæ¥ç€æ‰§è¡Œä¸‹å»ã€‚Baseline ä»£ç è¿è¡Œä¸€æ®µæ—¶é—´åï¼ŒSpiderMonkey æœ€ç»ˆä¼šå¯åŠ¨ IonMonkey frontend å’Œ ä¼˜åŒ–ç¨‹åºï¼ˆç±»ä¼¼äº V8ï¼‰ã€‚IonMonkey åœ¨ä¼˜åŒ–æ—¶ï¼ŒBaseline ä¹Ÿä¼šä¿æŒç€è¿è¡ŒçŠ¶æ€ã€‚å½“ä¼˜åŒ–å®Œæˆåï¼Œå·²ä¼˜åŒ–çš„ä»£ç å°†å–ä»£ Baseline ä»£ç è¢«æ‰§è¡Œã€‚Chakra çš„æ¶æ„å’Œ SpiderMonkey å¾ˆç›¸ä¼¼ã€‚Chakra å°è¯•å¹¶è¡Œåšå¾ˆå¤šäº‹æƒ…åŒæ—¶åˆä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚Chakra ä¼šå°†å­—èŠ‚ç å’Œç¼–è¯‘å™¨å¯èƒ½éœ€è¦çš„åˆ†ææ•°æ®å¤åˆ¶å‡ºæ¥ï¼Œå¹¶å‘å¾€ç¼–è¯‘å™¨ä¸“ç”¨è¿›ç¨‹ã€‚å½“ä»£ç å‡†å¤‡å¦¥å½“åï¼Œå¼•æ“å¼€å§‹æ‰§è¡Œ SimpleJIT ä»£ç ã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„åœ¨äºå¤åˆ¶æ‰€åœç•™çš„æ—¶é—´è¿œè¿œå°äºç¼–è¯‘å™¨ï¼ˆ ç¼–è¯‘å™¨ frontendï¼‰æ‰€ç”¨çš„æ—¶é—´ã€‚ç¼ºç‚¹å°±æ˜¯ï¼Œè¿™ç§å¯å‘å¼å¤åˆ¶ï¼ˆcopy heuristicï¼‰ä¼šä½¿å¾—æŸç§ä¼˜åŒ–æ‰€å¿…é¡»çš„ä¿¡æ¯ä¸¢å¤±ï¼Œå› æ­¤è¿™æ˜¯åœ¨ç”¨ä»£ç è´¨é‡æ¢å–æ—¶é—´ã€‚åœ¨ JavaScriptCoreï¼Œæ‰€æœ‰çš„ä¼˜åŒ–ç¼–è¯‘å™¨å’Œä¸»çº¿ç¨‹å¹¶å‘è¿è¡Œï¼›ä¸»çº¿ç¨‹åªæ˜¯è§¦å‘äº†å¦ä¸€ä¸ªçº¿ç¨‹çš„ç¼–è¯‘ä»»åŠ¡ã€‚ç„¶åç¼–è¯‘å™¨é€šè¿‡å¤æ‚çš„åŠ é”ä»ä¸»çº¿ç¨‹è·å–åˆ†ææ•°æ®ï¼ˆprofiling dataï¼‰ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å‡å°‘äº†å›  JavaScript ä¼˜åŒ–å¼•å‘çš„éº»çƒ¦ã€‚ç¼ºç‚¹å°±æ˜¯éœ€è¦å¤„ç†å¤æ‚çš„å¤šçº¿ç¨‹é—®é¢˜å’Œå„ç§æ“ä½œæ‰€å¸¦æ¥çš„åŠ é”æˆæœ¬ã€‚æˆ‘ä»¬è®¨è®ºäº†å¿«é€Ÿç”Ÿæˆä»£ç ï¼Œä¹Ÿè®¨è®ºäº†ç”Ÿæˆå¿«é€Ÿçš„ä»£ç ã€‚ä½†æ˜¯ï¼Œè¿˜è¦æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šå†…å­˜çš„ä½¿ç”¨ï¼ä¸ºäº†è§£é‡Šè¿™ä¸ªï¼Œè¿™é‡Œæœ‰ä¸ªä¸¤æ•°å­—ç›¸åŠ çš„ä¾‹å­ã€‚12345function add(x, y) &#123; return x + y;&#125;add(1, 2);ä»¥ä¸‹æ˜¯ V8 çš„ Ignition ç¼–è¯‘å™¨ç”Ÿæˆçš„å­—èŠ‚ç ï¼š1234StackCheckLdar a1Add a0, [0]Returnä¸è¦åœ¨æ„å­—èŠ‚ç çš„ç»†èŠ‚ï¼Œé‡ç‚¹æ˜¯çŸ¥é“å®ƒåªæœ‰ 4 ä¸ªæŒ‡ä»¤ï¼å½“ä»£ç ç¼–ç¨‹ hot æ—¶ï¼ŒTurboFan ä¼šç”Ÿæˆä»¥ä¸‹é«˜åº¦ä¼˜åŒ–è¿‡çš„æœºå™¨ç ï¼š123456789101112131415161718192021222324252627leaq rcx,[rip+0x0]movq rcx,[rcx-0x37]testb [rcx+0xf],0x1jnz CompileLazyDeoptimizedCodepush rbpmovq rbp,rsppush rsipush rdicmpq rsp,[r13+0xe88]jna StackOverflowmovq rax,[rbp+0x18]test al,0x1jnz Deoptimizemovq rbx,[rbp+0x10]testb rbx,0x1jnz Deoptimizemovq rdx,rbxshrq rdx, 32movq rcx,raxshrq rcx, 32addl rdx,rcxjo Deoptimizeshlq rdx, 32movq rax,rdxmovq rsp,rbppop rbpret 0x18å’Œå­—èŠ‚ç ç›¸æ¯”è¾ƒï¼Œè¿™é‡Œçš„ä»£ç ä¼šæ˜¾å¾—å¾ˆå¤šï¼é€šå¸¸æ¥è¯´ï¼Œå­—èŠ‚ç ä¼šæ¯”æœºå™¨ç ç´§å‡‘å¾—å¤šï¼Œå°¤å…¶å¯¹æ¯”é«˜åº¦ä¼˜åŒ–è¿‡çš„æœºå™¨ç ã€‚å¦ä¸€æ–¹é¢ï¼Œå­—èŠ‚ç éœ€è¦è§£é‡Šå™¨æ¥è¿è¡Œï¼Œè€Œä¼˜åŒ–è¿‡çš„ä»£ç åˆ™å¯ä»¥è¢«å¤„ç†å™¨ç›´æ¥æ‰§è¡Œã€‚è¿™æ˜¯ JavaScript å¼•æ“ä¸ã€Œä¼˜åŒ–ä¸€åˆ‡ã€çš„åŸå› ä¹‹ä¸€ï¼ˆä»…ä¼˜åŒ– ã€Œhot functionã€ï¼‰ã€‚æ­£å¦‚æˆ‘ä»¬æ—©å…ˆçœ‹åˆ°çš„ï¼Œç”Ÿæˆä¼˜åŒ–è¿‡çš„æœºå™¨ç ä¼šç”¨å¾ˆé•¿çš„æ—¶é—´ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬åˆšæ‰ä¹ŸçŸ¥é“äº†ä¼˜åŒ–è¿‡çš„æœºå™¨ç ä¼šå ç”¨ç”¨æ›´å¤šçš„å†…å­˜ç©ºé—´ã€‚Optimizing prototype property accesså…ˆå‰çš„æ–‡ç« é˜è¿°äº† JavaScript å¼•æ“ä½¿ç”¨ Shapes å’Œ Inline Caches ä¼˜åŒ–å¯¹è±¡å±æ€§çš„è®¿é—®ã€‚å†æ¬¡è¯´æ˜ï¼Œå¼•æ“å°†å¯¹è±¡çš„ Shape å’Œå¯¹è±¡çš„å€¼åˆ†å¼€å­˜å‚¨ã€‚ç»“åˆ Shapes å’Œ Inline Caches å¯ä»¥åŠ å¿«ä»£ç ä¸­åŒä¸€ä½ç½®çš„å±æ€§é‡å¤æ€§è®¿é—®ã€‚Classes and prototype-based programmingæˆ‘ä»¬å·²ç»çŸ¥é“äº†å¦‚ä½•å¿«é€Ÿè®¿é—® JavaScript å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œæˆ‘ä»¬å†çœ‹çœ‹ JavaScript æœ€è¿‘æ–°å¢çš„ç‰¹æ€§ï¼šç±»ã€‚ä¸‹é¢æ˜¯ JavaScript ä¸­ç±»çš„è¯­æ³•ï¼š12345678class Bar &#123; constructor(x) &#123; this.x = x; &#125; getX() &#123; return this.x; &#125;&#125;çœ‹ä¼¼æ˜¯ä¸ªæ–°æ¦‚å¿µï¼Œå…¶å®å°±æ˜¯åŸºäºåŸå‹çš„è¯­æ³•ç³–ã€‚1234567function Bar(x) &#123; this.x = x;&#125;Bar.prototype.getX = function getX() &#123; return this.x;&#125;;åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç»™ Bar.prototype è¿™ä¸ªå¯¹è±¡æ·»åŠ å±æ€§ getXï¼Œè¿™å’Œå…¶å®ƒæ™®é€šå¯¹è±¡æ·»åŠ å±æ€§æ²¡æœ‰åŒºåˆ«ï¼Œå› ä¸ºåœ¨ JavaScriptä¸­ï¼Œ åŸå‹ä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼åƒ JavaScript è¿™ç§åŸºäºåŸå‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ–¹æ³•å¯ä»¥é€šè¿‡åŸå‹å…±äº«ï¼Œè€Œå­—æ®µåˆ™å­˜å‚¨åœ¨å®ä¾‹ä¸­ã€‚è®©æˆ‘ä»¬çœ‹çœ‹é€šè¿‡ Bar åˆ›å»ºå®ä¾‹ foo ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ1const foo = new Bar(true);åˆ›å»ºå‡ºæ¥çš„å®ä¾‹ï¼ˆfooï¼‰æ‹¥æœ‰ä¸€ä¸ªåªåŒ…å«å±æ€§ &#39;x&#39; çš„ shapeã€‚foo çš„åŸå‹æŒ‡å‘ Bar.prototypeã€‚Bar.prototype ä¹Ÿæœ‰å±äºè‡ªå·±çš„ shapeï¼Œå®ƒåŒ…å«ä¸€ä¸ª getX å±æ€§ï¼Œè¿™ä¸ªå±æ€§çš„å€¼æ˜¯ä¸ªè¿”å› this.x çš„å‡½æ•°ï¼ˆgetXï¼‰ã€‚Bar.prototype çš„åŸå‹æ˜¯ Object.prototypeã€‚Object.prototype æ˜¯åŸå‹é“¾çš„æ ¹æºï¼Œå› æ­¤å®ƒçš„åŸå‹æ˜¯ nullã€‚å¦‚æœä½ ç”¨åŒä¸€ä¸ªç±»åˆåˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå®ä¾‹å°†å…±äº« shapeï¼Œä¸¤ä¸ªå®ä¾‹ä¹Ÿä¼šæŒ‡å‘åŒä¸€ä¸ª Bar.prototypeã€‚Prototype property accessokï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†å®šä¹‰ä¸€ä¸ªç±»å¹¶ç”¨ç±»åˆ›å»ºå®ä¾‹çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬åœ¨å®ä¾‹ä¸Šè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ12345678class Bar &#123; constructor(x) &#123; this.x = x; &#125; getX() &#123; return this.x; &#125;&#125;const foo = new Bar(true);const x = foo.getX();// ^^^^^^^^^^ä½ å¯ä»¥è®¤ä¸ºæ–¹æ³•çš„è°ƒç”¨åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š123456const x = foo.getX();// is actually two steps:const $getX = foo.getX;const x = $getX.call(foo);æ­¥éª¤ 1ï¼šåŠ è½½æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åªä¸è¿‡æ˜¯åŸå‹ä¸Šçš„å±æ€§ï¼ˆè€Œå®ƒæ°å¥½æ˜¯ä¸ªå‡½æ•°ï¼‰ã€‚æ­¥éª¤ 2ï¼šç”¨å®ä¾‹å»è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼ˆé‡æ–°ç»‘å®š thisï¼‰ã€‚å…ˆçœ‹æ­¥éª¤ 1ï¼šå¼€å§‹æ—¶ï¼Œå¼•æ“ä»å®ä¾‹ foo ä¸ŠæŸ¥æ‰¾å¹¶å‘ç° foo çš„ shape ä¸Šæ²¡æœ‰ getX å±æ€§ï¼Œäºæ˜¯å®ƒä¸å¾—ä¸æ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ã€‚åˆ°è¾¾ Bar.prototype åï¼Œå¼€å§‹æŸ¥æ‰¾å®ƒçš„ shape å¹¶æ‰¾åˆ°äº† getX å±æ€§ã€‚ç„¶åæ ¹æ® getX çš„å±æ€§ä¿¡æ¯ï¼ˆOffsetï¼š0ï¼‰åœ¨ Bar.prototype ä¸Šæ‰¾åˆ°äº† getX å‡½æ•°ã€‚JavaScript çš„çµæ´»æ€§ä½¿å¾—åŸå‹é“¾å¯èƒ½ä¼šçªå˜ï¼Œä¾‹å¦‚ï¼š1234567const foo = new Bar(true);foo.getX();// â†’ trueObject.setPrototypeOf(foo, null);foo.getX();// â†’ Uncaught TypeError: foo.getX is not a functionè¿™ä¸ªä¾‹å­ä¸­ï¼Œfoo.getX() è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½ä¼šæœ‰ä¸åŒçš„å«ä¹‰ï¼Œä¸åŒçš„ç»“æœã€‚æ‰€ä»¥è¯´ï¼Œå°½ç®¡åŸå‹åœ¨ JavaScript ä¸­åªæ˜¯ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯æå‡åŸå‹å±æ€§çš„è®¿é—®é€Ÿåº¦ä¾ç„¶æ¯”å¸¸è§„å¯¹è±¡æ›´å…·æœ‰æŒ‘æˆ˜æ€§ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŸå‹å±æ€§çš„åŠ è½½æ˜¯ä¸ªéå¸¸é¢‘ç¹çš„æ“ä½œï¼šæ¯æ¬¡æ–¹æ³•è°ƒç”¨éƒ½ä¼šå»åŠ è½½å±æ€§ï¼12345678class Bar &#123; constructor(x) &#123; this.x = x; &#125; getX() &#123; return this.x; &#125;&#125;const foo = new Bar(true);const x = foo.getX();// ^^^^^^^^^^ä¹‹å‰ï¼Œæˆ‘ä»¬è®¨è®ºäº†ä½¿ç”¨ Shapes å’Œ ICs ä¼˜åŒ–å¸¸è§„å¯¹è±¡çš„å±æ€§è®¿é—®ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½å¦ä½¿ç”¨ç›¸åŒçš„ç­–ç•¥å»ä¼˜åŒ–åŸå‹å±æ€§çš„é‡å¤æ€§è®¿é—®å‘¢ï¼Ÿä¸‹é¢ï¼Œæˆ‘ä»¬çœ‹çœ‹å±æ€§æ˜¯å¦‚ä½•åŠ è½½çš„ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œä¸ºäº†æé«˜é‡å¤åŠ è½½çš„é€Ÿåº¦ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸‰ä»¶äº‹ï¼šfoo çš„ shape ä¸åŒ…å« getX ä¸”æ²¡æœ‰æ”¹å˜è¿‡ã€‚è¿™æ„å‘³ç€ foo æ²¡æœ‰æ·»åŠ ã€åˆ é™¤å±æ€§ï¼Œæˆ–æ”¹å˜å±æ€§ç‰¹æ€§ã€‚foo çš„åŸå‹ä¾ç„¶æ˜¯ Bar.prototypeã€‚è¿™æ„å‘³ç€ï¼Œfoo çš„åŸå‹æ²¡æœ‰é€šè¿‡ Object.setPrototypeOf() æˆ– __proto__ çš„æ–¹å¼æ”¹å˜è¿‡ã€‚Bar.prototype çš„ shape åŒ…å« getX ä¸”æ²¡æœ‰æ”¹å˜è¿‡ã€‚è¿™æ„å‘³ç€ Bar.prototype æ²¡æœ‰æ·»åŠ ã€åˆ é™¤å±æ€§ï¼Œæˆ–æ”¹å˜å±æ€§ç‰¹æ€§ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦æ£€æŸ¥ 1 éå®ä¾‹æœ¬èº«ï¼Œè¿˜æœ‰å› æ¯å¢åŠ ä¸€ä¸ªåŸå‹å°±å°±è¦å¢åŠ çš„ 2 éæ£€æŸ¥ç›´åˆ°æ‰¾åˆ°æˆ‘ä»¬æƒ³è¦çš„å±æ€§ã€‚1+2Nï¼ˆN è¡¨ç¤ºåŸå‹é“¾ä¸Šç›´åˆ°æ‰¾åˆ°å­˜åœ¨å±æ€§çš„åŸå‹çš„åŸå‹æ•°é‡ï¼‰ éçš„æ£€æŸ¥çœ‹ä¸Šå»è¿˜ä¸æ˜¯ç‰¹åˆ«ç³Ÿç³•ï¼Œå› ä¸ºè¿™æ—¶çš„åŸå‹é“¾è¿˜æ¯”è¾ƒçŸ­ â€”â€” ä½†æ˜¯å¼•æ“ä¼šç»å¸¸å¤„ç†æœ‰ç€å¾ˆé•¿åŸå‹é“¾çš„å¯¹è±¡ï¼Œå°±æ¯”å¦‚å¸¸è§çš„ DOM ç±»ã€‚1234const anchor = document.createElement('a');// â†’ HTMLAnchorElementconst title = anchor.getAttribute('title');ç°æœ‰ä¸ª HTMLAnchorElement å¹¶è°ƒç”¨ getAttribute() æ–¹æ³•ã€‚è¿™ç®€å•çš„ anchor å…ƒç´ æ¶‰åŠåˆ° 6 ä¸ªåŸå‹ï¼getAttribute() ä¸æ˜¯ HTMLAnchorElement åŸå‹ä¸Šçš„æ–¹æ³•ï¼Œè€Œæ˜¯åŸå‹é“¾ä¸Šé è¿‘é¡¶éƒ¨çš„åŸå‹ä¸Šã€‚getAttribute() æ˜¯åœ¨ Element.prototype ä¸Šå‘ç°çš„ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬æ¯æ¬¡è°ƒç”¨ anchor.getAttribute() æ—¶ï¼Œéƒ½éœ€è¦åšä»¥ä¸‹è¿™äº›äº‹ï¼šæ£€æµ‹åˆ° getAttribute ä¸å­˜åœ¨äº anchor å¯¹è±¡æœ¬èº«;æ£€æµ‹åˆ° anchor çš„åŸå‹æ˜¯ HTMLAnchorElement.prototype;ç¡®è®¤æ²¡æœ‰ getAttribute å±æ€§ï¼›æ£€æµ‹åˆ°ä¸‹ä¸€ä¸ªåŸå‹æ˜¯ HTMLElement.prototype;ç¡®è®¤æ²¡æœ‰ getAttribute å±æ€§ï¼›ç»§ç»­æ£€æµ‹ä¸‹ä¸€ä¸ªåŸå‹ Element.prototype;æ‰¾åˆ° getAttributeã€‚ä¸€å…±éœ€è¦ 7 æ¬¡æ£€æµ‹ï¼è€Œè¿™ç§æƒ…å†µå¾ˆå¸¸è§ï¼Œäºæ˜¯å¼•æ“æƒ³æ–¹è®¾æ³•å»å‡å°‘å±æ€§ï¼ˆåŸå‹ä¸Šï¼‰åŠ è½½æ—¶çš„æ£€æŸ¥æ¬¡æ•°ã€‚å›åˆ°æ›´æ—©çš„ä¾‹å­ï¼Œå½“æˆ‘ä»¬ä» foo è®¿é—® getX æ—¶ï¼Œå…±åšäº† 3 æ¬¡æ£€æŸ¥ï¼š1234567class Bar &#123; constructor(x) &#123; this.x = x; &#125; getX() &#123; return this.x; &#125;&#125;const foo = new Bar(true);const $getX = foo.getX;åœ¨æŸ¥æ‰¾å±æ€§çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªç‰µæ¶‰åˆ°çš„åŸå‹éƒ½éœ€è¦åšç¼ºå¤±æ£€æŸ¥ï¼ˆç¡®è®¤å±æ€§æ˜¯å¦å­˜åœ¨ï¼‰ã€‚å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿåœ¨å±æ€§ç¡®è®¤çš„æ­¥éª¤é‡ŒåŒæ—¶æ£€æµ‹åŸå‹é“¾ï¼Œé‚£å°†ä¼šå‡å°‘æ€»çš„æ£€æŸ¥æ¬¡æ•°ã€‚å¼•æ“ä¹Ÿæ­£æ˜¯è¿™ä¹ˆåšçš„ï¼šæ¯ä¸ª shape éƒ½æŒ‡å‘äº†åŸå‹ï¼Œè¿™æ„å‘³ç€ foo çš„åŸå‹æ”¹å˜æ—¶ï¼Œå¼•æ“ä¼šè‡ªåŠ¨è¿‡æ¸¡åˆ°æ–°çš„ shapeã€‚ç°åœ¨æˆ‘ä»¬åªéœ€è¦æ£€æŸ¥å¯¹è±¡çš„ shape å°±å¯ä»¥åŒæ—¶æ£€æµ‹å±æ€§æ˜¯å¦å­˜åœ¨ä»¥åŠåŸå‹é“¾çš„å¯¼å‘ã€‚é‰´äºæ­¤ï¼Œç”±äºæ£€æŸ¥çš„æ¬¡æ•°ä» 1+2N é™ä½åˆ° 1+Nï¼Œæ‰€ä»¥åŸå‹ä¸Šå±æ€§çš„è®¿é—®é€Ÿåº¦ä¹Ÿå˜å¿«äº†ã€‚ç”±äºåœ¨åŸå‹é“¾ä¸ŠæŸ¥æ‰¾å±æ€§çš„æ—¶é—´å¤æ‚åº¦æ˜¯çº¿æ€§çš„ï¼Œæ‰€ä»¥ä¾ç„¶è¿˜æ˜¯å¾ˆè€—æ—¶çš„ã€‚å¼•æ“ä½¿ç”¨äº†ä¸åŒçš„æ–¹æ³•è®©æ£€æŸ¥çš„æ¬¡æ•°è¶‹äºå¸¸é‡ï¼Œå°¤å…¶æ˜¯åŒä¸€å±æ€§çš„è¿ç»­åŠ è½½ï¼ˆè®¿é—®ï¼‰ã€‚Validity cellsä¸ºæ­¤ï¼ŒV8 ç‰¹åˆ«å¤„ç†äº†åŸå‹çš„ shapesã€‚æ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ shapeï¼Œè¿™ä¸ª shape ä¸ä¼šè¢«å…¶å®ƒçš„å¯¹è±¡å…±äº«ï¼ˆç‰¹åˆ«æ˜¯å…¶å®ƒçš„åŸå‹å¯¹è±¡ï¼‰ï¼Œæ¯ä¸€ä¸ªåŸå‹çš„ shape éƒ½æœ‰ä¸ä¹‹å…³è”çš„ ValidityCellã€‚å¦‚æœä¸ä¹‹å…³è”çš„åŸå‹è¢«ä¿®æ”¹ï¼Œæˆ–è¯¥åŸå‹çš„ä¸Šæ¸¸ï¼ˆåŸå‹çš„åŸå‹ï¼ŒåŸå‹çš„åŸå‹çš„åŸå‹â€¦â€¦ï¼‰è¢«ä¿®æ”¹ï¼ŒValidityCell éƒ½ä¼šè¢«æ ‡è®°ä¸ºæ— æ•ˆã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ˜¯åˆ°åº•æ€ä¹ˆä¸€å›äº‹ï¼Ÿä¸ºäº†åŠ å¿«åŸå‹ä¸Šåç»­çš„å±æ€§åŠ è½½ï¼ŒV8 ä½¿ç”¨ ICs ä¿å­˜ç€ 4 ä¸ªå­—æ®µï¼šä»£ç ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼ŒICs å¼€å§‹å·¥ä½œäº†ï¼Œå®ƒè¦ç¼“å­˜å±æ€§åœ¨åŸå‹ä¸Šçš„åç§»é‡ ã€ŒOffsetã€ï¼Œå±æ€§æ‰€åœ¨çš„åŸå‹ ã€ŒPrototypeã€ï¼ˆæœ¬ä¾‹ä¸­çš„ Bar.prototypeï¼‰ï¼Œå®ä¾‹çš„ shape ã€ŒShapeã€ï¼ˆæœ¬ä¾‹ä¸­ foo çš„ shapeï¼‰,è¿˜æœ‰å°±æ˜¯ä¸åŸå‹çš„ shape ç›¸å…³è”çš„ ValidityCell ã€ŒValidityCellã€ï¼Œè¿™ä¸ªåŸå‹æ˜¯å®ä¾‹ shape ç›´æ¥é“¾æ¥çš„é‚£ä¸ªåŸå‹ï¼ˆæœ¬ä¾‹ä¸­çš„ Bar.prototypeï¼‰ã€‚è‹¥åœ¨ä¸‹ä¸€æ¬¡ ICs å‘½ä¸­æ—¶ï¼Œå¼•æ“ä¼šæ£€æŸ¥ shape ï¼ˆå®ä¾‹çš„ shapeï¼‰å’Œ ValidityCellã€‚å¦‚æœè¿˜æœ‰æ•ˆï¼Œå¼•æ“ä¼šç›´æ¥ä» ICs ä¸­æå–ä¿¡æ¯ï¼Œæ ¹æ® Prototype å’Œ Offset å­—æ®µè·å–å±æ€§ä¿¡æ¯ï¼Œè¿™æ ·å°±è·³è¿‡äº†ä¹‹å‰ç¹ççš„æŸ¥æ‰¾æ­¥éª¤ã€‚å½“åŸå‹å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¸€ä¸ªæ–°çš„ shape å°†ä¼šç”Ÿæˆï¼ŒåŒæ—¶å…ˆå‰çš„ ValidityCell å°†ä¼šå¤±æ•ˆã€‚å› æ­¤åœ¨ä¸‹æ¬¡æ‰§è¡Œæ—¶ï¼ŒICs å°†ä¸ä¼šèµ·ä½œç”¨ï¼Œæ€§èƒ½è‡ªç„¶ä¸ä¼šå¥½ã€‚å›è¿‡å¤´æ¥å†çœ‹çœ‹ä¹‹å‰çš„ DOMï¼Œä¾‹å¦‚ï¼ŒObject.prototype å‘ç”Ÿå˜åŒ–åï¼Œå½±å“çš„å°†ä¸ä»…ä»…æ˜¯è‡ªèº«ï¼Œè¿˜åŒ…æ‹¬é“¾çš„ä¸‹æ¸¸ EventTarget.prototypeã€Node.prototypeã€Element.prototypeï¼Œç›´åˆ° HTMLAnchorElement.prototypeã€‚äº‹å®ä¸Šï¼Œå½“ä½ åœ¨ä»£ç ä¸­ä¿®æ”¹äº† Object.prototypeï¼Œå°±æ„å‘³ç€å°†æ€§èƒ½å¼ƒä¹‹ä¸é¡¾ã€‚æ‰€ä»¥ï¼Œä¸è¦é‚£æ ·åšï¼è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œæœ‰ä¸€ä¸ª Bar ç±»ï¼Œå®ƒæœ‰ loadX æ–¹æ³•ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ç±»çš„å®ä¾‹è°ƒç”¨ loadX è‹¥å¹²æ¬¡ã€‚1234567891011121314class Bar &#123; /* â€¦ */ &#125;function loadX(bar) &#123; return bar.getX(); // IC for 'getX' on `Bar` instances.&#125;loadX(new Bar(true));loadX(new Bar(false));// IC in `loadX` now links the `ValidityCell` for// `Bar.prototype`.Object.prototype.newMethod = y =&gt; y;// The `ValidityCell` in the `loadX` IC is invalid// now, because `Object.prototype` changed.æ­¤æ—¶ï¼ŒICs ä¸­ä¼šè®°å½•è°ƒç”¨ loadX åçš„ç›¸å…³ä¿¡æ¯ã€‚ç„¶åæˆ‘ä»¬ä¿®æ”¹äº† Object.prototype â€”â€” æ‰€æœ‰åŸå‹çš„æ ¹æº â€”â€” ValidityCell ä¼šè¢«æ ‡è®°ä¸ºæ— æ•ˆçš„ï¼ŒICs ä¸ä¼šåœ¨ä¸‹æ¬¡æ‰§è¡Œæ—¶å‘½ä¸­ï¼Œæ€§èƒ½ä¹Ÿä¼šå˜å¾—ç³Ÿç³•ã€‚æ”¹å˜ Object.prototype æ˜¯ä¸€ä¸ªä¸å¥½çš„è¡Œä¸ºï¼Œå®ƒä½¿å¾—åŸå‹é“¾ä¸‹æ¸¸æ‰€æœ‰çš„ ICs å¤±å»ä½œç”¨ã€‚è¿™æœ‰å¦ä¸€ä¸ªä¸æ¨èçš„è¡Œä¸ºã€‚1234567Object.prototype.foo = function() &#123; /* â€¦ */ &#125;;// Run critical code:someObject.foo();// End of critical code.delete Object.prototype.foo;æˆ‘ä»¬æ‹“å±•äº† Object.prototypeï¼Œå®ƒä½¿å¾—åŸå‹é“¾ä¸‹æ¸¸çš„æ‰€æœ‰ ICs å¤±æ•ˆã€‚ç„¶åè°ƒç”¨åŸå‹ä¸Šçš„æ–°æ–¹æ³•ï¼Œå¼•æ“ä¾¿ä»å¤´å¼€å§‹ä¸ºåŸå‹å±æ€§çš„è®¿é—®æ„å»ºæ–°çš„ ICsã€‚æœ€åï¼Œæˆ‘ä»¬åˆ é™¤äº†ä¹‹å‰æ·»åŠ çš„æ–¹æ³•ã€‚æ¸…é™¤ï¼Œå¬ç€æŒºä¸é”™çš„ï¼Œå…¶å®åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªä¼šæ›´ç³Ÿã€‚åˆ é™¤ Object.prototype ä¸Šçš„å±æ€§å°±æ„å‘³ç€ä¿®æ”¹ Object.prototypeï¼Œæ‰€æœ‰çš„ ISc å°†å†ä¸€æ¬¡å¤±æ•ˆï¼Œå¼•æ“ä¹Ÿå°†ä¼šå†ä¸€æ¬¡åœ°é‡å¤´å¼€å§‹æ„å»º ICsã€‚Take-awaysæˆ‘ä»¬çŸ¥é“äº† JavaScript å¼•æ“æ˜¯å¦‚ä½•å­˜å‚¨å¯¹è±¡å’Œç±»çš„ï¼Œä¹ŸçŸ¥é“äº† Shapesã€Inline Caches å’Œ ValidityCells æ˜¯å¦‚ä½•å¸®åŠ©ä¼˜åŒ–åŸå‹æ“ä½œçš„ã€‚åŸºäºè¿™äº›çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº› JavaScript ç¼–ç¨‹æŠ€å·§æ¥æå‡æ€§èƒ½ï¼šä¸è¦ä¹±åŠ¨åŸå‹ï¼ˆå¦‚æœä½ çœŸçš„ï¼ŒçœŸçš„éœ€è¦è¿™ä¹ˆå¹²ï¼Œé‚£ä¹ˆï¼Œè‡³å°‘è¦åœ¨ä»£ç è¿è¡Œå‰ï¼‰ã€‚]]></content>
      <categories>
        <category>å†™ç‚¹å•¥</category>
      </categories>
      <tags>
        <tag>JavaScript å¼•æ“</tag>
        <tag>V8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘JavaScript engine fundamentals: Shapes and Inline Caches]]></title>
    <url>%2F%E3%80%90%E8%AF%91%E3%80%91JavaScript-engine-fundamentals-Shapes-and-Inline-Caches%2F</url>
    <content type="text"><![CDATA[JavaScript å¼•æ“åŸç†ï¼šå¤–å½¢ä¸å†…è”ç¼“å­˜å‰è¨€æœ¬æ–‡æ˜¯æ ¹æ®è‡ªå·±çš„ç†è§£ç¿»è¯‘è€Œæ¥ï¼Œå¦‚æœ‰ç–‘æƒ‘å¯æŸ¥çœ‹åŸæ–‡ JavaScript engine fundamentals: Shapes and Inline Cachesã€‚æœ¬æ¬¡æš‚å®šç¿»è¯‘ä¸‰ç¯‡æ–‡ç« ï¼šJavaScript engine fundamentals: Shapes and Inline Caches(Published 14th June 2018)JavaScript engine fundamentals: optimizing prototypes(Published 16th August 2018)The story of a V8 performance cliff in React(Published 28 August 2019)JavaScript å¼•æ“å·¥ä½œæµä¸€åˆ‡ä»ä½ å†™çš„ JavaScript ä»£ç å¼€å§‹ã€‚JavaScript å¼•æ“ä¼šè§£ææºç å¹¶å°†å…¶è½¬æ¢æˆæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚åŸºäº ASTï¼Œè§£é‡Šå™¨ï¼ˆinterpreterï¼‰ä¼šè¿›ä¸€æ­¥åœ°ç”Ÿæˆå­—èŠ‚ç ã€‚ä¸ºäº†èƒ½å¤Ÿè¿è¡Œå¾—æ›´å¿«ï¼Œå­—èŠ‚ç å¯èƒ½ä¼šå’Œåˆ†ææ•°æ®ï¼ˆprofiling dataï¼‰ä¸€åŒå‘ç»™ä¼˜åŒ–ç¼–è¯‘å™¨ï¼ˆthe optimizing compilerï¼‰ã€‚ä¼˜åŒ–ç¼–è¯‘å™¨ä¼šæ ¹æ®è¿™äº›åˆ†ææ•°æ®ä½œå‡ºæŸäº›å‡è®¾ä»¥æ­¤ç”Ÿæˆé«˜åº¦ä¼˜åŒ–çš„æœºå™¨ç ã€‚å¦‚æœæŸä¸ªæ—¶åˆ»ï¼ŒæŸç§å‡è®¾è¢«è¯æ˜æ˜¯é”™è¯¯çš„ï¼Œä¼˜åŒ–ç¼–è¯‘å™¨å°†å»ä¼˜åŒ–å¹¶å›æ»šåˆ°è§£é‡Šå™¨éƒ¨åˆ†ã€‚JavaScript å¼•æ“ä¸­çš„è§£é‡Šå™¨/ç¼–è¯‘å™¨æµç¨‹ç°åœ¨æ¥å…³æ³¨ä¸‹ JavaScript ä»£ç è¢«è§£é‡Šå’Œä¼˜åŒ–çš„åœ°æ–¹ï¼Œå¹¶é‡æ¸©ä¸‹ä¸»æµ JavaScript å¼•æ“ä¹‹é—´çš„ä¸åŒä¹‹å¤„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨è¿è¡Œ JavaScript ä»£ç è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰è§£é‡Šå™¨å’Œä¼˜åŒ–ç¼–è¯‘å™¨çš„å‚ä¸ã€‚è§£é‡Šå™¨ä¼šå¿«é€Ÿåœ°ç”Ÿæˆå°šæœªä¼˜åŒ–çš„å­—èŠ‚ç ï¼Œè€Œä¼˜åŒ–ç¼–è¯‘å™¨ä¼šè€—è´¹ä¸€äº›æ—¶é—´ç”¨æ¥ç”Ÿæˆé«˜åº¦ä¼˜åŒ–çš„æœºå™¨ç ã€‚ä¸Šé¢çš„æµç¨‹å’Œ V8 åœ¨æµè§ˆå™¨å’Œ Node ç¯å¢ƒä¸‹çš„å·¥ä½œæµç¨‹åŠå…¶ç›¸ä¼¼ï¼šV8 å¼•æ“çš„è§£é‡Šå™¨è¢«ç§°ä½œ Ignitionï¼Œä¸»è¦è´Ÿè´£ç”Ÿæˆå’Œæ‰§è¡Œå­—èŠ‚ç ã€‚å½“å­—èŠ‚ç è¿è¡Œæ—¶ï¼Œè§£é‡Šå™¨ä¼šæ”¶é›†åˆ†ææ•°æ®ï¼Œè¿™äº›æ•°æ®ä¹‹åå¯èƒ½ä¼šè¢«ç”¨æ¥æå‡æ‰§è¡Œé€Ÿåº¦ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°ç»å¸¸è¢«è°ƒç”¨ï¼Œå³ hotï¼Œé‚£ä¹ˆï¼Œç»è¿‡è§£é‡Šå™¨è½¬æ¢æ¥çš„å­—èŠ‚ç å’Œæ”¶é›†åˆ°çš„åˆ†ææ•°æ®ä¼šä¼ ç»™ TurboFanï¼ˆV8 çš„ä¼˜åŒ–ç¼–è¯‘å™¨ï¼‰ï¼Œè¿›ä¸€æ­¥è¢«åŠ å·¥æˆé«˜åº¦ä¼˜åŒ–çš„æœºå™¨ç ã€‚SpiderMonkeyï¼ŒMozilla çš„ JavaScript å¼•æ“ï¼Œæ‹¥æœ‰ä¸¤ä¸ªä¼˜åŒ–ç¼–è¯‘å™¨ï¼ŒBaseline å’Œ IonMonkeyã€‚è§£é‡Šå™¨å°†è½¬æ¢åçš„ä»£ç ä¼ ç»™ Baseline ç¼–è¯‘å™¨ï¼ŒBaseline ç¼–è¯‘å™¨ä¼šå°†å…¶åŠ å·¥æˆéƒ¨åˆ†ä¼˜åŒ–çš„ä»£ç ã€‚å†åŠ ä¸Šæ”¶é›†åˆ°çš„åˆ†ææ•°æ®ï¼ŒIonMonkey ç¼–è¯‘å™¨å¯ä»¥ç”Ÿæˆé«˜åº¦ä¼˜åŒ–çš„ä»£ç ã€‚å¦‚æœåŸºäºå‡è®¾çš„ä¼˜åŒ–ä¸æˆç«‹ï¼ŒIonMonkey ä¼šå°†ä»£ç ä¼šæ»šåˆ° Baseline éƒ¨åˆ†ã€‚Chakraï¼ŒMicrosoft çš„ JavaScript å¼•æ“ï¼Œä¹Ÿæœ‰ç€ç±»ä¼¼çš„ä¸¤ä¸ªä¼˜åŒ–ç¼–è¯‘å™¨ï¼ŒSimpleJIT å’Œ FullJITã€‚è§£é‡Šå™¨å°†è½¬æ¢åçš„ä»£ç ä¼ ç»™ SimpleJITï¼ˆJITï¼ŒJust-In-Timeï¼‰ï¼ŒSimpleJIT ä¼šå°†å…¶åŠ å·¥æˆéƒ¨åˆ†ä¼˜åŒ–çš„ä»£ç ã€‚å†åŠ ä¸Šæ”¶é›†åˆ°çš„åˆ†ææ•°æ®ï¼ŒFullJIT å¯ä»¥ç”Ÿæˆé«˜åº¦ä¼˜åŒ–çš„ä»£ç ã€‚JavaScriptCoreï¼ˆJSCï¼‰ï¼ŒApple çš„ JavaScript å¼•æ“ï¼Œæ›´æ˜¯å‘æŒ¥åˆ°äº†æè‡´ï¼Œä½¿ç”¨äº†ä¸‰ä¸ªä¸åŒçš„ä¼˜åŒ–ç¼–è¯‘å™¨ï¼ŒBaselineã€DFG å’Œ FTLã€‚ä½çº§è§£é‡Šå™¨ï¼ˆLLIntï¼‰å°†è½¬æ¢åçš„ä»£ç ä¼ ç»™ Baseline ç¼–è¯‘å™¨ï¼Œç»å…¶åŠ å·¥åä¼ ç»™ DFGï¼ˆData Flow Graphï¼‰ ç¼–è¯‘å™¨ï¼Œè¿›ä¸€æ­¥åŠ å·¥åï¼Œä¼ ç»™ FTLï¼ˆFaster Than Lightï¼‰ ç¼–è¯‘å™¨ã€‚ä¸ºä»€ä¹ˆæœ‰äº›å¼•æ“çš„ä¼˜åŒ–ç¼–è¯‘å™¨ä¼šæ¯”å…¶ä»–å¼•æ“çš„å¤šï¼Ÿè¿™å®Œå…¨æ˜¯å–èˆé—®é¢˜ã€‚è§£é‡Šå™¨å¯ä»¥å¾ˆå¿«åœ°ç”Ÿæˆå­—èŠ‚ç ï¼Œä½†æ˜¯å­—èŠ‚ç çš„æ•ˆç‡ä¸é«˜ã€‚ä¼˜åŒ–ç¼–è¯‘å™¨è™½ç„¶ä¼šèŠ±æ›´é•¿çš„æ—¶é—´ï¼Œä½†æ˜¯ç”Ÿæˆçš„æœºå™¨ç æ›´ä¸ºé«˜æ•ˆã€‚æ˜¯æ›´å¿«åœ°å»æ‰§è¡Œä»£ç ï¼Œè¿˜æ˜¯èŠ±äº›æ—¶é—´å»æ‰§è¡Œæ›´ä¼˜çš„ä»£ç ï¼Œè¿™éƒ½æ˜¯éœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚æœ‰äº›å¼•æ“æ·»åŠ å¤šç§ä¸åŒç‰¹ç‚¹ï¼ˆçœæ—¶æˆ–é«˜æ•ˆï¼‰çš„ä¼˜åŒ–ç¼–è¯‘å™¨ï¼Œè™½ç„¶è¿™ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œä½†å´å¯ä»¥å¯¹ä»¥ä¸Šçš„å–èˆæœ‰ç€æ›´ç»†ç²’åº¦åœ°æ§åˆ¶ã€‚è¿˜æœ‰ä¸€ç‚¹éœ€è¦è€ƒè™‘çš„æ˜¯ï¼Œå†…å­˜çš„ä½¿ç”¨ã€‚ä»¥ä¸Šåªæ˜¯å¼ºè°ƒäº†ä¸åŒ JavaScript å¼•æ“çš„è§£æå™¨/ç¼–è¯‘å™¨çš„åŒºåˆ«ã€‚æŠ›å¼€è¿™äº›ä¸è°ˆï¼Œä»æ›´é«˜çš„å±‚é¢æ¥çœ‹ï¼Œæ‰€æœ‰çš„ JavaScript å¼•æ“æœ‰ç€ç›¸åŒçš„æ¶æ„ï¼šä¸€ä¸ªè§£æå™¨å’Œä¸€äº›è§£é‡Šå™¨/ç¼–è¯‘å™¨ã€‚JavaScript å¯¹è±¡æ¨¡å‹å†æ¥çœ‹çœ‹ï¼Œåœ¨æŸäº›å…·ä½“å®ç°ä¸Šï¼ŒJavaScript å¼•æ“ä¹‹é—´è¿˜æœ‰å“ªäº›ç›¸åŒä¹‹å¤„ã€‚ä¾‹å¦‚ï¼ŒJavaScript å¼•æ“æ˜¯å¦‚ä½•å®ç° JavaScript å¯¹è±¡æ¨¡å‹çš„ï¼Ÿå®ƒä»¬åˆæ˜¯å¦‚ä½•æå‡å¯¹è±¡å±æ€§è®¿é—®é€Ÿåº¦çš„ï¼Ÿäº‹å®è¯æ˜ï¼Œæ‰€æœ‰ä¸»æµçš„å¼•æ“åœ¨è¿™ç‚¹å®ç°ä¸Šéƒ½éå¸¸å¾—ç›¸ä¼¼ã€‚ECMAScript è§„èŒƒæŠŠæ‰€æœ‰çš„å¯¹è±¡å®šä¹‰ä¸ºè¯å…¸ï¼Œå°†å­—ç¬¦ä¸²é”®æ˜ å°„åˆ°å±æ€§ç‰¹æ€§ï¼ˆproperty attributesï¼‰ã€‚é™¤äº† [[Value]]ï¼Œ è§„èŒƒè¿˜å®šä¹‰äº†ä¸€ä¸‹å±æ€§ï¼š[[Writable]] å®šä¹‰æ˜¯å¦å¯å†™ã€‚[[Enumerable]] å®šä¹‰æ˜¯å¦å¯æšä¸¾ã€‚[[Configurable]] å®šä¹‰æ˜¯å¦å¯é…ç½®ã€‚[[åŒä¸­æ‹¬å·]] æ˜¯ç”¨æ¥æè¿°ä¸èƒ½ç›´æ¥æš´éœ²ç»™ JavaScript çš„å±æ€§ã€‚ä¸è¿‡ä½ ä¾ç„¶å¯ä»¥é€šè¿‡ Object.getOwnPropertyDescriptor è·å–æŸä¸ªå¯¹è±¡ä¸Šçš„ä»¥ä¸Šå±æ€§ã€‚123const object = &#123; foo: 42 &#125;;Object.getOwnPropertyDescriptor(object, 'foo');// â†’ &#123; value: 42, writable: true, enumerable: true, configurable: true &#125;okï¼Œè¿™æ˜¯ JavaScript å¦‚ä½•å®šä¹‰å¯¹è±¡çš„ã€‚é‚£ä¹ˆï¼Œæ•°ç»„å‘¢ï¼Ÿä½ å¯ä»¥è®¤ä¸ºæ•°ç»„æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ã€‚ä¸€ä¸ªä¸åŒç‚¹æ˜¯ï¼Œæ•°ç»„ä¼šå¯¹æ•°ç»„ç´¢å¼•ç‰¹æ®Šå¤„ç†ã€‚æ•°ç»„ç´¢å¼•æ˜¯ JavaScript è§„èŒƒä¸­çš„ä¸€ä¸ªç‰¹æ®Šæœ¯è¯­ã€‚æ•°ç»„ç´¢å¼•æ˜¯æŸä¸ªèŒƒå›´å†…çš„ä»»ä½•æœ‰æ•ˆç´¢å¼•ï¼Œå³åœ¨ 0 ï½ 2Â³Â²âˆ’2 èŒƒå›´å†…çš„ä»»ä½•ä¸€ä¸ªæ•´æ•°ã€‚å¦ä¸€ä¸ªä¸åŒç‚¹æ˜¯ï¼Œæ•°ç»„è¿˜æœ‰ä¸€ä¸ª length å±æ€§ã€‚1234const array = ['a', 'b'];array.length; // â†’ 2array[2] = 'c';array.length; // â†’ 3åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæ•°ç»„åˆ›å»ºå¥½åï¼Œ&#39;length&#39; å€¼ä¸º 2ã€‚å½“æˆ‘ä»¬ç»™æ•°ç»„ç´¢å¼•ä¸º 2 çš„ä½ç½®èµ‹å€¼æ—¶ï¼Œæ•°ç»„çš„ &#39;length&#39; ä¼šè‡ªåŠ¨æ›´æ–°ã€‚åœ¨ JavaScript ä¸­ï¼Œæ•°ç»„çš„å®šä¹‰å’Œå¯¹è±¡å¾ˆç›¸ä¼¼ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„çš„æ‰€æœ‰çš„é”®ï¼ˆåŒ…æ‹¬æ•°ç»„ç´¢å¼•ï¼‰éƒ½æ˜¯å­—ç¬¦ä¸²è¡¨ç¤ºã€‚æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å­˜åœ¨é”®å€¼ä¸º &#39;0&#39; çš„åœ°æ–¹ã€‚å¦ä¸€ä¸ªå±æ€§æ˜¯ &#39;length&#39; å±æ€§ï¼Œè¯¥å±æ€§ä¸å¯æšä¸¾ä¸å¯é…ç½®ã€‚ä¸€æ—¦æ•°ç»„æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼ŒJavaScript ä¼šè‡ªåŠ¨æ›´æ–° &#39;length&#39;å±æ€§ä¸Šçš„ [[Value]] å€¼ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ•°ç»„çš„è¡Œä¸ºä¹Ÿæ˜¯å’Œå¯¹è±¡éå¸¸ç›¸ä¼¼ã€‚ä¼˜åŒ–å±æ€§çš„è®¿é—®æ—¢ç„¶æˆ‘ä»¬çŸ¥é“åœ¨ JavaScript ä¸­å¦‚ä½•å®šä¹‰å¯¹è±¡çš„ã€‚æ¥ä¸‹æ¥è®©æˆ‘ä»¬æ·±å…¥äº†è§£ JavaScript å¼•æ“æ˜¯å¦‚ä½•é«˜æ•ˆåœ°å¤„ç†å¯¹è±¡çš„ã€‚å±æ€§è®¿é—®æ˜¯æœ€å¸¸è§çš„ä¸€ä¸ªæ“ä½œï¼Œå¯¹ JavaScript å¼•æ“æ¥è¯´ï¼Œæå‡è®¿é—®é€Ÿåº¦äº‹ä»¶å¾ˆæœ‰æ„ä¹‰çš„äº‹ã€‚12345678const object = &#123; foo: 'bar', baz: 'qux',&#125;;// Here, weâ€™re accessing the property `foo` on `object`:doSomething(object.foo);// ^^^^^^^^^^å¤–å½¢ï¼ˆShapesï¼‰åœ¨ JavaScript ç¨‹åºä¸­ï¼Œæœ‰ç›¸åŒé”®çš„å¯¹è±¡å¾ˆå¤šï¼Œå®ƒä»¬æœ‰ç›¸åŒçš„ Shapeã€‚123const object1 = &#123; x: 1, y: 2 &#125;;const object2 = &#123; x: 3, y: 4 &#125;;// `object1` and `object2` have the same shape.æœ‰ç€ç›¸åŒ Shape çš„å¯¹è±¡ï¼Œè‡ªç„¶ä¼šè®¿é—®ç›¸åŒçš„å±æ€§ã€‚12345678910function logX(object) &#123; console.log(object.x); // ^^^^^^^^&#125;const object1 = &#123; x: 1, y: 2 &#125;;const object2 = &#123; x: 3, y: 4 &#125;;logX(object1);logX(object2);è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼ŒJavaScript å¼•æ“å¯ä»¥åŸºäº å¯¹è±¡çš„ Shape æ¥ä¼˜åŒ–å¯¹è±¡å±æ€§çš„è®¿é—®é€Ÿåº¦ã€‚æˆ‘ä»¬å‡è®¾ä¸€ä¸ªå¯¹è±¡æœ‰ xã€y å±æ€§ï¼Œä¸”ç”¨ç€å­—å…¸è¿™ç§æ•°æ®ç»“æ„ï¼šå®ƒåŒ…å«å­—ç¬¦ä¸²è¡¨ç¤ºçš„é”®ï¼Œå¹¶ä¸”é”®æŒ‡å‘å„è‡ªçš„å±æ€§ç‰¹æ€§ï¼ˆproperty attributesï¼‰ã€‚å¦‚æœè¦è®¿é—®ä¸€ä¸ªå±æ€§ï¼Œä¾‹å¦‚ object.yï¼ŒJavaScript å¼•æ“ä¼šåœ¨ JSObject ä¸­æŸ¥æ‰¾ yï¼Œç„¶ååŠ è½½å¯¹åº”çš„å±æ€§ç‰¹æ€§ï¼Œæœ€åè¿”å› [[Value]]ã€‚ä½†æ˜¯åœ¨å†…å­˜ä¸­ï¼Œè¿™äº›å±æ€§ç‰¹æ€§è¦å­˜å‚¨åœ¨å“ªå„¿å‘¢ï¼Ÿæˆ‘ä»¬åº”è¯¥æŠŠå®ƒä»¬å½“ä½œ JSObject çš„ä¸€éƒ¨åˆ†å­˜å‚¨å—ï¼Ÿå‡è®¾ä¹‹åä¼šæœ‰æ›´å¤šçš„æ‹¥æœ‰ç›¸åŒ Shape çš„å¯¹è±¡ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ JSObject ä¸Šå­˜å‚¨ä¸€ä¸ªåŒ…å«å±æ€§åç§°å’Œå±æ€§ç‰¹æ€§çš„å®Œæ•´å­—å…¸çš„è¯ï¼Œé‚£æ˜¾ç„¶ä¼šæ˜¯ä¸€ç§æµªè´¹ã€‚å› ä¸ºæ‹¥æœ‰ç›¸åŒ Shape çš„å¯¹è±¡ï¼Œå®ƒä»¬çš„å±æ€§åç§°ä¼šé‡å¤ã€‚è¿™å›é€ æˆå¤§é‡é‡å¤å’Œä¸å¿…è¦çš„å†…å­˜ä½¿ç”¨ã€‚ä½œä¸ºä¼˜åŒ–ï¼Œå¼•æ“å°†å¯¹è±¡çš„ Shape å•ç‹¬åœ°å­˜å‚¨ã€‚Shape åŒ…å«æ‰€æœ‰çš„å±æ€§åç§°å’Œå±æ€§ç‰¹æ€§ï¼Œé™¤äº† [[Value]]ã€‚ä¸è¿‡ï¼ŒShape åŒ…å«äº† [[Value]] åœ¨ JSObject ä¸Šçš„åç§»é‡ï¼Œå› æ­¤ JavaScript å¼•æ“çŸ¥é“å»å“ªé‡Œæ‰¾åˆ°ç›¸åº”çš„å€¼ã€‚ æ¯ä¸ªæ‹¥æœ‰ç›¸åŒ Shape çš„ JSObject éƒ½æŒ‡å‘åŒä¸€ä¸ª Shape å®ä¾‹ã€‚ç°åœ¨ï¼Œæ¯ä¸ª JSObject åªéœ€å­˜å‚¨å¯¹è±¡çš„å€¼å³å¯ã€‚å½“æˆ‘ä»¬æœ‰å¾ˆå¤šä¸ªå¯¹è±¡æ—¶ï¼Œå¥½å¤„ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚ä¸ç®¡æœ‰å¤šå°‘ä¸ªå¯¹è±¡ï¼Œåªè¦æœ‰ç›¸åŒçš„ Shapeï¼ŒShape å’Œå±æ€§ä¿¡æ¯åªéœ€è¦å­˜å‚¨ä¸€æ¬¡ã€‚æ‰€æœ‰çš„ JavaScript å¼•æ“éƒ½ç”¨ Shapes æ¥ä¼˜åŒ–ï¼Œä½†å«æ³•å´ä¸åŒï¼šå­¦æœ¯è®ºæ–‡ç§°ä¹‹ä¸º Hidden Classesï¼ˆå®¹æ˜“å’Œ JavaScript ä¸­çš„ Class æ··æ·†ï¼‰V8 ç§°ä¹‹ä¸º Mapsï¼ˆå®¹æ˜“å’Œ JavaScript ä¸­çš„ Map æ··æ·†ï¼‰Chakra ç§°ä¹‹ä¸º Typesï¼ˆå®¹æ˜“å’Œ JavaScript ä¸­çš„åŠ¨æ€ç±»å‹ä¸ typeof æ··æ·†ï¼‰JavaScriptCore ç§°ä¹‹ä¸º StructuresSpiderMonkey ç§°ä¹‹ä¸º Shapesåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ç»§ç»­ç§°ä¹‹ä¸º Shapesã€‚è¿‡æ¸¡é“¾ä¸æ ‘ï¼ˆTransition chains and treesï¼‰å¦‚æœä¸€ä¸ªå¯¹è±¡æœ‰äº†ä¸€ä¸ªç¡®å®šçš„ Shape,ç„¶ååˆæ·»åŠ äº†ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼ŸJavaScript å¼•æ“å¦‚ä½•æ‰¾åˆ°æ”¹å˜åçš„æ–° Shapeï¼Ÿ123const object = &#123;&#125;;object.x = 5;object.y = 6;åœ¨ JavaScript å¼•æ“ä¸­ï¼Œè¿™ç§ Shapes ç»“æ„ç§°ä¹‹ä¸ºè¿‡æ¸¡é“¾ã€‚å¦‚ä¸‹ï¼šå¯¹è±¡å¼€å§‹æ—¶æ²¡æœ‰ä»»ä½•å±æ€§ï¼Œå› æ­¤å®ƒä¼šæŒ‡å‘ä¸€ä¸ªç©ºçš„ Shapeã€‚ä¸‹ä¸€æ¡è¯­å¥å¯¹è±¡æ·»åŠ äº†ä¸€ä¸ªå±æ€§ &#39;x&#39;ï¼Œå±æ€§å€¼ä¸º 5ï¼Œå› æ­¤å¯¹è±¡æŒ‡å‘åŒ…å«å±æ€§ &#39;x&#39; çš„ Shapeï¼Œä¸”åœ¨ JSObject ä¸­åç§»é‡ä¸º 0 çš„ä½ç½®æ·»åŠ  5ã€‚ä¸‹ä¸€æ¡è¯­å¥å¯¹è±¡æ·»åŠ äº†ä¸€ä¸ªå±æ€§ &#39;y&#39;ï¼Œå±æ€§å€¼ä¸º 5ï¼Œå› æ­¤å¯¹è±¡æŒ‡å‘åŒ…å«å±æ€§ &#39;x&#39; å’Œ &#39;y&#39; çš„ Shapeï¼Œä¸”åœ¨ JSObject ä¸­åç§»é‡ä¸º 1 çš„ä½ç½®æ·»åŠ  6ã€‚æ³¨æ„ï¼š å±æ€§çš„æ·»åŠ é¡ºåºä¼šå½±å“ Shapeã€‚ä¾‹å¦‚ï¼Œ{x: 4, y: 5} å’Œ {y: 5, x: 4} æœ‰ä¸åŒçš„ Shapeã€‚æˆ‘ä»¬æ²¡æœ‰å¿…è¦è®©æ¯ä¸ª Shape éƒ½å­˜å‚¨å®Œæ•´çš„å±æ€§è¡¨ã€‚ç›¸åï¼Œæ¯ä¸ª Shape åªéœ€è¦çŸ¥é“æ–°å¼•å…¥çš„å±æ€§å³å¯ã€‚ä¾‹å¦‚ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦åœ¨æœ€åä¸€ä¸ª Shape ä¸­å­˜å‚¨å±æ€§ &#39;x&#39; çš„ä¿¡æ¯ï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨é“¾çš„ä¸Šæ¸¸ä¸­è¢«æŸ¥æ‰¾åˆ°ã€‚è¦è¾¾æ­¤ç›®çš„ï¼Œæ¯ä¸ª Shape éƒ½ä¼šå’Œå…ˆå‰çš„ Shape é“¾æ¥ã€‚å¦‚æœä½ åœ¨ JavaScript ä»£ç ä¸­å†™äº† o.xï¼ŒJavaScript å¼•æ“ä¼šæ²¿ç€è¿‡æ¸¡é“¾æŸ¥æ‰¾å±æ€§ &#39;x&#39;ï¼Œç›´åˆ°å‘ç°å¼•å…¥ &#39;x&#39; çš„ Shapeã€‚ä½†æ˜¯ï¼Œå¦‚æœæ²¡æ³•åˆ›å»ºè¿‡æ¸¡é“¾å‘¢ï¼Ÿä¾‹å¦‚ï¼Œç»™ä¸¤ä¸ªç©ºå¯¹è±¡æ·»åŠ ä¸åŒçš„å±æ€§ã€‚1234const object1 = &#123;&#125;;object1.x = 5;const object2 = &#123;&#125;;object2.y = 6;è¿™ç§æƒ…å†µä¸‹ï¼Œä¸å¾—ä¸è¿›è¡Œåˆ†æ”¯å¤„ç†ï¼Œç”¨è¿‡æ¸¡æ ‘ï¼ˆtransition treeï¼‰å–ä»£è¿‡æ¸¡é“¾ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç©ºå¯¹è±¡ aå¹¶ç»™å®ƒæ·»åŠ äº†å±æ€§ &#39;x&#39;ã€‚æœ€ç»ˆå¾—åˆ°ä»¥ä¸€ä¸ªåŒ…å«å•ä¸ªå€¼çš„ JSObjectå’Œä¸¤ç§ Shapeï¼ˆç©ºçš„ Shape å’Œä»…æœ‰å±æ€§ &#39;x&#39; çš„ Shapeï¼‰ã€‚ç¬¬äºŒä¸ªä¾‹å­ä¹Ÿæ˜¯ä»¥ä¸€ä¸ªç©ºå¯¹è±¡ b å¼€å§‹ï¼Œä½†æ˜¯æ·»åŠ çš„æ˜¯å±æ€§ &#39;y&#39;ã€‚æœ€ç»ˆå¾—åˆ°ä¸¤æ¡ Shape é“¾å’Œä¸‰ä¸ª Shapeã€‚è¿™æ˜¯å¦æ„å‘³ç€æ€»æ˜¯ä»¥ç©º Shape å¼€å¤´å‘¢ï¼Ÿä¸ä¸€å®šã€‚å¼•æ“å¯¹å·²ç»å­˜åœ¨å±æ€§çš„å¯¹è±¡å­—é¢ä¸¤åšäº†ä¼˜åŒ–ã€‚æ¥çœ‹ä¸¤ä¸ªä¾‹å­ï¼Œä¸€ä¸ªæ˜¯ä»ç©ºçš„å¯¹è±¡å¼€å§‹æ·»åŠ å±æ€§ &#39;x&#39;ï¼Œä¸€ä¸ªæ˜¯å·²ç»å­˜åœ¨å±æ€§ &#39;x&#39; çš„å¯¹è±¡å­—é¢é‡ã€‚123const object1 = &#123;&#125;;object1.x = 5;const object2 = &#123; x: 6 &#125;;ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä»ç©ºçš„ Shape è¿‡æ¸¡åˆ°åŒ…å«å±æ€§ &#39;x&#39; çš„ Shapeï¼Œå°±å¦‚ä¹‹å‰æ‰€çœ‹åˆ°çš„é‚£æ ·ã€‚å¯¹äº object2ï¼Œå®ƒç›´æ¥ç”ŸæˆåŒ…å«å±æ€§ &#39;x&#39; çš„å¯¹è±¡è€Œä¸æ˜¯ä»ç©ºå¯¹è±¡å¼€å§‹è¿‡æ¸¡ã€‚è¿™ä¸ªåŒ…å«å±æ€§ &#39;x&#39; çš„å¯¹è±¡ï¼Œä»¥åŒ…å« &#39;x&#39; çš„ Shape å¼€å¤´ï¼Œçœå»äº†ç©º Shape è¿™ä¸ªæ­¥éª¤ã€‚è‡³å°‘ V8 å’Œ SpiderMonkey æ˜¯è¿™ä¹ˆåšçš„ã€‚è¿™ç§ä¼˜åŒ–ç¼©çŸ­äº†è¿‡æ¸¡é“¾ï¼Œä½¿å¾—åˆ›å»ºå¯¹è±¡æ›´åŠ é«˜æ•ˆã€‚Benedikt çš„æ–‡ç«  surprising polymorphism in React applications è®¨è®ºäº†è¿™äº›å¾®å¦™ä¹‹å¤„æ˜¯å¦‚ä½•å½±å“åˆ°å®é™…æ€§èƒ½çš„ã€‚è¿™æœ‰ä¸€ä¸ªæ‹¥æœ‰å±æ€§ &#39;x&#39;ã€â€˜yâ€™ã€â€˜zâ€™` çš„ä¸‰ç»´ç‚¹å¯¹è±¡çš„ä¾‹å­ã€‚1234const point = &#123;&#125;;point.x = 4;point.y = 5;point.z = 6;å°±å¦‚ä¹‹å‰æ‰€å­¦åˆ°çš„ï¼Œåœ¨å†…å­˜ä¸Šï¼Œè¿™å›åˆ›å»ºæœ‰ä¸‰ä¸ª Shape çš„å¯¹è±¡ï¼ˆç©º Shape ä¸è®¡å…¥ï¼‰ã€‚è®¿é—®å¯¹è±¡çš„å±æ€§ &#39;x&#39;ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ç¨‹åºä¸­å†™ä¸‹äº† point.xï¼ŒJavaScript å¼•æ“ä¼šé¡ºç€é“¾è¡¨ï¼šå®ƒä¼šä»åº•éƒ¨çš„ Shape å¼€å§‹ï¼Œä¸€ç›´å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°å‘ç°å¼•å…¥ &#39;x&#39; çš„é‚£ä¸ª Shapeã€‚å¦‚æœè¿™ç§æ“ä½œå¾ˆé¢‘ç¹ï¼Œå°±ä¼šæ˜¾å¾—å¾ˆæ…¢ï¼Œå°¤å…¶æ˜¯ä¸€ä¸ªå¯¹è±¡æœ‰å¾ˆå¤šå±æ€§æ—¶ã€‚æ£€ç´¢åˆ°éœ€è¦çš„å±æ€§æ‰€èŠ±æ—¶é—´æ˜¯ Oï¼ˆnï¼‰ï¼Œå³çº¿æ€§çš„ã€‚ä¸ºäº†æé«˜æ£€ç´¢é€Ÿåº¦ï¼ŒJavaScript å¼•æ“åŠ å…¥äº† ShapeTable æ•°æ®ç»“æ„ã€‚ShapeTable æ˜¯ä¸ªå­—å…¸ï¼Œå®ƒå°†å±æ€§å’Œå¼•å…¥è¯¥å±æ€§çš„ Shape å…³è”èµ·æ¥ã€‚ä¸”æ…¢ï¼Œæˆ‘ä»¬åˆå›åˆ°äº†å­—å…¸æŸ¥æ‰¾â€¦â€¦è¿™ä¸å°±æ˜¯æˆ‘ä»¬åœ¨å¼•å…¥ Shapes ä¹‹å‰çš„æ–¹å¼å—ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬éè¦æ•´å‡ºä¸ª Shapesï¼ŸåŸå› æ˜¯ Shapes å¯ä»¥å®ç°å¦ä¸€ç§ç§°ä¹‹ä¸ºå†…è”ç¼“å­˜çš„ä¼˜åŒ–ã€‚å†…è”ç¼“å­˜ï¼ˆInline Caches (ICs)ï¼‰ICs æ˜¯ JavaScript å¿«é€Ÿè¿è¡Œçš„å…³é”®å› ç´ ã€‚JavaScript å¼•æ“å¯ä»¥åˆ©ç”¨ ICs ç¼“å­˜å¯¹è±¡çš„å±æ€§ä¿¡æ¯ï¼Œä»è€Œå‡å°‘å±æ€§æŸ¥æ‰¾çš„å¼€é”€ã€‚æœ‰ä¸ªå‡½æ•° getX ï¼Œæ¥å—ä¸€ä¸ªå¯¹è±¡å¹¶åŠ è½½è¯¥å¯¹è±¡ä¸Šçš„å±æ€§ xï¼š123function getX(o) &#123; return o.x;&#125;å¦‚æœæˆ‘ä»¬åœ¨ JSCï¼ˆJavaScriptCoreï¼‰ ä¸­è¿è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå®ƒä¼šç”Ÿæˆä»¥ä¸‹çš„å­—èŠ‚ç ï¼šç¬¬ä¸€æ¡æŒ‡ä»¤ï¼ˆget_by_idï¼‰æ˜¯ä»å‚æ•° arg1 ä¸­åŠ è½½å±æ€§ xï¼Œå¹¶å°†å…¶å€¼å­˜å‚¨åˆ° loc0 ä¸­ã€‚ç¬¬äºŒæ¡æŒ‡ä»¤æ˜¯è¿”å› loc0 ä¸­å­˜å‚¨çš„å€¼ã€‚JSC è¿˜åœ¨ get_by_id æŒ‡ä»¤ä¸­åµŒå…¥äº†å†…è”ç¼“å­˜ï¼Œå®ƒæ˜¯ç”±ä¸¤ä¸ªæœªåˆå§‹åŒ–çš„æ’æ§½ç»„æˆã€‚ç°åœ¨ç»™å‡½æ•° getX ä¼ å…¥å¯¹è±¡ { x: &#39;a&#39; }ã€‚å¦‚æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªåŒ…å«å±æ€§ x çš„ Shapeï¼Œè¿™ä¸ª Shape å­˜å‚¨äº†å±æ€§ x çš„åç§»é‡å’Œç‰¹æ€§ã€‚å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ‰§è¡Œå‡½æ•°æ—¶ï¼Œget_by_id æŒ‡ä»¤ä¼šæŸ¥æ‰¾å±æ€§ x å¹¶æ£€ç´¢åˆ°å€¼è¢«å­˜å‚¨åœ¨åç§»é‡ä¸º 0 ä½ç½®ã€‚åµŒåœ¨ get_by_id æŒ‡ä»¤ä¸­çš„å†…è”ç¼“å­˜ä¼šè®°ä½ Shape å’Œå±æ€§çš„åç§»é‡ã€‚åœ¨ä¸‹æ¬¡å‡½æ•°æ‰§è¡Œæ—¶ï¼Œå†…è”ç¼“å­˜ä¼šå¯¹æ¯” Shapeï¼Œå¦‚æœä¸ä¹‹å‰çš„ Shape ç›¸åŒï¼Œå°±åªéœ€è¦é€šè¿‡ç¼“å­˜çš„åç§»é‡åŠ è½½å€¼ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœ JavaScript å¼•æ“å‘ç°å¯¹è±¡çš„ Shape å’Œä¹‹å‰è®°å½•çš„ Shape ä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒå°±å†ä¹Ÿä¸éœ€è¦å»æŸ¥æ‰¾å±æ€§ä¿¡æ¯äº† â€”â€” å±æ€§ä¿¡æ¯çš„æŸ¥æ‰¾å°±å¯ä»¥å®Œå…¨è·³è¿‡ã€‚ç›¸æ¯”æ¯æ¬¡éƒ½å»æŸ¥æ‰¾å±æ€§ä¿¡æ¯ï¼Œè¿™æ ·çš„æ“ä½œä¼šæ˜¾è‘—åœ°æå‡é€Ÿåº¦ã€‚é«˜æ•ˆå­˜å‚¨æ•°ç»„ï¼ˆStoring arrays efficientlyï¼‰å¯¹äºæ•°ç»„ï¼Œä½¿ç”¨æ•°ç»„ç´¢å¼•ä½œä¸ºæ•°ç»„çš„å±æ€§æ˜¯å¾ˆå¸¸è§çš„ï¼Œå±æ€§å¯¹åº”çš„å€¼ç§°ä¹‹ä¸ºæ•°ç»„å…ƒç´ ã€‚ä¸ºæ¯ä¸ªæ•°ç»„çš„æ¯ä¸ªæ•°ç»„å…ƒç´ å­˜å‚¨å±æ€§ç‰¹æ€§æ˜¯ä¸€ç§é“ºå¼ æµªè´¹çš„è¡Œä¸ºã€‚åœ¨ JavaScript å¼•æ“ä¸­ï¼Œæ•°ç»„çš„ç´¢å¼•å±æ€§é»˜è®¤æ˜¯å¯è¯»ã€å¯æšä¸¾å’Œå¯é…ç½®çš„ï¼Œä¸”æ•°ç»„å…ƒç´ æ˜¯ä¸å‘½åå±æ€§åˆ†å¼€å­˜å‚¨çš„ã€‚æ€è€ƒä»¥ä¸‹è¿™ä¸ªæ•°ç»„ï¼š123const array = [ '#jsconfeu',];å¼•æ“å­˜å‚¨äº†ä¸€ä¸ªæ•°ç»„é•¿åº¦ä¸º 1 çš„æ•°ç»„ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ªåŒ…å«åç§»é‡å’Œ length ç‰¹æ€§çš„ Shapeã€‚è¿™ä¸ªä¹‹å‰è§è¿‡çš„å¾ˆç›¸ä¼¼â€¦â€¦ ä½†æ˜¯æ•°ç»„å…ƒç´ çš„å€¼å­˜åœ¨å“ªå‘¢ï¼Ÿæ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å…ƒç´ å¤‡ä»½å­˜å‚¨ï¼ˆelements backing storeï¼‰ï¼ŒåŒ…å«ç€æ‰€æœ‰ç´¢å¼•å±æ€§å¯¹åº”çš„å€¼ã€‚JavaScript å¼•æ“ä¸å¿…ä¸ºæ•°ç»„å…ƒç´ å­˜å‚¨å±æ€§ç‰¹æ€§ï¼Œå› ä¸ºä»–ä»¬é€šå¸¸æ˜¯å¯å†™ã€å¯æšä¸¾å’Œå¯é…ç½®çš„ï¼Œä¸”æ•°ç»„ç´¢å¼•å¯ä»¥æ›¿ä»£åç§»é‡çš„ä½œç”¨ã€‚å¦‚æœæ˜¯ä¸å¯»å¸¸çš„æƒ…å†µä¼šæ€æ ·å‘¢ï¼Ÿæ¯”å¦‚ï¼Œæ”¹å˜æ•°ç»„å…ƒç´ çš„å±æ€§ç‰¹æ€§ï¼ˆproperty attributesï¼‰ã€‚1234567891011// Please donâ€™t ever do this!const array = Object.defineProperty( [], '0', &#123; value: 'Oh noes!!1', writable: false, enumerable: false, configurable: false, &#125;);ä¸Šé¢çš„è¿™ä¸ªä»£ç ç‰‡æ®µæ˜¯ç»™å¯¹è±¡å±æ€§ &#39;0&#39; çš„ç‰¹æ€§è®¾ç½®æˆéé»˜è®¤å€¼ã€‚åƒè¿™ç§æƒ…å†µï¼ŒJavaScript å¼•æ“ä¼šå°†æ•´ä¸ªå…ƒç´ å¤‡ä»½å­˜å‚¨è¡¨ç¤ºä¸ºä¸€ä¸ªå­—å…¸ï¼ŒæŠŠæ•°ç»„ç´¢å¼•å’Œå±æ€§ç‰¹æ€§å…³è”èµ·æ¥ã€‚å³ä½¿æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ çš„å±æ€§ç‰¹æ€§æ˜¯éé»˜è®¤å€¼ï¼Œå…ƒç´ å¤‡ä»½å­˜å‚¨ä¹Ÿä¼šè¿›å…¥ç¼“æ…¢ä½æ•ˆçš„æ¨¡å¼ï¼ˆä» Elements æ¨¡å¼ åˆ° Dictionary Elements æ¨¡å¼ï¼‰ã€‚é¿å…ç”¨ Object.defineProperty æ”¹å˜æ•°ç»„ç´¢å¼•ï¼çœ‹ç‚¹ï¼ˆTake-awaysï¼‰åŸºäºä»¥ä¸Šçš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº› JavaScript ç¼–ç¨‹æŠ€å·§æ¥æå‡æ€§èƒ½ï¼šå§‹ç»ˆä»¥ç›¸åŒçš„æ–¹å¼åˆå§‹åŒ–å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥å¤ç”¨ Shapeã€‚ä¸è¦æ²¡äº‹çæŠ˜è…¾æ•°ç»„å…ƒç´ çš„å±æ€§ç‰¹æ€§ï¼Œå®ƒä»¬æœ¬å¯ä»¥é«˜æ•ˆåœ°å·¥ä½œã€‚]]></content>
      <categories>
        <category>å†™ç‚¹å•¥</category>
      </categories>
      <tags>
        <tag>JavaScript å¼•æ“</tag>
        <tag>V8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯æ¶æ„ç¢ç¢å¿µ]]></title>
    <url>%2F%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%A2%8E%E7%A2%8E%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[å‰ç«¯æ¶æ„ç¢ç¢å¿µå‰è¨€æœ€è¿‘çœ‹äº†ä¸€äº›å…³äºå‰ç«¯æ¶æ„ç›¸å…³çš„ä¹¦ç±å’Œåšå®¢ï¼Œè§‰å¾—æœ‰ç‚¹è‡ªæˆ‘è†¨èƒ€äº†ï¼Œç«Ÿç„¶æƒ³å¯¹ç€å‰ç«¯æ¶æ„è¿™ä¸€è¯´æ³•æŒ‡æŒ‡ç‚¹ç‚¹ã€‚ä»è·¨å…¥è¿™ä¸ªè¡Œä¸šå¼€å§‹ï¼Œå°±è§‰å¾—æ¶æ„å¸ˆå°±æ˜¯ä½äºæŠ€æœ¯é‡‘å­—å¡”çš„é¡¶ç«¯çš„é‚£æ‹¨äººï¼Œæ˜¯å¼•å¯¼è¡Œä¸šæˆ–å›¢é˜ŸæŠ€æœ¯èµ°å‘çš„é‚£æ‹¨äººã€‚ç„¶è€Œä»è¡Œä¸šä¸Šå¯¹å‰ç«¯æ¶æ„çš„å®šä¹‰å’Œå¿…å¤‡çš„æŠ€èƒ½æ¥çœ‹ï¼Œè§‰å¾—å‰ç«¯æ¶æ„å°±æ˜¯ä¸€ä¸ªä¼ªæ¦‚å¿µï¼Œåˆæˆ–æ˜¯æ‹”é«˜è‡ªå·±èº«ä»½çš„å¹Œå­ã€‚ç±»æ¯”äºå»ºæˆ¿å­ï¼Œè€ƒè™‘åˆ°äººæ–‡å› ç´ ï¼Œä¼šæœ‰ä¸­è¥¿é£æ ¼ï¼›è€ƒè™‘åˆ°åœ°ç†ä½ç½®ï¼Œä¼šæœ‰å—åŒ—ä¹‹åˆ†ï¼›è€ƒè™‘åˆ°ç®€æ˜“æ–¹ä¾¿ï¼Œè¿˜ä¼šæœ‰ç»„åˆå¼é›†è£…ç®±æˆ¿å±‹ã€‚è®¾è®¡å¸ˆä¼šè¿ç”¨è‡ªå·±ä¸“ä¸šçŸ¥è¯†å¹¶é›†åˆå„ç§å› ç´ ï¼Œè®¾è®¡å‡ºç¬¦åˆå½“å‰ç¯å¢ƒçš„æˆ¿å±‹ã€‚è€Œæ¶æ„å¸ˆä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä»–ä»¬éœ€è¦ä»ä¸šåŠ¡ã€æŠ€æœ¯ç­‰è§’åº¦æ„é€ å‡ºåˆç†çš„ç»„ç»‡æ¶æ„ã€‚å‰ç«¯æŠ€æœ¯ä¸æ–­å‘å±•æ¼”è¿›ï¼Œä»æ¨¡å—åŒ–çš„æ‘¸ç´¢ï¼Œåˆ° MV* çš„å®è·µï¼Œå†åˆ°å½“ä»Šç»„ä»¶åŒ–çš„ç››è¡Œã€‚è¿™äº›æŠ€æœ¯äººä¸æ–­æŠ˜è…¾ï¼Œä¸æ–­æ”¹è¿›å‰ç«¯æ¶æ„ï¼Œä½¿ä¹‹æ›´ç¬¦åˆè¿™ä¸ªæ—¶ä»£ã€‚åœ¨å¸‚åœºçš„ç­›é€‰ä¸‹ï¼Œæœ€ç»ˆä¹Ÿç•™ä¸‹äº†æœ€é€‚åˆå½“å‰çš„å‰ç«¯æŠ€æœ¯æ–¹æ¡ˆã€‚ä¸è¿‡ï¼Œå¤§éƒ¨åˆ†å‰ç«¯æ¶æ„å¸ˆå¹¶ä¸å…·å¤‡è¿™ç§èƒ½åŠ›ï¼Œå……å…¶é‡å°±æ˜¯ç»éªŒä¸°å¯Œçš„åŒ…å·¥å¤´ï¼ŒæŸç§å‰ç«¯æŠ€æœ¯æ–¹æ¡ˆçš„è·µè¡Œè€…ã€‚è®¾è®¡å¸ˆæ€ä¹ˆç»ƒæˆçš„ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ã€‚ä½†æ˜¯ç±»æ¯”åŒ…å·¥å¤´ï¼Œæˆ‘ä»¬è¿˜æ˜¯çŸ¥é“å‰ç«¯ Leader åº”è¯¥åšä»€ä¹ˆã€‚å¼€å·¥å‰çš„å‰æœŸå‡†å¤‡è¿™é‡Œçš„å‰æœŸå‡†å¤‡ï¼ŒæŒ‡çš„æ˜¯ä»é›¶å¯åŠ¨ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å‡†å¤‡å·¥ä½œã€‚è€Œæœ€èƒ½ä½“ç°æ•´ä¸ªé¡¹ç›®çš„æŠ€æœ¯å«é‡çš„æ´»ä¼°è®¡æœ‰å¤§åŠåœ¨è¿™é‡Œäº†ã€‚ä½œä¸ºä¸€ä¸ªåŒ…å·¥å¤´ï¼Œä¸æ˜¯è¯´æˆ‘èƒ½æŠŠç –ç Œå¾—æœ‰å¤šå¥½ï¼Œè€Œæ˜¯è¶³å¤Ÿäº†è§£ç°æœ‰çš„èµ„æºå’Œå·¥ä½œæµï¼Œå¹¶æ­å»ºå¥½åŸºç¡€è®¾æ–½ï¼Œä¸ºæ—¥åé¡¹ç›®é«˜æ•ˆæ¨è¿›èµ·ä¸ªå¥½å¤´ã€‚åœ¨å¾ˆæ—©ä»¥å‰ï¼Œæ•°æ®å’Œè§†å›¾è€¦åˆï¼Œé‚£æ—¶å€™æ²¡æœ‰å‰ç«¯çš„ä»€ä¹ˆäº‹ï¼Œæœ€å¤šä½œä¸ºé¡µé¢ä»”ä¸ºåç«¯æä¾›æ¨¡æ¿ï¼Œæˆ–è€…è¯´ç”»å‡ ä¸ªå±•ç¤ºç”¨çš„é™æ€é¡µé¢ã€‚ä¹‹å ajax çš„å…´èµ·ï¼Œè®©æ•°æ®å’Œè§†å›¾çš„å…³ç³»å¼€å§‹æ¾ç»‘ï¼Œå‰ç«¯åœ¨æ•°æ®çš„èµ‹èƒ½ä¸‹ï¼Œè¿æ¥äº†ä¸€æ¬¡å¤§å‘å±•ã€‚äººè¦ä¸æ•°æ®äº¤äº’ï¼Œå¿…ç„¶è¦é€šè¿‡æŸä¸ªåª’ä»‹ï¼Œè€Œå‰ç«¯åœ¨è·å–éƒ¨åˆ†æ•°æ®çš„æƒé™åï¼Œåˆåè¿‡æ¥ä¿ƒè¿›äº†äººä¸æ•°æ®çš„äº’åŠ¨å…³ç³»ã€‚å³ä½¿åé¢çš„ Nodeï¼Œæˆ‘ä¹Ÿè®¤ä¸ºæ˜¯å‰ç«¯ä¸ºäº‰å–æ“ä½œæ•°æ®æƒé™è€Œåšçš„åŠªåŠ›ã€‚æ¯•ç«Ÿï¼Œè¿™ä¸ªå¹´ä»£æ•°æ®æ‰æ˜¯ç‹é“ã€‚è§†å›¾æ€ä¹ˆè·å–æ•°æ®ï¼Ÿè§†å›¾æ€ä¹ˆå±•ç¤ºæ•°æ®ï¼Ÿè§†å›¾æ€ä¹ˆæ›´å¥½å¾—è·å–æ•°æ®ï¼Ÿè§†å›¾æ€ä¹ˆæ›´å¥½å¾—å±•ç¤ºæ•°æ®ï¼Ÿï¼ˆâ€¦æ²¡æƒ³é‚£ä¹ˆå¤šâ€¦ï¼‰æ¶æ„è®¾è®¡ä»æ—©æœŸçš„æœåŠ¡ç«¯ç›´å‡ºåˆ°ç°åœ¨çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè§†å›¾çš„æ¸²æŸ“å…œå…œè½¬è½¬è²Œä¼¼åˆå›åˆ°çš„èµ·ç‚¹ã€‚ä½†æ­¤éå½¼ï¼Œä¸å¯åŒæ—¥è€Œè¯­ã€‚ajax è¢« Google ä½¿ç”¨åï¼Œéšä¹‹è€Œæ¥çš„æ˜¯å‰åç«¯çš„åˆ†ç¦»ã€‚å‰ç«¯åº”ç”¨ä¹Ÿæ˜¯è·Ÿéšæ—¶ä»£è€Œå‘ˆç°ä¸åŒçš„æ¶æ„è®¾è®¡ï¼Œæ¯”å¦‚å¤šé¡µé¢åº”ç”¨ã€å•é¡µé¢åº”ç”¨ã€åŒæ„æ¸²æŸ“ã€å¾®å‰ç«¯ç­‰ã€‚å®ƒä»¬çš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³æŸäº›é—®é¢˜è€Œç»™å‡ºçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œæ‰€ä»¥è¯´å³ä½¿è¿‡æ—¶ï¼Œå´ä¾ç„¶æœ‰å…¶ä»·å€¼ã€‚å¤šé¡µé¢åº”ç”¨ï¼Œç›¸å¯¹æ¥è¯´ï¼Œæ¯”è¾ƒç®€å•ã€‚ç®€å•çš„å¤šé¡µé¢åº”ç”¨ï¼Œæ¯”å¦‚é™æ€é¡µé¢ï¼Œè¿™é‡Œå¯èƒ½å‹æ ¹æ²¡ JS çš„äº‹ã€‚å¤æ‚ç‚¹çš„å¤šé¡µé¢åº”ç”¨ï¼Œå¯èƒ½è¦å¼•å…¥æ¨¡æ¿å¼•æ“ï¼Œè·¯ç”±ç­‰ã€‚è¦æ˜¯è§‰å¾—åŸç”Ÿæ“ä½œ DOM ä¸æ–¹ä¾¿ï¼Œå¯ä»¥ä½¿ç”¨ jQueryã€‚å¤šé¡µé¢åº”è¯¥åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šåŠ è½½éœ€è¦çš„èµ„æºï¼Œç”±äºæµè§ˆå™¨ç¼“å­˜ç­–ç•¥ï¼Œç¬¬äºŒæ¬¡åŠ è½½ç›¸åŒçš„èµ„æºæ—¶ï¼Œå¯èƒ½å°±ä¸éœ€è¦é‡å¤è¯·æ±‚äº†ã€‚åœ¨ç»“åˆä¸€ç‚¹ MV* æ¨¡å¼ï¼Œå¿«å’Œå•é¡µé¢åº”ç”¨æ²¡ä»€ä¹ˆåŒºåˆ«äº†ã€‚åªæ˜¯ç°åœ¨æµè¡Œçš„å•é¡µé¢ä¸éœ€è¦ç›´æ¥æ“ä½œ DOM ï¼Œè€Œæ˜¯äº¤ç»™æ¡†æ¶åº•å±‚å¤„ç†äº†ã€‚ä»¥ä¸Šçš„åº”ç”¨è¯´æ¥è¯´å»å¯èƒ½éƒ½æ˜¯åŒä¸€ä¸ªåº”ç”¨ï¼Œåœ¨æŸäº›åœºæ™¯ï¼Œå°±éœ€è¦èšåˆå¤šä¸ªå‰ç«¯åº”ç”¨ï¼Œæœ‰è·¯ç”±åˆ†å‘çš„æ–¹æ¡ˆï¼Œæœ‰ iframe ä½œä¸ºå®¹å™¨çš„æ–¹æ¡ˆç­‰ã€‚å‰ç«¯è§„èŒƒã€Œä¹¦åŒæ–‡ï¼Œè½¦åŒè½¨ã€æ—¢ç„¶æ˜¯åŒ…å·¥å¤´ï¼Œè‡ªç„¶ä¸å¤§å¯èƒ½æ˜¯ä¸€ä¸ªå…‰æ†å¸ä»¤ã€‚åˆ¶å®šè§„èŒƒï¼Œä¸ä»…å¯ä»¥ä½¿æˆå‘˜ä»£ç é£æ ¼è¶‹äºç»Ÿä¸€ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä½¿æ–°æ‰‹å…»æˆè‰¯å¥½çš„ç¼–ç ä¹ æƒ¯ã€‚å¯¹äºå‰ç«¯æ¥è¯´ï¼ŒHTMLã€CSSã€JS åˆ†åˆ«ä»£è¡¨äº†ç»“æ„å±‚ã€è¡¨ç°å±‚å’Œè¡Œä¸ºå±‚ã€‚åœ¨ä»£ç å±‚æ¬¡ä¸Šï¼Œå®ƒä»¬éƒ½æœ‰è‡ªå·±çš„ä¸€å¥—æ ‡å‡†ï¼Œå¯ä»¥ç»“åˆå„è‡ª lintå·¥å…· + Prettier è½»æ¾è§„èŒƒä»£ç ã€‚ä»ç»„ä»¶è§„èŒƒè§’åº¦ï¼Œè¿˜åŒ…æ‹¬ UI ç»„ä»¶è§„èŒƒã€æ¨¡å—åŒ–è§„èŒƒã€é¡¹ç›®ç»„ä»¶åŒ–è®¾è®¡æ–¹æ¡ˆç­‰ã€‚ç¼–è¾‘å™¨æœ€å¥½ä¹Ÿèƒ½å¤Ÿç»Ÿä¸€ä¸‹ï¼Œå¦‚æœèƒ½å¤Ÿæ‘¸ç´¢å‡ºèƒ½å¤Ÿæé«˜æ•ˆç‡çš„ä¸€ç³»åˆ—ä½¿ç”¨æ–¹æ³•ï¼ŒåŒæ­¥ç»™å…¨ç»„æˆå‘˜å°±æ›´å¥½äº†ã€‚è‡ªåŠ¨åŒ–æ„å»ºéƒ½ 9102 å¹´ï¼Œè‡ªåŠ¨åŒ–æ„å»ºå·²æˆä¸ºç°ä»£å‰ç«¯å·¥ç¨‹ä¸å¯æˆ–ç¼ºçš„ä¸€ä¸ªç¯èŠ‚ã€‚è‡ªåŠ¨åŒ–æ„å»ºå¯ä»¥åšå¾ˆå¤šäº‹ï¼Œæ¯”å¦‚æ–‡ä»¶ç¼–è¯‘ï¼Œèµ„æºåˆå¹¶ï¼Œå‹ç¼©ä¼˜åŒ–ç­‰ã€‚æ„å»ºå·¥å…·å¾ˆå¤šï¼Œä½†æ‰€åšçš„äº‹åŸºæœ¬ä¸Šæ˜¯å·®ä¸å¤šçš„ï¼Œè¯»å–å…¥å£é…ç½®æ–‡ä»¶ â¡ ç”Ÿæˆæ¨¡å—ä¾èµ–å›¾ â¡ åŠ è½½æ¨¡å— â¡ æ¨¡å—æ–‡ä»¶ç¼–è¯‘å¤„ç† â¡ï¸ æ¨¡å—æ–‡ä»¶åˆå¹¶ â¡ï¸ æ–‡ä»¶èµ„æºä¼˜åŒ– â¡ è¾“å‡ºæœ€ç»ˆèµ„æºã€‚ä¸è®ºæ˜¯ç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯å¼€å‘ç¯å¢ƒï¼Œéƒ½éœ€è¦æ„å»ºå·¥å…·çš„å‚ä¸ã€‚ç”Ÿäº§ç¯å¢ƒä¾§é‡äºæ€§èƒ½ï¼Œæ¯”å¦‚æ–‡ä»¶å‹ç¼©ä¼˜åŒ–ï¼Œå»é™¤æ— ç”¨ä»£ç æ³¨é‡Šç­‰ã€‚æµ‹è¯•ç¯å¢ƒä¾§é‡äºå¼€å‘ä½“éªŒï¼Œæ¯”å¦‚æ¨¡å—çƒ­æ›¿æ¢ï¼Œç”Ÿæˆ sourcemap ç­‰ã€‚åƒä¹‹å‰çš„ä»£ç è§„èŒƒï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©æ„å»ºå·¥å…·è‡ªåŠ¨åŒ–æ ¼å¼åŒ–ä»£ç ï¼Œæˆ–æç¤ºé”™è¯¯ã€‚é¡¹ç›®ä»£ç ç¤ºä¾‹é¡¹ç›®åœ¨æ­£æ˜¯å¯åŠ¨ä¹‹å‰ï¼Œéœ€è¦éªŒè¯ç¨‹åºæ˜¯å¦æŒ‰ç…§è‡ªå·±çš„é¢„æœŸå»æ‰§è¡Œã€‚éªŒè¯å¯è¡Œåï¼Œå¹¶æŒ‰ç…§è‡ªå·±å®šä¹‰çš„ä¸€ç³»åˆ—è§„èŒƒç¼–å†™ç¤ºä¾‹ä»£ç ï¼Œè¿™æ ·æœ‰åŠ©äºå…¶ä»–æˆå‘˜äº†è§£è¯¥é¡¹ç›®çš„è§„èŒƒã€‚åŒæ—¶ï¼Œå¯¹å†…ç»„ç»‡æŠ€æœ¯åŸ¹è®­ï¼Œä»‹ç»ç³»ç»Ÿçš„æ¶æ„å’Œæ³¨æ„äº‹é¡¹ã€‚å…¶å®ï¼ŒæŠ€æœ¯éªŒè¯çš„è¿‡ç¨‹ä¸åº”è¯¥æ”¾åœ¨æ•´ä¸ªå¼€å‘æµç¨‹ä¸­ã€‚å·¥ä½œä¹‹ä½™ï¼Œæˆ‘ä»¬å¯ä»¥å¤šæ¥è§¦æ–°çš„æŠ€æœ¯å’Œå°è¯•æ–°çš„æ¶æ„è®¾è®¡ã€‚åœ¨æœªçŸ¥çš„é¢†åŸŸï¼Œæˆ‘ä»¬æ— æ³•å‡†ç¡®è¯„ä¼°æ—¶é—´ï¼Œä¸´æ—¶ç£¨æªå¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ªé¡¹ç›®çš„å»¶æœŸã€‚å¼€å·¥æŠ€æœ¯æ˜¯ä¸ºä¸šåŠ¡æœåŠ¡çš„ï¼Œé¡¹ç›®å¯åŠ¨äº†ï¼Œæ„å‘³ç€å¼€å§‹å¿è¿˜ä¸šåŠ¡å€ºäº†ã€‚è€Œå‰ç«¯ Leader èŒè´£ä¹Ÿå¼€å§‹å‘ç”Ÿå˜åŒ–ï¼Œä¸ä»…ä»…ä»äº‹æŠ€æœ¯æ´»ï¼Œè¿˜è¦å‚ä¸åˆ°å›¢é˜Ÿç®¡ç†ã€é¡¹ç›®ç®¡ç†ç­‰éæŠ€æœ¯æ´»ã€‚é¡¹ç›®è¿›å…¥æ­£è½¨åï¼Œäººäººéƒ½æˆä¸ºäº†èºä¸å·¥ï¼ŒæŠ€æœ¯ä¸Šçš„éš¾é¢˜åŸºæœ¬ä¸Šå¾ˆå°‘å†ä¼šé‡åˆ°ã€‚ä½†æ˜¯è¿™å¹¶ä¸ä»£è¡¨æ•´ä¸ªå¼€å‘è¿‡ç¨‹ä¼šå˜å¾—ä¸€å¸†é£é¡ºã€‚æ²Ÿé€šåè°ƒã€Œå‡¡äº‹æœ‰äº¤ä»£ï¼Œä»¶ä»¶æœ‰ç€è½ï¼Œäº‹äº‹æœ‰å›éŸ³ã€ä¸ç®¡æ˜¯æ™®é€šæˆå‘˜ï¼Œè¿˜æ˜¯å›¢é˜Ÿ Leaderï¼Œéƒ½åº”è¯¥å…·å¤‡è¿™æ ·çš„åšäº‹é£æ ¼ï¼Œå¯¹è‡ªå·±å’Œåˆ«äººéƒ½æœ‰ä¸ªäº¤ä»£ã€‚å‰ç«¯åœ¨æ•´ä¸ªç ”å‘é˜Ÿä¼ä¸­ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå°´å°¬çš„å­˜åœ¨ã€‚å°¤å…¶åœ¨æ¯”è¾ƒé‡è§†ä¸šåŠ¡çš„å›¢é˜Ÿé‡Œï¼Œå¥½äº‹æ²¡æåˆ°ï¼Œéº»çƒ¦äº‹å´ä¸æ–­æ‰¾ä¸Šé—¨ã€‚æ¯”å¦‚é¡µé¢æŠ›å¼‚å¸¸ï¼Œæµ‹è¯•ä¼™ä¼´ç¬¬ä¸€ä¸ªå°±æ‰¾å‰ç«¯ã€‚äº§å“ä¼™ä¼´ä¸é è°±ï¼Œé¢‘ç¹æ‰¾å‰ç«¯ã€‚é‡åˆ°ä¸é è°±çš„åç«¯å°ä¼™ä¼´ï¼Œè”è°ƒæµ‹è¯•æ—¶ä¹Ÿä¼šè·‘æ¥è´¨ç–‘å‰ç«¯ã€‚æœ€åå¯èƒ½é¢†å¯¼è·‘æ¥æ‰¾ä½ è°ˆè¯ï¼Œè¯´ä½ ä»¬å‰ç«¯å›¢é˜Ÿæ€ä¹ˆè€æ˜¯å‡ºé—®é¢˜ã€‚è®²çœŸï¼Œè¿™è¯æ²¡æ³•æ¥ã€‚æ„Ÿè§‰å‰ç«¯å°±æ˜¯ä¸€ä¸ªæ¥é”…ä¾ ï¼Œæ—¶é—´é•¿äº†ï¼Œå¯¹å›¢é˜Ÿå£«æ°”æœ‰å¾ˆå¤§çš„å½±å“ï¼Œè¿™ä¹Ÿæ˜¯å‰ç«¯ Leader éœ€è¦è§£å†³çš„é—®é¢˜ã€‚å¯¹äºäº§å“ï¼Œéœ€æ±‚è¯„å®¡ä¸¥æ ¼æŠŠå…³ï¼Œå¯¹äºä¸åˆç†æˆ–ä¸ç´§æ€¥çš„éœ€æ±‚ï¼Œå»¶è¿Ÿæˆ–é™ä½å…¶ä¼˜å…ˆçº§ã€‚å¯¹äºæµ‹è¯•ä¼™ä¼´ï¼Œå¯¹å…¶è¿›è¡ŒæŠ€æœ¯åŸ¹è®­ï¼Œäº†è§£å¼€å‘è€…å·¥å…·çš„ç®€å•ä½¿ç”¨ï¼Œå’Œå¸¸è§å¼‚å¸¸æŠ¥é”™åˆ†æç§‘æ™®ã€‚å¯¹äºåç«¯ï¼Œåˆ¶å®šç›¸å…³çº¦æŸã€‚ä»¥ä¸Šè§„èŒƒè¦å½¢æˆæ–‡æ¡£ä¿å­˜ï¼Œæ–¹ä¾¿åæ¥è€…ã€‚å½“ç„¶è¯¸å¦‚æ­¤ç±»çš„é—®é¢˜ä¼šæœ‰å¾ˆå¤šï¼Œå¯¹äºé—®é¢˜è¦æ•æ„Ÿå¹¶åŠæ—¶å‘ç°ï¼Œåˆ†æå¯¼è‡´é—®é¢˜çš„æ ¹æºï¼Œæœ€åå¯¹ç—‡ä¸‹è¯é€æ­¥è§£å†³é—®é¢˜ã€‚äº‹æƒ…è¯´å¾—å¾ˆç®€å•ï¼Œä½†äº‹å®ä¸Šï¼Œäººä»¬ä¹ æƒ¯äºå­˜åœ¨é—®é¢˜çš„ç°çŠ¶è€Œä¸è‡ªçŸ¥æˆ–å‘ç°é—®é¢˜å´ä¹ æƒ¯äºæœ‰é—®é¢˜çš„ç°çŠ¶ã€‚æå‡å›¢é˜Ÿèƒ½åŠ›ä¼—äººæ‹¾æŸ´ç«ç„°é«˜ï¼Œåªæœ‰å¤§ä¼™å„¿åŠ›å¾€ä¸€å¤„ä½¿ï¼Œæ‰èƒ½äº§ç”Ÿ 1 + 1 &gt; 2 çš„æ•ˆæœã€‚å¯æ˜¯ç¼–ç å¹¶ä¸æ˜¯åŠ›æ°”æ´»ï¼Œæˆå‘˜çš„å‚å·®ä¸é½ï¼Œå¾ˆå¤§çš„ç¨‹åº¦ä¸Šä¼šæ‹–å›¢é˜Ÿçš„åé€€ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªæ–°æ‰‹çš„ä»£ç æäº¤ä¸è§„èŒƒï¼Œå¾ˆå¯èƒ½å¯¼è‡´æŸäº›äººçš„å“€åšã€‚ä»£ç å®¡æŸ¥ï¼Œæ˜¯ä¸€ä¸ªæé«˜è‡ªå·±ç¼–ç èƒ½åŠ›çš„å¥½æœºä¼šã€‚ä¹‹å‰çš„ Lint è§„åˆ™å¯ä»¥å¾ˆå¥½åœ°æ ¡æ­£ä»£ç é£æ ¼ï¼Œè€Œåœ¨ä»£ç å®¡æŸ¥ä¸­ï¼Œå°±å¯ä»¥å‘ç°é€»è¾‘ä¸Šçš„é—®é¢˜æˆ–çŸ¥é“å¯ä»¥è®©ä»£ç æ›´å‡ºå½©çš„æ–¹æ³•ã€‚ä»£ç é‡æ„ç®—æ˜¯ä¸€ç§æå‡ç¼–ç¨‹èƒ½åŠ›çš„æ–¹å¼ï¼Œä¸è¿‡æœ‰å¾ˆå¤šäººå¯¹ä»£ç é‡æ„æœ‰ç€å¾ˆå¤§çš„è¯¯è§£ï¼Œä¹Ÿä¸è§å¾—é¡¹ç›®ä¸­å¯¹é‡æ„çš„é‡è§†ã€‚é‡æ„å¯ä»¥æœ¬ç€å°æ­¥å¿«èµ°çš„åŸåˆ™ï¼Œå¢åŠ ç¨‹åºçš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ä½•æ—¶å»é‡æ„ï¼Ÿéœ€è¦é‡æ„çš„æ ‡å‡†çš„æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœç¨‹åºå†—é•¿å•°å—¦çœ‹ä¸æ‡‚ï¼Œé‚£å°±é‡æ„å®ƒã€‚å¦‚æœä¸€æ®µç¨‹åºè¿‡åˆ†ä¾èµ–äºæ³¨é‡Šï¼Œé‚£å°±é‡æ„å®ƒã€‚å¦‚æœä½ æƒ³æ·»åŠ æ–°åŠŸèƒ½ï¼Œå´æ— ä»ä¸‹æ‰‹ï¼Œé‚£å°±é‡æ„å®ƒã€‚åªè¦æ˜¯å¯è¯»æ€§å·®ï¼Œå¯ç»´æŠ¤æ€§å·®ï¼Œä½ éƒ½æœ‰ç†ç”±å»é‡æ„å®ƒã€‚ä»£ç å®¡æŸ¥è¿˜æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†Ÿæ‚‰ä¸šåŠ¡ã€‚å¦‚æœé¡¹ç›®ä¸šåŠ¡å¾ˆå¤æ‚ï¼Œè‡³å°‘è¦ä¿è¯æœ‰ä¸¤ä¸ªäººå¯¹åŒä¸€æ¨¡å—æœ‰è¶³å¤Ÿçš„äº†è§£ã€‚æ–°äººåŸ¹è®­å’ŒæŠ€æœ¯åˆ†äº«ï¼Œæ–°äººåˆšæ¥å…¥é¡¹ç›®æ—¶ï¼Œæœ‰å¿…è¦å¯¹å…¶è¿›è¡ŒåŸºç¡€çš„æŠ€æœ¯åŸ¹è®­ï¼Œå¦‚ä¸šåŠ¡åŸ¹è®­ã€æŠ€æœ¯æ ˆç›¸å…³çŸ¥è¯†åŸ¹è®­ã€è°ƒè¯•èƒ½åŠ›åŸ¹è®­ç­‰ï¼Œè¿™äº›éƒ½è¦æœ‰ç›¸å…³çš„æ–‡æ¡£ã€‚è¿™äº›çœ‹ç€æ— å…³ç´§è¦çš„åŸ¹è®­ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œå¾€å¾€æ˜¯ä¸€å¤§åŠ©åŠ›ã€‚æŠ€æœ¯åˆ†äº«ï¼Œå¹¶ä¸æŒ‡æœ›ä¸€æ¬¡ç®€å•çš„åˆ†äº«å°±è®©æ‰€æœ‰çš„æˆå‘˜å­¦ä¼šä¸€é¡¹æŠ€èƒ½ï¼Œä¸è¿‡è¿™å¯¹å›¢é˜Ÿçš„æŠ€æœ¯è§†é‡å’Œå›¢é˜ŸæŠ€æœ¯æ°›å›´ä¼šæœ‰å¾ˆå¤§å¸®åŠ©ã€‚å¯¹äºæŠ€æœ¯åˆ†äº«çš„äººï¼Œæœ‰ä¸åŒçš„è¯´æ³•ï¼Œæœ‰äººä¸»å¼ æ–°äººä¸»æŒåˆ†äº«ï¼Œè¿™æ ·å¯ä»¥åŠ å¿«æ–°äººèå…¥å›¢é˜Ÿï¼Œè€äººä¹Ÿå¯ä»¥ä¸€æ—è¡¥å……è¯´æ˜ã€‚è€Œæœ‰äº›äººï¼Œåˆ™è®¤ä¸ºè®©æœ€æ“…é•¿çš„äººå»åšæ“…é•¿çš„äº‹ã€‚ä¸çŸ¥é“å­°å¥½å­°åï¼Œä¸äºˆç½®è¯„ã€‚æˆ‘è®¤ä¸ºå›¢é˜Ÿèƒ½åŠ›è¿˜åº”è¯¥åŒ…æ‹¬å­˜ç»­èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯å³ä¾¿æˆå‘˜æµåŠ¨å¿«ï¼Œæ–°åˆ°ä½çš„æˆå‘˜ä¹Ÿèƒ½å¾ˆå¿«æ¥å…¥é¡¹ç›®ã€‚è¿™å°±éœ€è¦å„ç§æ–‡æ¡£è®°å½•ï¼Œæ–°äººåŸ¹è®­æ–‡æ¡£ï¼ŒæŠ€æœ¯æ¶æ„æ–‡æ¡£ï¼Œä¸šåŠ¡æ–‡æ¡£ï¼ŒæŠ€æœ¯åˆ†äº«æ–‡æ¡£ï¼Œå¼€å‘è§„èŒƒæ–‡æ¡£ï¼Œå·¥ä½œäº¤æ¥æ–‡æ¡£ç­‰ã€‚å‰åç«¯è”è°ƒåç«¯ç”±æœ¬åœ°å¼€å‘ç¯å¢ƒéƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼ŒæŒ‰æ­£å¸¸çš„èŠ‚å¥æ¥ï¼Œå‰åç«¯è”è°ƒä¼šå¾ˆé¡ºåˆ©ã€‚ç„¶è€Œï¼Œå®é™…å¼€å‘ä¸­ï¼Œè”è°ƒçš„å æ¯”ä¼šå¾ˆå¤§ã€‚ä¸»è¦çš„åŸå› æœ‰ï¼Œå‰åç«¯æ²Ÿé€šæ•ˆç‡ä½ï¼Œæœ‰é—®é¢˜ç›¸äº’è´¨ç–‘ã€‚åç«¯è‡ªæµ‹åŠ›åº¦ä¸å¤Ÿï¼Œè€ƒè™‘ä¸å‘¨å…¨ã€‚æ¥å£åè®®å˜åŠ¨é¢‘ç¹ã€‚æ¥å£æ–‡æ¡£ä¸è¯¦å®ã€‚â€¦æœ€ç®€å•ç²—æš´çš„æ–¹æ³•å°±æ˜¯å¼•å…¥æ¥å£ç®¡ç†å¹³å°ï¼Œå¼•å…¥ç»©æ•ˆè€ƒæ ¸åˆ¶åº¦ã€‚æŒç»­åŒ–é›†æˆ æŒç»­åŒ–äº¤ä»˜ æŒç»­åŒ–éƒ¨ç½²è¿™ä¸€å—å°±ä¸æ˜¯å‰ç«¯è‡ªå·±èƒ½å¤Ÿå†³å®šçš„äº‹æƒ…äº†ï¼Œæœ‰æ¡ä»¶çš„è¯å¯ä»¥è‡ªå·±æ­å»ºä»£ç æ‰˜ç®¡å¹³å°ï¼Œä½¿ç”¨ gitlab ï¼Œç°åœ¨äººå®¶æä¾›ä¸€æ¡é¾™æœåŠ¡ï¼Œå¯ä»¥å°è¯•ä¸€æ³¢ã€‚ç»“è¯­å’Œä»£ç æ‰“äº¤é“ä¸å¯æ€•ï¼Œå’Œäººæ‰“äº¤é“ä¹Ÿä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯è¿™ä¸ªå‰ç«¯ Leader æœ‰æƒ³æ³•ã€‚]]></content>
      <categories>
        <category>æ—¥å¿—</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¶æ„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šé‡æ„ã€‹]]></title>
    <url>%2F%E3%80%8A%E9%87%8D%E6%9E%84%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F%2F</url>
    <content type="text"><![CDATA[é‡æ„æŠ€æœ¯å°±æ˜¯ä»¥å¾®å°çš„æ­¥ä¼ä¿®æ”¹ç¨‹åºã€‚å¦‚æœä½ çŠ¯ä¸‹é”™è¯¯ï¼Œå¾ˆå®¹æ˜“ä¾¿å¯å‘ç°å®ƒã€‚å‚»ç“œéƒ½èƒ½å†™å‡ºè®¡ç®—æœºå¯ä»¥ç†è§£çš„ä»£ç ã€‚å”¯æœ‰èƒ½å†™å‡ºäººç±»å®¹æ˜“ç†è§£çš„ä»£ç çš„ï¼Œæ‰æ˜¯ä¼˜ç§€çš„ç¨‹åºå‘˜ã€‚å¦‚æœé‡æ„å¼•å…¥äº†æ€§èƒ½æŸè€—ï¼Œå…ˆå®Œæˆé‡æ„ï¼Œå†åšæ€§èƒ½ä¼˜åŒ–ã€‚é‡æ„æ—©æœŸçš„ä¸»è¦åŠ¨åŠ›æ˜¯å°è¯•ç†è§£ä»£ç å¦‚ä½•å·¥ä½œã€‚å¥½ä»£ç çš„æ£€éªŒæ ‡å‡†å°±æ˜¯äººä»¬æ˜¯å¦èƒ½è½»è€Œæ˜“ä¸¾åœ°ä¿®æ”¹å®ƒã€‚é‡æ„çš„å”¯ä¸€ç›®çš„å°±æ˜¯è®©æˆ‘ä»¬å¼€å‘å¾ˆå¿«ï¼Œç”¨æ›´å°‘çš„å·¥ä½œé‡åˆ›é€ æ›´å¤§çš„ä»·å€¼ã€‚å‰è¨€ã€Šé‡æ„ã€‹è¿™æœ¬ä¹¦ï¼Œè™½ç„¶çœ‹ç€å¾ˆåšï¼Œä½†æ˜¯è¯»èµ·æ¥å´åˆæ„Ÿè§‰å¾ˆè–„ã€‚ç”¨ä¸Šå‘¨æœ«çš„æ—¶é—´ï¼Œè¯»å®Œè¿™æœ¬ä¹¦è¿˜æ˜¯æœ‰å¯èƒ½çš„ã€‚ä¹‹å‰ä¹Ÿæœ‰åšè¿‡é‡æ„çš„å·¥ä½œï¼Œä¸è¿‡é‚£éƒ½æ˜¯ç»éªŒä¹‹è°ˆï¼Œå¦‚æœè¢«é—®èµ·ä¸ºä»€ä¹ˆè¿™ä¹ˆé‡æ„ï¼Œä¼°è®¡æˆ‘ä¹Ÿä¸èƒ½å¾ˆå¥½å¾—å›ç­”è¿™ä¸ªé—®é¢˜ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹é€šè¯»ã€Šé‡æ„ã€‹ï¼Œè¿˜æ˜¯æŒºæœ‰æ”¶è·çš„ï¼Œèµ·ç ä»ç»éªŒä¸Šå‡åˆ°äº†ç†è®ºã€‚é‡æ„åŸåˆ™è¦äº†è§£é‡æ„ï¼Œè¿˜æ˜¯ä» Whatï¼ŒWhyï¼ŒHow ä¸‰æ–¹é¢å…¥æ‰‹ã€‚é‡æ„æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦é‡æ„ï¼Ÿæ€ä¹ˆå»é‡æ„ï¼Ÿé‡æ„ï¼Œä½¿ç”¨ä¸€ç³»åˆ—é‡æ„æ‰‹æ³•ï¼Œåœ¨ä¸æ”¹å˜å¯è§‚å¯Ÿè¡Œä¸ºçš„å‰æä¸‹ï¼Œå¯¹è½¯ä»¶å†…éƒ¨ç»“æ„çš„ä¸€ç§è°ƒæ•´ã€‚ç›®çš„æ˜¯æé«˜å…¶å¯ç†è§£æ€§ï¼Œé™ä½å…¶ä¿®æ”¹æˆæœ¬ã€‚ä»€ä¹ˆæ—¶å€™é‡æ„ï¼Ÿå¦‚æœä½ çœ‹ä¸æ‡‚ä¸€æ®µä»£ç æ˜¯åœ¨åšä»€ä¹ˆï¼Œé‚£ä¹ˆé‡æ„å®ƒã€‚å¦‚æœä¸€æ®µä»£ç çš„ç›®çš„ä¾èµ–äºæ³¨é‡Šï¼Œé‚£ä¹ˆé‡æ„å®ƒã€‚å¦‚æœï¼Œä¸€æ®µä»£ç æƒ³è¦æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œå´æ— å¤„ä¸‹æ‰‹ï¼Œé‚£ä¹ˆé‡æ„å®ƒã€‚é‡æ„å°±æ˜¯ä¸ºäº†æ›´å®¹æ˜“ç†è§£ï¼Œæ›´å®¹æ˜“ä¿®æ”¹ã€‚å¦‚æœä¸èƒ½æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œè¿™æ—¶å€™å°±æœ‰å¿…è¦è€ƒè™‘é‡æ„äº†ã€‚ç¨‹åºä¹Ÿå¹¶éä»å¤´åˆ°å°¾ç¿»æ–°ä¸€éæ‰å«é‡æ„ï¼Œæ­¥å­ä¸èƒ½è¿ˆå¤§ï¼Œæ›´å¸Œæœ›çš„æ˜¯å°æ­¥å¿«èµ°çš„èŠ‚å¥ã€‚éšæ—¶éšåœ°é‡æ„ï¼Œç”¨å°æ­¥ç§¯ç´¯èµ·æ¥æ…¢æ…¢æ”¹å–„ç³»ç»Ÿçš„è®¾è®¡ã€‚å½“ç„¶åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œè¿˜ä¼šé‡åˆ°å„ç§æŒ‘æˆ˜ï¼Œæ¯”å¦‚ï¼Œæ–°åŠŸèƒ½å¼€å‘ï¼Œæµ‹è¯•ï¼Œæ€§èƒ½ç­‰é—®é¢˜ã€‚è€Œè¿™äº›ï¼Œåœ¨ã€Šé‡æ„ã€‹çš„å‰ä¸¤ç« éƒ½æœ‰ä»‹ç»ã€‚çŸ¥é“äº†ä»€ä¹ˆå’Œä¸ºä»€ä¹ˆï¼Œé‚£ä¹ˆï¼Œæ€ä¹ˆå»é‡æ„å‘¢ï¼Ÿåœ¨é‡æ„å‰ï¼Œæˆ‘ä»¬è¿˜è¦çŸ¥é“å¦‚ä½•è¾¨åˆ«éœ€è¦é‡æ„çš„ä»£ç ã€‚é‡æ„ã€Šé‡æ„ã€‹åœ¨ç¬¬ä¸‰ç« ä¹Ÿåˆ†é—¨åˆ«ç±»åˆ—ä¸¾äº†éœ€è¦é‡æ„çš„ä»£ç æ‰€å…·æœ‰çš„ç‰¹ç‚¹ã€‚ç¥ç§˜å‘½åï¼Œå‘½åè¦æ¸…æ™°è¡¨è¾¾åŠŸèƒ½å’Œç”¨æ³•ã€‚é‡å¤ä»£ç ï¼Œæç‚¼é‡å¤ä»£ç ï¼Œé¿å…é‡å¤çš„ä»£ç ç»“æ„ã€‚è¿‡é•¿å‡½æ•°ï¼Œå‡½æ•°è¶Šé•¿å°±è¶Šéš¾ç†è§£ï¼Œåˆ†è§£å‡½æ•°ï¼Œä½¿ç”¨å°å‡½æ•°ã€‚è¿‡é•¿å‚æ•°åˆ—è¡¨å’Œå…¨å±€æ•°æ®ã€‚å¯å˜æ•°æ®ï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹ç»å¸¸ä¼šå¯¼è‡´éš¾ä»¥å‘ç°å’Œéš¾ä»¥è·Ÿè¸ªçš„ bugã€‚å‘æ•£å¼å˜åŒ–ï¼Œæ¨¡å—å› ä¸åŒåŸå› åœ¨ä¸åŒæ–¹å‘ä¸Šå‘ç”Ÿäº†å˜åŒ–ã€‚éœ°å¼¹å¼ä¿®æ”¹ï¼Œå°†å˜åŒ–çš„å°è£…èµ·æ¥ã€‚ä¾æ‹æƒ…èŠ‚ï¼Œä¸€ä¸ªå‡½æ•°å’Œå¦ä¸€ä¸ªæ¨¡å—çš„å‡½æ•°æˆ–è€…æ•°æ®äº¤æµæ ¼å¤–é¢‘ç¹ï¼Œè¿œèƒœäºåœ¨è‡ªå·±æ‰€å¤„æ¨¡å—å†…éƒ¨çš„äº¤æµã€‚æ•°æ®æ³¥å›¢å’ŒåŸºæœ¬ç±»å‹çš„åæ‰§ã€‚é‡å¤çš„ switch å’Œå¾ªç¯è¯­å¥ã€‚å†—èµ˜çš„å…ƒç´ ã€å¤¸å¤¸å…¶è°ˆé€šç”¨æ€§å’Œä¸´æ—¶å­—æ®µã€‚è¿‡é•¿çš„æ¶ˆæ¯é“¾å’Œä¸­é—´äººã€‚å†…å¹•äº¤æ˜“ï¼Œé¿å…æ¨¡å—é—´çš„å¤§é‡æ•°æ®äº¤æ¢ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆæ€§ã€‚è¿‡å¤§çš„ç±»å’Œå¼‚æ›²åŒå·¥çš„ç±»ã€‚çº¯æ•°æ®çš„ç±»ã€è¢«æ‹’ç»çš„é—èµ å’Œæ³¨é‡Šã€‚ä»¥ä¸Šå°±æ˜¯ä¹¦ä¸­åˆ—ä¸¾çš„ä»£ç çš„åå‘³é“ï¼Œæ¯ä¸€ä¸ªåå‘³é“ä¸­éƒ½æœ‰ç›¸åº”çš„é‡æ„æ‰‹æ³•ã€‚ç¬¬å››ç« ï¼Œå°æ­¥å¿«èµ°è™½ç„¶å¾ˆå¤§ç¨‹åº¦ä¸Šä¿éšœé‡æ„åçš„ç³»ç»Ÿç¨³å®šæ€§ï¼Œä¸è¿‡æ„ç­‘ä¸€ä¸ªæµ‹è¯•ä½“ç³»å°±æ›´å¥½äº†ã€‚ä»ç¬¬äº”ç« å¼€å§‹ï¼Œä½œè€…ä¾æ®é‡æ„æ‰‹æ³•çš„ä¸åŒåˆ’åˆ†ä¸ºç¬¬ä¸€ç»„é‡æ„ã€å°è£…ã€æ¬ç§»ç‰¹æ€§ã€é‡æ–°ç»„ç»‡æ•°æ®ã€ç®€åŒ–æ¡ä»¶é€»è¾‘ã€é‡æ„ APIã€å¤„ç†ç»§æ‰¿å…³ç³»ç­‰ã€‚æœ¬ä¹¦çš„å†…å®¹å¾ˆå¤šå´åˆä¸å¤šï¼Œæ­£å¦‚ä½œè€…æ‰€è¯´ï¼Œä½ å¯ä»¥æŠŠå®ƒå½“æˆé‡æ„å­—å…¸ï¼Œæ²¡å¿…è¦è®°ä½æ¯ä¸ªé‡æ„æ‰‹æ³•ï¼Œåªéœ€è¦åœ¨é‡æ„æ—¶çŸ¥é“é‡‡ç”¨ä»€ä¹ˆæ ·çš„ç­–ç•¥å³å¯ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦</category>
      </categories>
      <tags>
        <tag>é‡æ„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å°ç¨‹åºäº‘å¼€å‘ä¹‹å§‹æœ«]]></title>
    <url>%2F%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91%E4%B9%8B%E5%A7%8B%E6%9C%AB%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä¸€ç›´éƒ½ä¸å–œæ¬¢å¾®ä¿¡ï¼Œæ‰€ä»¥å…³äºå°ç¨‹åºçš„å¼€å‘ä¹Ÿæ˜¯æ²¡æ€ä¹ˆä¸Šå¿ƒã€‚åªæ˜¯åœ¨æµè§ˆæ‹›è˜ç½‘ç«™æ—¶ï¼Œå‘ç°å°ç¨‹åºå·²ç»æˆä¸ºå‰ç«¯å¼€å‘äººå‘˜çš„ä¸€ä¸ªåŸºæœ¬æŠ€èƒ½äº†ã€‚æ‰€ä»¥ï¼Œåªèƒ½ç¡¬ç€å¤´çš®å°è¯•ç€å­¦ä¹ å¼€å‘å°ç¨‹åºã€‚åœ¨å­¦ä¹ å°ç¨‹åºå¼€å‘æ—¶ï¼Œå€’æ˜¯æ²¡è§‰å¾—æœ‰ä»€ä¹ˆé˜»ç¢ï¼Œæ¯•ç«Ÿå‰ç«¯çš„æœ€æµè¡Œçš„æ¡†æ¶å·²ç»æµè¡Œäº†é‚£ä¹ˆå¤šå¹´äº†ï¼Œä»æŸäº›æ–¹é¢ï¼Œå®ƒä»¬æ˜¯ç›¸ä¼¼çš„ã€‚æœ¬æ¬¡æ‰€å¼€å‘çš„åŠŸèƒ½å¾ˆç®€å•ï¼Œä½†æ˜¯å°±æ•´ä¸ªæµç¨‹æ¥è¯´å´æ˜¯å¾ˆæ¼«é•¿çš„ï¼Œç”±äºæ˜¯ä»é›¶å¼€å§‹å¼€å‘ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æ—¶é—´è¿˜æ˜¯èŠ±åœ¨äº†äº§å“çš„æ„æ€ä¸Šå’Œå°ç¨‹åºä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ä¸Šã€‚è€Œä¸”ï¼Œè¿™æ¬¡çš„å¼€å‘åªå®Œæˆäº†äº§å“é¢„æƒ³çš„ 50% å·¦å³ï¼Œæ ¸å¿ƒçš„éƒ¨åˆ†åŸºæœ¬æ²¡æœ‰å»åšã€‚æœ€å¤§çš„åŸå› å¯èƒ½å°±æ˜¯å¼€å‘ä½“éªŒä¸å¥½ï¼Œæµªè´¹æ—¶é—´ã€‚å°ç¨‹åºäº‘å¼€å‘å¯¹äºä¸ªäººå¼€å‘äººå‘˜æ¥è¯´ï¼Œå°ç¨‹åºäº‘å¼€å‘é™ä½äº†å¼€å‘é—¨æ§›ï¼Œå°¤å…¶æ˜¯å‰ç«¯äººå‘˜çš„é—¨æ§›ã€‚åŸºäºäº‘å¼€å‘ï¼Œå‰ç«¯äººå‘˜å¯ä»¥å®Œæˆä»å‰ç«¯åˆ°åå°çš„æ‰€æœ‰ä»»åŠ¡ã€‚å°ç¨‹åºäº‘å¹³å°æœ‰ç€ Nodeç¯å¢ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆåŸºäº node çš„åå°ç¯å¢ƒã€‚ä»¥çˆ¬è™«ä¸ºä¾‹ï¼Œé¦–å…ˆåœ¨ cloudfunctions æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ crawlerï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é¢åœ¨åˆ›å»ºåˆ›å»ºç›¸åº” crawler.js ã€package.json æ–‡ä»¶ï¼Œå‰©ä¸‹å°±å¯ä»¥å†™äº›é€»è¾‘äº†ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041// äº‘å‡½æ•°å…¥å£æ–‡ä»¶const cloud = require('wx-server-sdk')const Crawler = require("crawler");cloud.init()const uriArray = [&#123; uri: 'http://www.nows.fun/', selector: '#sentence' &#125;, &#123; uri: 'https://www.nihaowua.com/', selector: 'body &gt; div &gt; section &gt; div' &#125;, &#123; uri: 'https://www.nihaowua.com/home.html', selector: 'body &gt; div &gt; section &gt; div' &#125;];let crawler = new Crawler();let canClick = true;const crawlerWebPage = () =&gt; &#123; if (!canClick) return false; canClick = false; let index = Math.floor(Math.random() * 3); let &#123; uri, selector &#125; = uriArray[index]; return new Promise((resolve, reject) =&gt; &#123; crawler.direct(&#123; uri: uri, retries: 0, timeout: 5000, skipEventRequest: false, callback: function (error, response) &#123; canClick = true; if (error) &#123; console.log(error) &#125; else &#123; var $ = response.$; var content = $(selector).text(); console.log('index', index) resolve(content); &#125; &#125; &#125;) &#125;)&#125;;exports.main = async (event, content) =&gt; &#123; const result = await crawlerWebPage(); return result;&#125;äº‘å‡½æ•°åˆ›å»ºå¥½äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯åœ¨å°ç¨‹åºä¸­å»è°ƒç”¨äº†ã€‚123456789101112131415161718192021222324252627refresh: function (obj) &#123; if (!this.data.canClick) return; this.setData(&#123; canClick: false &#125;) wx.showLoading(&#123; title: 'åŠ è½½ä¸­', &#125;) wx.cloud.callFunction(&#123; name: "crawler", success: res =&gt; &#123; wx.hideLoading(); this.setData(&#123; soup: res.result, canClick: true &#125;) &#125;, fail: err =&gt; &#123; wx.hideLoading(); this.setData(&#123; soup: "é¸¡æ±¤è¦ä¸€å£ä¸€å£å–ï¼Œä½ å¤ªæ€¥å•¦", canClick: true &#125;) console.error('[äº‘å‡½æ•°] [crawler] templateMessage.send è°ƒç”¨å¤±è´¥ï¼š', err) &#125; &#125;)&#125;å°ç¨‹åºä¸­çš„ç»„ä»¶åˆšå¼€å§‹æ¥è§¦å°ç¨‹åºæ—¶ï¼Œç»™æˆ‘çš„æ„Ÿè§‰åƒæ˜¯åœ¨å¼€å‘ä¸€ä¸ªå¤šé¡µé¢åº”ç”¨ã€‚åœ¨å¼€å‘æ„æ€çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å†™çš„é€»è¾‘è¶Šæ¥è¶Šå¤šã€‚äºæ˜¯å°±æƒ³ç€æŠŠè¿™ä¹ˆå¤šçš„ä¸œè¥¿æ‹†å¼€ï¼Œç¿»äº†ä¸‹æ–‡æ¡£ï¼Œå‘ç°å°ç¨‹åºæåˆ°è‡ªå®šä¹‰ç»„ä»¶æ¯”è¾ƒé€‚åˆã€‚é¦–å…ˆåœ¨çˆ¶ç»„ä»¶ä¸­é…ç½®æ–‡ä»¶ä¸­é…ç½®å­ç»„ä»¶è·¯å¾„ï¼Œç„¶åè‡ªç»„ä»¶ä¹Ÿè¦é…ç½®ã€‚123456789101112// father.json&#123; "usingComponents": &#123; "type-year": "../../component/type-year/type-year", "type-month": "../../component/type-month/type-month", "type-date": "../../component/type-date/type-date" &#125;&#125;// children.json&#123; "component": true&#125;å‰©ä¸‹çš„å°±å’Œ Reactã€Vue ä¸­çš„è‡ªå®šä¹‰ç»„ä»¶å·®ä¸å¤šã€‚ä»¥ä¸Šä¹Ÿåªæ˜¯è‡ªå®šä¹‰ç»„ä»¶ï¼Œå¹³æ—¶è¿˜ä¼šæ¥è§¦åˆ°ç¬¬ä¸‰æ–¹çš„ç»„ä»¶ï¼Œæ¯”å¦‚å¸¸ç”¨çš„ UI ç»„ä»¶ã€‚é€šå¸¸ç¬¬ä¸‰æ–¹ç»„ä»¶éƒ½æ˜¯ä½¿ç”¨ npm åŒ…ï¼Œä½†æ˜¯å°ç¨‹åºçš„ç¯å¢ƒæ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒä¸æ˜¯ Node ç¯å¢ƒï¼Œæ‰€ä»¥åŸºäº Node ç¯å¢ƒçš„ npm åŒ…ä¹Ÿè¦ç‰¹æ®Šå¤„ç†æ‰èƒ½å¤Ÿåœ¨å°ç¨‹åºåªèƒ½å¤Ÿä½¿ç”¨ã€‚å°½ç®¡å°ç¨‹åºå®˜æ–¹æä¾›äº† npm åŒ…è½¬æ¢çš„æ–¹æ¡ˆï¼Œä½†æ˜¯ä¾ç„¶ä¼šæœ‰å¾ˆå¤šåŒ…ä¸èƒ½åœ¨å°ç¨‹åºä¸­ä½¿ç”¨ï¼Œå…·ä½“å¯è§å®˜æ–¹å°ç¨‹åºå¼€å‘æ–‡æ¡£ã€‚å°ç¨‹åºä¸­æ“ä½œèŠ‚ç‚¹å°ç¨‹åºçš„æ¸²æŸ“å±‚å’Œé€»è¾‘å±‚åˆ†åˆ«ç”±2ä¸ªçº¿ç¨‹ç®¡ç†ï¼Œè¿™å’Œæµè§ˆå™¨çš„ç¯å¢ƒæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¦æƒ³æ“ä½œèŠ‚ç‚¹éœ€è¦ä½¿ç”¨å°ç¨‹åºæä¾›çš„APIï¼Œä¸è¿‡åœ¨è·¨ç»„ä»¶è·å–èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚12345678910111213141516171819onLoad: function () &#123; let height = &#123;&#125;; let yearChartHeight,monthChartHeight,componentHeight; let query = wx.createSelectorQuery().in(this); // Note: æ“ä½œèŠ‚ç‚¹ query.selectAll('#little_target, #target_type, #target_content').boundingClientRect( res =&gt; &#123; res.map(item =&gt; &#123; height[`$&#123;item.id&#125;_height`] = item.height; &#125;) yearChartHeight = height.little_target_height - height.target_content_height - height.target_type_height; componentHeight = monthChartHeight = height.little_target_height - height.target_type_height - 48; this.setData(&#123; yearHeight: yearChartHeight, monthHeight: monthChartHeight &#125;) &#125; ).exec();&#125;ä¸Šé¢ä»£ç å°±æ˜¯é€šè¿‡ç›¸å…³çš„ API è·å–ä¸‰ä¸ªèŠ‚ç‚¹çš„æ•°æ®ã€‚å°ç¨‹åºä¸­ä½¿ç”¨ echartså¯¹æ¯”äº† F2 å’Œ echartsï¼Œ å‘ç° echarts æä¾›çš„å›¾è¡¨æ›´å¤šä¸€äº›ã€‚è¿™ä¸¤ä¸ªå›¾è¡¨åº“çš„ä½¿ç”¨çš„æ–¹å¼ä¹Ÿä¸åŒï¼ŒF2 æ˜¯ npm åŒ…ï¼Œéœ€è¦è½¬æ¢å¯¼å…¥ä½¿ç”¨ã€‚echarts ä½¿ç”¨èµ·æ¥å°±ç›¸å¯¹ç®€å•ä¸€äº›ï¼Œå’Œä¸Šé¢æåˆ°çš„è‡ªå®šä¹‰ç»„ä»¶ä¸€æ ·ï¼Œè€Œä¸” echarts è¿˜å¯ä»¥è‡ªå®šä¹‰é€‰æ‹©éœ€è¦å›¾è¡¨å¯¼å‡ºï¼Œè¿™æ ·å°±å‡å°åŒ…çš„ä½“ç§¯ã€‚åœ¨ä½¿ç”¨è¿™äº›å›¾è¡¨åº“æ—¶ï¼Œæ‰æ˜ç™½ä»€ä¹ˆå«åšè°ƒåƒå·¥ç¨‹å¸ˆï¼Œåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­çœŸçš„æ˜¯è¾¹çœ‹æ–‡æ¡£è¾¹è°ƒæ•´å‚æ•°ã€‚åœ¨ä½¿ç”¨ echarts çš„è¿‡ç¨‹ä¸­ï¼Œæœ¬ä»¥ä¸ºcanvas å¯ä»¥æ’‘å¼€ç›’å­ï¼Œç»“æœå‘ç°éœ€è¦çˆ¶å…ƒç´ éœ€è¦æœ‰é«˜åº¦ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸Šé¢åŠ¨æ€è®¡ç®—ç›’å­é«˜åº¦ã€‚1234567891011121314&lt;!-- init 1 --&gt; &lt;view class="chart_wrap" style="height:&#123;&#123;chartHeight&#125;&#125;px"&gt; &lt;ec-canvas id="mychart-dom-bar" canvas-id="mychart-bar" ec="&#123;&#123; ec &#125;&#125;"&gt;&lt;/ec-canvas&gt; &lt;/view&gt;&lt;!-- data: &#123; ec: &#123; onInit: initChart &#125; &#125;, --&gt;&lt;!-- init 2--&gt; &lt;view class="chart_wrap" style="height:&#123;&#123;chartHeight&#125;&#125;px"&gt; &lt;ec-canvas id="mychart-dom-bar" canvas-id="mychart-bar" ec="&#123;&#123; ec &#125;&#125;" bind:init="echartInit"&gt;&lt;/ec-canvas&gt; &lt;/view&gt;åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œåˆå§‹åŒ–çš„æ–¹å¼å¹¶ä¸æƒŸä¸€ï¼Œç»“æœä¹Ÿæ˜¯ä¸ä¸€æ ·ï¼Œè¿™ä¸ªéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚å°ç¨‹åºçš„å¼€å‘ä½“éªŒå°ç¨‹åºçš„å¼€å‘å·¥å…·çœŸå¿ƒä¸æ€ä¹ˆæ ·ï¼Œä»æ—¥å¸¸ chrome å¼€å‘è€…å·¥å…·å†åˆ°å°ç¨‹åºçš„å¼€å‘è€…å·¥å…·ï¼Œè¿™å…¶ä¸­çš„å·®è·è¿˜æ˜¯å¾ˆå¤§ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬ä¸èƒ½æ–¹ä¾¿éšæ„åœ°ä½¿ç”¨ npm åŒ…ï¼Œè¿™åœ¨å°ç¨‹åºä¸­é™åˆ¶å¾ˆæ˜æ˜¾ã€‚åæ­£é—®é¢˜å¾ˆå¤šã€‚overï¼]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>çˆ¬è™«</tag>
        <tag>å°ç¨‹åº</tag>
        <tag>äº‘å¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nodeå†™çˆ¬è™«]]></title>
    <url>%2FNode%E5%86%99%E7%88%AC%E8%99%AB%2F</url>
    <content type="text"><![CDATA[å‰è¨€æœ€è¿‘ä¸€æ®µæ—¶é—´åœ¨å­¦ä¹ å°ç¨‹åºï¼Œæ–‡æ¡£å¾ˆé•¿ï¼Œä½†æ˜¯å¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´ï¼Œå¹¶ä¸æ˜¯å¾ˆéš¾ã€‚ç„¶è€Œåœ¨å‡†å¤‡å®è·µçš„æ—¶å€™ï¼Œå´çŠ¯éš¾äº†ã€‚è™½ç„¶åªæ˜¯ç»ƒæ‰‹ï¼Œä½†èµ·ç è¦åšä¸€ä¸ªæœ‰æ„ä¹‰çš„ä¸œè¥¿ã€‚æ‰€ä»¥ï¼Œç¬¬ä¸€æ—¶é—´ï¼Œå°±æƒ³åˆ°åˆ©ç”¨çˆ¬è™«æ¥çˆ¬å–è‡ªå·±æƒ³è¦çš„å†…å®¹ã€‚åœ¨æ‰“ç®—å®è·µæ—¶ï¼Œå´ä¹Ÿå‘ç°ï¼Œç”±äºå°ç¨‹åºçš„çš„ä¸€äº›é™åˆ¶ï¼Œè¦æƒ³å®ç°æˆ‘çš„æƒ³æ³•ï¼Œå¤ªéº»çƒ¦ï¼Œå¯¹äºæˆ‘æ¥è¯´ï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´ã€‚ä¸è¿‡ï¼Œæ—¢ç„¶éƒ½æƒ³åˆ°è¿‡çˆ¬è™«äº†ï¼Œå°±è¶è¿™æ¬¡æœºä¼šç»ƒç»ƒæ‰‹ã€‚é€šè¿‡æœ¬æ¬¡çš„ç²—æµ…çš„å®è·µï¼Œå¯ä»¥å°†çˆ¬è™«çš„è¿‡ç¨‹æ€»ç»“ä¸ºï¼Œè·å–é™æ€é¡µé¢æˆ–è·å–æ¥å£æ•°æ® =&gt; åˆ†æé¡µé¢ç»“æ„æˆ–åˆ†ææ¥å£æ•°æ® =&gt; æå–æ•°æ®ä¿å­˜ã€‚åŸºäºNodeçš„çˆ¬è™«æ–¹å¼ï¼Œè¦ä¹ˆæ˜¯åŠ è½½é¡µé¢ï¼Œè¦ä¹ˆæ˜¯è¯·æ±‚APIï¼Œæ‰€ä»¥ç›¸å¯¹æ¥è¯´éƒ½å¾ˆå®¹æ˜“å®ç°ã€‚puppeteerpuppeteer åº”è¯¥ç®—æ˜¯æœ€ç®€å•çš„æ–¹å¼äº†ï¼Œé€šè¿‡æ¨¡æ‹Ÿç”¨æˆ·çš„è¡Œä¸ºä¸æµè§ˆå™¨äº¤äº’ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥åˆ†æé¡µé¢æŠ“å»éœ€è¦çš„ä¿¡æ¯ã€‚puppeteer æ–‡æ¡£å¾ˆè¯¦å®ï¼Œè€Œä¸”æ‰‹æŠŠæ‰‹æ•™å­¦ï¼Œä½ æƒ³è¦çš„åŠŸèƒ½åŸºæœ¬ä¸Šéƒ½èƒ½åœ¨å®ƒçš„ github ä¸Šæ‰¾åˆ°ç›¸åº”çš„ä¾‹å­ã€‚puppeteer æ˜¯åŸºäº Chromium çš„ï¼Œåœ¨å®‰è£… puppeteeræ—¶ï¼Œä¼šåŒæ—¶å®‰è£… Chromiumã€‚è€Œå› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„ç¼˜æ•…ï¼Œæ•´ä¸ªå®‰è£…çš„è¿‡ç¨‹å¹¶ä¸æ˜¯å¾ˆé¡ºåˆ©ï¼Œæ–‡æ¡£é‡Œæä¾›äº†ä¸å®‰è£… Chromium çš„æ–¹æ³•ï¼Œä¸è¿‡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ·˜å®çš„é•œåƒæ¥åŠ å¿«å®‰è£…æ—¶é—´ã€‚1npm config set puppeteer_download_host https://npm.taobao.org/mirrorsä¸‹é¢é€šè¿‡ä¸€ä¸ªæ‰“å¡ğŸŒ°æ¥ä½¿ç”¨ puppeteer,12345678910const login = async () =&gt; &#123; const browser = await puppeteer.launch(&#123; headless: false &#125;); // é»˜è®¤trueã€‚ç½®ä¸º falseï¼Œæ•´ä¸ªæ“ä½œè¿‡ç¨‹å¯è§† const page = await browser.newPage(); await page.goto(logURL); // è·³è½¬ç›®æ ‡ç½‘é¡µlogURLï¼Œé»˜è®¤ load äº‹ä»¶è§¦å‘ await page.type('#member_number', '123456') // è¾“å…¥å¡å· await page.click('#btn_member_number') // ç‚¹å‡»ç¡®å®š await page.waitForSelector('#check_in') // ç­‰å¾…ç­¾åˆ° Dom æ¸²æŸ“å®Œæˆ await page.click('#check_in') // ç‚¹å‡»ç­¾åˆ°æŒ‰é’® await browser.close()&#125;ä»£ç æµç¨‹å’Œç”¨æˆ·æ“ä½œæµè§ˆå™¨çš„æµç¨‹ä¸€è‡´ï¼Œè¿™ç§æ–¹å¼ç›¸æ¯”æ¥ä¸‹æ¥è¦è¯´çš„æ–¹å¼ï¼Œå¯ä»¥è¯´æ˜¯å‚»ç“œå¼æ“ä½œäº†ã€‚å½“ç„¶ puppeteer è¿˜å¯ä»¥ç”Ÿæˆæˆªå›¾ï¼Œæ€§èƒ½åˆ†æç­‰ã€‚æ¥å£è¯·æ±‚ä¸ç®¡æ˜¯é™æ€è¿˜æ˜¯åŠ¨æ€é¡µé¢çš„è·å–ï¼Œéƒ½æ˜¯é€šè¿‡æ¥å£è¯·æ±‚æ¥å®ç°çš„ï¼Œå³é€šè¿‡urlå‘åç«¯æœåŠ¡è¯·æ±‚ç›¸åº”çš„æ•°æ®ã€‚æŒ‰ç…§ä¹‹å‰çš„çˆ¬å–æµç¨‹ï¼Œè¦åšçš„å°±æ˜¯æ•°æ®çš„è¯·æ±‚å’Œæ•°æ®çš„åˆ†æã€‚å¦‚æœéœ€è¦ä¿å­˜çš„è¯ï¼Œå°±è¦ä½¿ç”¨å­˜å‚¨å·¥å…·å‚¨å­˜æ•°æ®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨ Node ç¯å¢ƒä¸­è¯·æ±‚æ•°æ®ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å°è£…å¥½çš„ htttp åº“ï¼Œæ¯”å¦‚ requestï¼Œaxiosç­‰ã€‚é‚£ä¹ˆåˆ†ææ•°æ®å‘¢ï¼Ÿè¿™å°±è¦çœ‹æƒ…å†µäº†ï¼Œå¦‚æœçˆ¬å–çš„æ˜¯é™æ€é¡µé¢ï¼Œè¿”å›çš„æ˜¯ HTMLï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦å€ŸåŠ© Cheerio æˆ– JSDOM æ¥åˆ†æé¡µé¢ç»“æ„ã€‚å¦‚æœè¿”å›çš„æ˜¯å¸¸è§çš„ JSONï¼Œé‚£å°±å¾ˆç®€å•äº†ã€‚ä¸è¿‡æœ¬æ¬¡å®è·µæ²¡æœ‰é€šè¿‡ä»¥ä¸Šçš„æ–¹å¼ï¼Œè€Œæ˜¯åœ¨ github æœç´¢ç›¸å…³ä¿¡æ¯æ—¶ï¼Œæ°å·§çœ‹åˆ°äº† crawlerã€‚åŸç†ä¸Šéƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œè€Œä¸”å®ƒä¹Ÿé›†æˆäº† Cheerioã€‚12345678910111213141516const Crawler = require("crawler");const crawlerWebPage = obj =&gt; &#123; let &#123;uri, selector&#125; = obj; // uri è¯·æ±‚çš„uriï¼Œselector é€‰æ‹©å™¨ï¼› crawler.direct(&#123; uri: uri, skipEventRequest: false, callback: function(error, response) &#123; if(error) &#123; console.log(error) &#125; else &#123; var $ = response.$; var content = $(selector).text(); console.log(response.statusCode, content, uri); &#125; &#125; &#125;)ä¸Šé¢è¿™ä¸ªä¹Ÿåªæ˜¯ crawler çš„ç®€å•ç”¨æ³•ã€‚node-scheduleè™½ç„¶å¯ä»¥çˆ¬å–äº†ï¼Œä½†æ˜¯æ•°æ®å¹¶ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œæ‰€ä»¥ï¼Œæ›´å¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å®šæ—¶é‡å¤çˆ¬å–ç½‘é¡µã€‚ node-schedule å°±æ˜¯ç”¨æ¥å®šä¹‰å®šæ—¶ä»»åŠ¡çš„ã€‚12345678910111213141516171819const schedule = require('node-schedule');const loginSchedule = () =&gt; &#123; schedule.scheduleJob(&#123; start: startTime, endTime: endTime, rule: config.schedule.login[loginIndex] &#125;, () =&gt; &#123; let now = new Date(); let loginLog = `$&#123;now&#125; login successed! /r/n`; try &#123; login(); fs.appendFileSync('log.txt', loginLog) &#125; catch (error) &#123; let loginErrorLog = `$&#123;now&#125; - $&#123;logURL&#125; login failed: $&#123;error.message&#125;! /r/n`; fs.appendFileSync('log.txt', loginErrorLog) throw error &#125; &#125;)&#125;å®šä¹‰å¥½ç›¸å…³çš„è§„åˆ™åï¼Œä»»åŠ¡å°±å¯ä»¥æŒ‰åˆ¶å®šçš„è§„åˆ™æ‰§è¡Œã€‚pm2ä»¥ä¸Šçš„ä»»åŠ¡æ˜¯å¯ä»¥æ‰§è¡Œäº†ï¼Œå¯æ˜¯å…³é—­äº†å‘½ä»¤çª—å£ï¼Œè¿›ç¨‹ä¸­æ–­ï¼Œé‚£ä¹ˆåŠŸå¤«ç™½è´¹ã€‚è¿™æ—¶å€™å°±éœ€è¦ä¸€ä¸ªå·¥å…·æ¥ç®¡ç† node è¿›ç¨‹ï¼Œpm2 å€’æ˜¯ä¸€ä¸ªå¥½å·¥å…·ã€‚pm2 ä¸ä»…æ”¯æŒçƒ­åŠ è½½ï¼Œè¿˜å¯ä»¥ç›‘æ§ç­‰åŠŸèƒ½ï¼Œå¾ˆæ–¹ä¾¿å¾ˆå¼ºå¤§ã€‚12345678910111213# å®‰è£…npm install pm2 -g# å¯åŠ¨ã€ç›‘å¬ app.jspm2 start app.js --watch# ç›‘æ§pm2 monit# ç»ˆæ­¢pm2 stop......debugåœ¨å†™ Node åº”ç”¨æ—¶ï¼Œéš¾å…ç£•ç£•ç»Šç»Šï¼Œå­¦ä¼šè°ƒè¯•ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚æœ¬æ¬¡é¡¹ç›®å¾ˆç®€å•ï¼Œæ‰€ä»¥æ‰€ä½¿ç”¨çš„è°ƒè¯•æŠ€å·§ä¹Ÿå¾ˆç²—æµ…ã€‚ä½¿ç”¨ VSCode æä¾›çš„è°ƒè¯•å·¥å…·ã€‚åœ¨é¡¹ç›®ä¸­åŠ å…¥ debuggerï¼Œæ‰§è¡Œ node debug --inspect app.js,å¼€å¯è°ƒè¯•æ¨¡å¼ã€‚å€ŸåŠ©å…¶ä»–è°ƒè¯•å·¥å…·ã€‚over]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>çˆ¬è™«</tag>
        <tag>Node</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šå­¦ä¹ ä¹‹é“ã€‹]]></title>
    <url>%2F%E8%AE%BA%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%81%93%E6%9C%89%E6%84%9F%2F</url>
    <content type="text"><![CDATA[æˆ‘æ„è¯†åˆ°è‡ªå·±æœ€æ“…é•¿çš„æ—¢ä¸æ˜¯è±¡æ£‹ä¹Ÿä¸æ˜¯å¤ªæï¼Œæˆ‘æœ€æ“…é•¿çš„æ˜¯å­¦ä¹ ä¹‹é“ã€‚å¶ç„¶é—´å¬åˆ°äº†ã€Šå­¦ä¹ ä¹‹é“ã€‹è¿™æœ¬ä¹¦ï¼Œå¸å¼•æˆ‘çš„å¹¶ä¸æ˜¯è¿™ä¹ˆéœ¸æ°”çš„ä¹¦åï¼Œè€Œæ˜¯ä¹¦é‡Œè¯´çš„ä¸€äº›è§‚å¿µå¾ˆæ˜¯å¥‘åˆã€‚å¥½å¥‡ä¹‹ä¸‹ï¼Œä¹°æœ¬çœ‹çœ‹ã€‚ä¹¦ä¸­æè¿°çš„æ˜¯ä½œè€…ä¼ å¥‡èˆ¬çš„ç»å†ï¼Œä¸å…¶è¯´æ˜¯ä¼ æˆä»–çš„å­¦ä¹ ä¹‹é“ï¼Œå€’ä¸å¦‚è¯´æŠŠä»–ç»å†çš„ç‚¹ç‚¹æ»´æ»´è®²è¿°ç»™å¤§å®¶å¬ã€‚ä¹¦ä¸­å¹¶æ²¡æœ‰æå‡ºé€Ÿæˆçš„æ–¹æ³•ï¼Œåªæ˜¯äº‹æ— å·¨ç»†çš„è®²è¿°è‡ªå·±çš„ç»å†å’Œæ„Ÿæ‚Ÿã€‚è€Œè¿™äº›å´æ˜¯æœ¬ä¹¦æœ€é‡è¦çš„ï¼Œä½œä¸ºä¸€ä¸ªä¼ å¥‡äººç‰©ï¼Œä»–çš„ç»å†æ˜¯å¾ˆæœ‰å‚è€ƒä»·å€¼çš„ï¼Œå°±ç®—åªæ˜¯æè¿°æ—¥å¸¸ç”Ÿæ´»çš„æµæ°´è´¦ã€‚æ­¤æ—¶ï¼Œèƒ½å¦ä»ä¹¦ä¸­å—ç›Šï¼Œä¸å†å–å†³äºä¹¦çš„å†…å®¹ï¼Œè€Œæ˜¯è¯»è€…å¦‚ä½•çœ‹å¾…è¿™æœ¬ä¹¦ã€‚è€Œæœ€è®©æˆ‘æ•¬ä½©çš„æ˜¯ï¼Œä½œè€…èƒ½å¤Ÿä½“å¯Ÿå…¥å¾®ï¼Œæ¢ç©¶å…¶èƒŒåçš„çœŸç›¸ã€‚ä¸Šå£«é—»é“ï¼Œå‹¤è€Œè¡Œä¹‹ï¼›ä¸­å£«é—»é“ï¼Œè‹¥å­˜è‹¥äº¡ï¼›ä¸‹å£«é—»é“ï¼Œå¤§ç¬‘ä¹‹ï¼Œä¸ç¬‘ä¸è¶³ä»¥ä¸ºé“åœ¨è¯»ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ‰çŸ¥é“ï¼Œä¸ºä»€ä¹ˆæˆ‘ä¼šè¢«è¿™æœ¬ä¹¦å¸å¼•ã€‚åŸæ¥ï¼Œä½œè€…ä¹Ÿæ˜¯ã€Šé“å¾·ç»ã€‹çš„è¯»è€…ï¼Œå’Œæˆ‘è¿™ä¸ªåŠåŠå­ï¼Œä¹Ÿç®—æ˜¯å¿—åŒé“åˆäº†ã€‚çœ‹å®Œè¿™æœ¬ä¹¦ï¼Œæˆ‘å°±é¢„æ–™ï¼Œèƒ½å¤Ÿè¯»æ‡‚è¿™ä¹¦çš„åŠ¿å¿…èµä¸ç»å£ï¼Œè¯»ä¸æ‡‚æ­¤ä¹¦çš„ä¹Ÿä¼šè§‰å¾—å‘³åŒåš¼èœ¡ï¼Œç´¢ç„¶æ— å‘³ã€‚è€Œæˆ‘ä¸ªäººè§‚ç‚¹åˆ™æ˜¯ï¼Œä½œè€…æŠŠè‡ªå·±æ„Ÿæ‚Ÿèå…¥äº†ç”Ÿæ´»ä¹‹ä¸­ï¼Œåœ¨æè¿°ä¸ªäººç»å†çš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯åœ¨è¯ é‡Šä»€ä¹ˆæ˜¯å­¦ä¹ ä¹‹é“ã€‚è¿™ä¹Ÿæ˜¯æˆ‘è§‰å¾—ä½œè€…å¾ˆå‰å®³çš„åŸå› ï¼Œå¤å½’è‡ªç„¶ã€‚é“ä¹‹å‡ºå£ï¼Œæ·¡ä¹å…¶æ— å‘³ï¼Œè§†ä¹‹ä¸è¶³è§ï¼Œå¬ä¹‹ä¸è¶³é—»ç”Ÿæ´»ä¸­å¤„å¤„é€ç€å¤§é“ç†ï¼Œå¯æ˜¯çœ‹ä¸åˆ°ï¼Œæ‘¸ä¸ç€ï¼Œå¬ä¸è§ï¼Œä¸ç•™ç—•è¿¹ã€‚å°±å¦‚ä¾¦æ¢å°è¯´é‡Œè¯´ï¼Œä¹‹æ‰€ä»¥ä¸»äººå…¬èƒ½å¤Ÿå‘ç°ä¸€äº›çº¿ç´¢è¿›è€Œç ´è§£æ¡ˆä»¶ï¼Œæ˜¯å› ä¸ºå‘ç°äº†ä¸åˆç†çš„åœ°æ–¹ã€‚è€Œé“æ³•è‡ªç„¶ï¼Œæˆ‘ä»¬åœ¨è¿™ç§ç¯å¢ƒä¸‹æˆé•¿ï¼Œä¹Ÿä¼šè§‰å¾—ä¸€åˆ‡è‡ªç„¶è€Œç„¶ã€‚æˆ‘ä»¬ç”Ÿæ°”ä¹Ÿæ˜¯è‡ªç„¶ï¼Œæˆ‘ä»¬å¼€å¿ƒä¹Ÿæ˜¯è‡ªç„¶ï¼Œä»¥è‡³äºæˆ‘ä»¬ä»æ¥ä¸è¿½ç©¶çœ‹ä¼¼è‡ªç„¶çš„èƒŒååˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚è€Œä½œè€…è¿˜æ˜¯ä¸ªå­©ç«¥æ—¶ï¼Œè¡¥å……ä¸€ä¸‹ï¼Œä½œè€…å¾ˆå°çš„æ—¶å€™å°±å·²ç»è¿‡ç€å¼€æŒ‚çš„äººç”Ÿäº†ï¼Œåœ¨ç»å†æŒ«æŠ˜æ—¶ï¼ŒåŠæ—¶å‘ç°è‡ªèº«å¤„å¢ƒï¼Œå¹¶ä»ä¸­è·ç›Šã€‚æˆ‘ä»¬ä»Šå¤©èƒ½å¤Ÿæœ‰å¹¸çœ‹åˆ°è¿™æœ¬ä¹¦ï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºä½œè€…æ•é”å¾—è§‚å¯Ÿèƒ½åŠ›ã€‚çŸ¥äººè€…æ™ºï¼Œè‡ªçŸ¥è€…æ˜ã€‚èƒœäººè€…æœ‰åŠ›ï¼Œè‡ªèƒœè€…å¼ºåœ¨å½“ä»Šè¿™ä¸ªç¤¾ä¼šï¼Œäººä»¬è¢«å¿«èŠ‚å¥çš„ç”Ÿæ´»å‹åœ°å–˜ä¸è¿‡æ°”æ¥ã€‚æˆ‘è®¤ä¸ºæ‰€è°“çš„è‡ªçŸ¥ï¼Œä¸ä»…ä»…æŒ‡çš„æ˜¯ä¸ªäººçš„èƒ½åŠ›ï¼Œè¿˜åº”è¯¥åŒ…æ‹¬æƒ…ç»ªç­‰ã€‚å¾ˆå¤šäººè¢«æƒ…ç»ªæ§åˆ¶è€Œä¸è‡ªçŸ¥ï¼Œè€Œç”±æƒ…ç»ªå¸¦æ¥çš„è´Ÿé¢å½±å“åˆå°†äººå¸¦å‘æ›´åçš„å¤„å¢ƒã€‚å†¥æƒ³ï¼Œä½œä¸ºç¼“è§£å‹åŠ›çš„è¿åŠ¨ï¼Œåœ¨å½“ä»Šç¤¾ä¼šå¾ˆæµè¡Œã€‚åœ¨å†¥æƒ³æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ„Ÿå—è‡ªèº«è‚Œè‚‰çš„æƒ…å†µï¼Œç„¶åä¸æ–­å»è°ƒèŠ‚æ”¾æ¾ã€‚å¾ˆå¤šåˆå­¦è€…åœ¨åˆšå¼€å§‹å†¥æƒ³æ—¶ï¼Œå‹æ ¹ä¸çŸ¥é“è‡ªå·±çš„è‚Œè‚‰åˆ°åº•æ˜¯å¤„äºä»€ä¹ˆçŠ¶æ€ã€‚äººçš„æƒ…ç»ªä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ—¶åˆ»å…³æ³¨è‡ªå·±æƒ…ç»ªçš„å˜åŒ–ï¼Œæœ€ç»ˆä¹Ÿå¯ä»¥åšåˆ°æŒæ§æƒ…ç»ªã€‚è€Œä½œè€…ä¹Ÿå¤šæ¬¡åœ¨å¯¹å±€ä¸­ï¼Œå…‹æœæ¶ˆææƒ…ç»ªï¼Œæœ€åæ‹¿ä¸‹å† å†›ã€‚ç”Ÿæ°”ä¹Ÿå¥½ï¼Œå¼€å¿ƒä¹Ÿç½¢ï¼Œè¿™äº›éƒ½ä¸é‡è¦ã€‚é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æ¥çº³è‡ªå·±æƒ…ç»ªï¼Œä¸æŠµè§¦ã€‚å¦‚æœæ”¾åœ¨å­¦ä¹ é‡Œï¼Œé‚£å°±æ˜¯æ”¾ä¸‹æˆ‘ä»¬çš„ç•éš¾æƒ…ç»ªã€‚å…¶å®ï¼Œé˜»æ­¢æˆ‘ä»¬å‰è¡Œçš„ä¸€ç›´éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜è¦åšåˆ°é™å¦‚å¤„å­ï¼ŒåŠ¨å¦‚è„±å…”ï¼ŒæŠŠè‡ªå·±çš„æ³¨æ„åŠ›ç”¨åœ¨å®ƒè¢«éœ€è¦çš„åœ°æ–¹ã€‚å¤©ä¸‹éš¾äº‹å¿…ä½œäºæ˜“ï¼Œå¤©ä¸‹å¤§äº‹å¿…ä½œäºç»†çœ‹ä¼¼ç®€å•çš„äº‹ç‰©ï¼Œä¹Ÿä»…ä»…æ˜¯å› ä¸ºæˆ‘ä»¬æƒ³ç®€å•äº†ã€‚ä¸å‡ºæˆ·ï¼ŒçŸ¥å¤©ä¸‹ï¼›ä¸çª¥ç‰–ï¼Œè§å¤©é“ï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼Œç”Ÿæ´»ä¸­å¤„å¤„é€ç€å¤§é“ç†ï¼Œçœ‹ä¼¼ç®€å•çš„äº‹æƒ…ï¼Œåšå¤šäº†åšé€äº†ï¼Œä¹Ÿå¯ä»¥ä½œå‡ºä¸€ç•ªæˆç»©ã€‚è€Œæˆ‘ä»¬å¸¸å¸¸è§‚å¯Ÿä¸åˆ°ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„æƒ³æ³•å¤ªå¤šï¼Œæ‚å¿µå¤ªå¤šï¼Œæœ‰å¤ªå¤šçš„ç†æ‰€å½“ç„¶ã€‚äº”è‰²ä»¤äººç›®ç›²ï¼Œäº”éŸ³ä»¤äººè€³è‹ï¼Œäº”å‘³ä»¤äººå£çˆ½ï¼Œé©°éª‹ç•‹çŒä»¤äººå¿ƒå‘ç‹‚ï¼Œéš¾å¾—ä¹‹è´§ä»¤äººè¡Œå¦¨åœ¨å¤æ—¶å€™ï¼Œäººä»¬è¿˜æƒ³ç€ä¿®å¿ƒå…»æ€§ã€‚åœ¨è¿™ä¸ªç‰©æ¬²æ¨ªæµçš„ç¤¾ä¼šä¸­ï¼Œæˆ‘ä»¬æ›´åº”è¯¥å¦‚æ­¤ï¼Œå—è¯±æƒ‘çš„ä¸œè¥¿å¤ªå¤šï¼Œå¾€å¾€å¯¼è‡´æˆ‘ä»¬æ— æ³•è¿½å¯»æœ¬æºã€‚ä½ å‘†çš„è¶Šèˆ’é€‚ï¼Œä½ å°±è¶Šè§‰å¾—ç†æ‰€å½“ç„¶ï¼Œä¹Ÿå°±è¶Šä¸èƒ½å‘ç°å®¹æ˜“å¿½ç•¥çš„ç»†èŠ‚ã€‚ä¹‹å‰çœ‹è¿‡ä¸€ä¸ªæœ‰è¶£çš„æŠ¥é“ï¼Œäººæœ‰æ„è¯†å’Œæ½œæ„è¯†ä¹‹è¯´ã€‚åœ¨äººä¼‘æ¯å‘å‘†çš„æ—¶å€™ï¼Œäººçš„æ½œæ„è¯†å¼€å§‹è¿›è¡ŒçŸ¥è¯†æ•´åˆã€‚è¿™ä¹Ÿæ˜¯å¥½å¤šäººåœ¨çŸ¥è¯†å‚¨å¤‡è¶³å¤Ÿçš„æ—¶å€™ä¼šæœ‰çµå…‰ä¸€ç°çš„è¯´æ³•ã€‚è€Œç°åœ¨çš„ç§‘æŠ€å‘è¾¾ï¼Œå¤ªå¤šçš„ç§‘æŠ€äº§å“å ç”¨äº†æˆ‘ä»¬çš„ç”Ÿæ´»ï¼Œè¿™ä¹Ÿç ´åäº†åŸæœ‰çš„æ•´åˆæœºåˆ¶ã€‚æœ€åæŠ¥é“ç»™å‡ºçš„ç»“è®ºæ˜¯ï¼Œåœ¨è¿™ç§ç¯å¢ƒä¸‹ï¼Œäººç±»ä¼šå˜å¾—è¶Šæ¥è¶Šç¬¨ã€‚è¯´çš„è²Œä¼¼æŒºæœ‰é“ç†çš„ï¼Œæ‰€ä»¥è¯´ç©æ‰‹æœºè¦é€‚åº¦ã€‚ä½œè€…è¿˜æåˆ°ï¼Œå†…åŒ–å’Œå¼ºåŒ–è®­ç»ƒã€‚å°±æ˜¯ä¸æ–­é’ˆå¯¹è‡ªå·±ä¸ç†Ÿæ‚‰çš„é¢†åŸŸå»å¼ºåŒ–ï¼Œè¿›è€Œä½¿å…¶æˆä¸ºèº«ä½“æƒ¯æ€§ã€‚è®²çœŸï¼Œå†™åˆ°è¿™é‡Œï¼Œå…¶å®æˆ‘å·²ç»ä¸è®°å¾—ä¹¦ä¸­çš„ç»†èŠ‚äº†ï¼Œè™½ç„¶æ‰åˆšçœ‹å®Œã€‚ä¹¦ä¸­çš„å†…å®¹å¯ä»¥è¯´æ˜¯å¹²è´§æ»¡æ»¡ï¼Œæ¯•ç«Ÿä½œè€…æ˜¯ä»¥è‡ªå·±çš„è¡ŒåŠ¨å»å®è·µå¹¶å–å¾—äº†å¾ˆå¤§çš„æˆå°±ã€‚ä¹Ÿå¯ä»¥è¯´è¿™æœ¬ä¹¦ä»€ä¹ˆéƒ½æ²¡è¯´ï¼Œå†…å®¹å®½æ³›ï¼Œæ›´åƒå¿ƒç†æŒ‡å¯¼ã€‚æœ€åç”¨ä¸€å¥è¯æ€»ç»“ï¼Œé¢ä¸´å±æœºï¼Œå¦ç„¶æ¥å—ç—›è‹¦ï¼Œç›´è‡³ä»å®¹ï¼Œé—²åº­ä¿¡æ­¥ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦</category>
      </categories>
      <tags>
        <tag>é“å¾·ç»</tag>
        <tag>å­¦ä¹ ä¹‹é“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å‰–æ’åºç®—æ³•]]></title>
    <url>%2F%E8%A7%A3%E5%89%96%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[å‰è¨€æ’åºæ˜¯è®¡ç®—æœºä¸­å¯¹å­˜å‚¨çš„æ•°æ®æ‰§è¡Œæœ€å¸¸è§çš„æ“ä½œä¹‹ä¸€ã€‚è¯­æ³•ç®€å•ï¼Œå´å¾ˆç²¾å¦™ã€‚åœ¨æ’åºç®—æ³•ä¸­ç»•ä¸å¼€çš„æ˜¯å¾ªç¯ï¼Œåªæœ‰åœ¨æ·±å…¥å­¦ä¹ æ’åºç®—æ³•æ—¶ï¼Œæ‰å‘ç°å¹³æ—¶ä¸èµ·çœ¼çš„å¾ªç¯è¯­å¥ä¸å¯å°è§‘ã€‚æ‹¿æœ€ç®€å•çš„å†’æ³¡æ’åºæ¥è¯´ï¼Œé“ç†æˆ‘éƒ½æ‡‚ï¼Œå¯ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°ä¸¤å±‚åµŒå¥—çš„å¾ªç¯è¯­å¥ï¼Ÿä¸ºä»€ä¹ˆä¸¤å±‚å¾ªç¯è¯­å¥çš„æ¡ä»¶ä¼šæœ‰æ‰€ä¸åŒï¼Ÿä¸¤å±‚å¾ªç¯çš„å…³è”é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿå¾ªç¯åœ¨å†’æ³¡ä¸­æ‰®æ¼”ç€ä»€ä¹ˆè§’è‰²ï¼Ÿå¾ªç¯æ˜¯é€šè¿‡æ€æ ·çš„é€»è¾‘å®Œæˆå†’æ³¡çš„ï¼Ÿç­‰ç­‰ã€‚è¿™äº›é—®é¢˜çš„èƒŒåï¼Œéƒ½å€¼å¾—æˆ‘ä»¬å»æ¢ç©¶ã€‚å¾ªç¯åœ¨è¯´æ­£é¢˜ä¹‹å‰ï¼Œéœ€è¦è¯´ä¸€ä¸ªå°æ’æ›²ã€‚ç”±äºäº’è”ç½‘å¯’å†¬ï¼Œç¨‹åºå‘˜ä»¬éƒ½æœ‰ä¸€ç§å±æœºæ„Ÿã€‚åœ¨è¿™åœºå±æœºä¸­ï¼Œç¨‹åºå‘˜çš„ç­›é€‰æ¡ä»¶ä¹Ÿå˜å¾—æ›´åŠ è‹›åˆ»ã€‚æ— è®ºæ˜¯å‰ç«¯è¿˜æ˜¯åç«¯ï¼Œéƒ½æœ€å¥½èƒ½å¤Ÿç†Ÿæ‚‰æŒæ¡ä¸€äº›åŸºç¡€ç®—æ³•ã€‚æ‰€ä»¥è¯´ï¼Œåˆ·ç®—æ³•é¢˜ï¼Œä¹Ÿåœ¨ç¨‹åºå‘˜é—´æµè¡Œèµ·æ¥äº†ã€‚æˆ‘æ—è¾¹çš„ä¸€åŒäº‹ï¼Œå°±åˆ·åˆ°äº†ä¸€ä¸ªæœ‰è¶£çš„ç®—æ³•ï¼Œè¯´æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå°±è®©æˆ‘ä¹Ÿå°è¯•ä¸€ä¸‹ã€‚è®²çœŸï¼Œä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œé™¤äº†ç®€å•å¤„ç†ä¸€ä¸‹æ¥å£æ•°æ®ï¼Œè¿˜çœŸæ²¡æœ‰è®­ç»ƒè¿‡åº”è¯•èˆ¬çš„ç®—æ³•ã€‚é¢˜ç›®å¤§è‡´æ˜¯è¿™æ ·çš„ï¼Œåœ¨ n*n çš„å¹³é¢ä¸­ï¼Œä»¥ä¸€åŠçš„ç©ºé—´èºæ—‹æœ‰åºæ’æ»¡ä»¥1èµ·å§‹è‹¥å¹²æ•°å­—ã€‚ç”»å›¾å¦‚ä¸‹ï¼šéšç€æ€è€ƒçš„æ·±å…¥ï¼Œçªç„¶å‘ç°ï¼Œè¿™tmä¸å°±æ˜¯ä¸€é“æ•°å­¦é¢˜ä¹ˆï¼Ÿï¼ˆåŸè°…æˆ‘è¯´ç²—è¯äº†ï¼‰æ‰¾å‡ºå·²çŸ¥ï¼Œåˆ—å‡ºæœªçŸ¥ï¼Œå…³è”å·²çŸ¥æœªçŸ¥ï¼Œå°±å·®åˆ— xã€y äº†ã€‚ä»¥ä¸‹ä»¥ 5*5 ä¸ºä¾‹ï¼š1234567891011121314151617181920var arr = Array.from(&#123;length: 5&#125;).map(item =&gt; ([]));var i = 1;function Sort(init, length)&#123; let m = init, n= init; while(m &lt; length)&#123; arr[m++][init] = i++; &#125; --m; while(n &lt; length -1) &#123; arr[--m][++n] = i++; &#125; --n; while(n &gt; init) &#123; arr[m][n--] = i++; &#125; if (length &lt;= 3) return arr; Sort(n+1, length - 2);&#125;console.log(Sort(0, 5), arr)å˜åŠ¨çš„å°±æ˜¯æœªçŸ¥ï¼Œæ‰¾å‡ºå¾ªç¯æ¡ä»¶ï¼Œå…³è”å·²çŸ¥ï¼Œè¿™æ ·ç­‰å¼å°±ç®—åˆ—å‡ºæ¥äº†ã€‚åœ¨è¿™é‡Œæˆ‘æŠŠå¹³é¢æƒ³åƒæˆå¹³é¢åæ ‡ï¼Œmã€n å½“ä½œ xã€y è½´ï¼Œæ•°ç»„å°±æ˜¯åæ ‡ç‚¹çš„é›†åˆï¼Œæ•°å­—èºæ—‹æŠ˜è½¬çš„æ¡ä»¶ä½œä¸ºå¾ªç¯é€’å½’æ¡ä»¶ï¼Œå°±è¿™æ ·ï¼Œä¸€ä¸ªç²—ç³™çš„ç®—æ³•ç®—æ˜¯å®Œæˆäº†ã€‚è™½ç„¶è¿™å’Œæœ¬æ¬¡ä¸»é¢˜çš„å…³ç³»ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯å¾ˆå—å¯å‘ï¼Œè®©æˆ‘è§‰å¾—ç¨‹åºå’Œæ•°å­¦æœç„¶å­˜åœ¨ç€ç´§å¯†çš„å…³ç³»ã€‚å›åˆ°è¿™ä¸€å°èŠ‚ï¼Œä»¥æœ€ç®€å•çš„ for å¾ªç¯ä¸ºä¾‹ã€‚12let arr = [1, 2, 3];for(let i = 0;i &lt; arr.length; i++)&#123;&#125;ä»¥ä¸Šå°±æ˜¯æœ€ç®€å•çš„ for å¾ªç¯å†™æ³•ï¼Œä»è¿™ä¸ªç®€å•çš„ for è¯­å¥ï¼Œæˆ‘ä»¬èƒ½å¤ŸçŸ¥é“çš„æ˜¯ï¼Œç¬¬å‡ æ¬¡å¾ªç¯iï¼ˆå³å½“å‰ï¼‰ï¼Œå¾ªç¯çš„æ¬¡æ•°arr.lengthåŠå¾ªç¯çš„é©±åŠ¨i++ã€‚å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯ï¼Œi æ˜¯éšç€å¾ªç¯é€’å¢çš„ã€‚å¾ªç¯å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå…¶ä»–é­”åŠ›ã€‚åœ¨æ’åºç®—æ³•ä¸­ï¼Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„ï¼Œé‚£å°±æ˜¯æ•°ç»„ã€‚åœ¨ JavaScript ä¸­ï¼Œæ•°ç»„å…ƒç´ åœ¨å†…å­˜ä¸­å¹¶ä¸æ˜¯è¿ç»­çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç´¢å¼•æ¥å¼•ç”¨ç›¸åº”ä½ç½®çš„å…ƒç´ ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬é€šå¸¸æ“ä½œæ•°ç»„å…ƒç´ çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯æ“ä½œæ•°ç»„å…ƒç´ æœ¬èº«ï¼Œè€Œæ˜¯è¯¥ä½ç½®ä¸Šçš„å˜é‡ã€‚æˆ‘ä»¬å¯ä»¥æƒ³è±¡æˆï¼Œæ¯ä¸€ä¸ªç´¢å¼•ä½ç½®éƒ½æ˜¯ä¸€ä¸ªå˜é‡ï¼Œç„¶åé€šè¿‡ç»™å˜é‡èµ‹å€¼æ•°ç»„å…ƒç´ ã€‚å¾ªç¯å’Œæ•°ç»„ï¼Œå¦‚æœå•ç‹¬ä½¿ç”¨å€’ä¹Ÿæ²¡ä»€ä¹ˆã€‚å¦‚æœä¸¤è€…ç»“åˆï¼Œä½ å°±ä¼šå‘ç°ï¼Œéšç€å¾ªç¯çš„æ¬¡æ•°å¢åŠ ï¼Œæ•°ç»„ç´¢å¼•ä¹Ÿä¼šé€’å¢ï¼Œå†ç»“åˆä¸€äº›é€»è¾‘ï¼Œå°±å¯ä»¥æŠŠæŸäº›å…ƒç´ ç§»åŠ¨åˆ°åˆ¶å®šçš„ä½ç½®ã€‚é‚£ä¹ˆï¼Œéƒ½ç»“åˆæ€æ ·çš„é€»è¾‘å‘¢ï¼Ÿå†’æ³¡æ’åºå†’æ³¡æ’åºé€»è¾‘ï¼Œé€šè¿‡ä¸¤ä¸¤æ¯”è¾ƒï¼ŒæŠŠè¾ƒå¤§çš„å…ƒç´ èµ‹å€¼ç»™å½“å‰ä½ç½®ç´¢å¼•çš„åä¸€ç´¢å¼•ä½ç½®ï¼Œç„¶åéšç€å¾ªç¯å¢åŠ ï¼Œå½“å‰ç´¢å¼•ä¹Ÿä¼šé€’å¢ï¼Œæœ€ç»ˆä¼šæŠŠæœ€å¤§å€¼æ¨åˆ°æœ«å°¾ã€‚ç„¶åæŠŠè¿™ä¸ªè¿‡ç¨‹å¾ªç¯å¤šæ¬¡ï¼Œæœ€ç»ˆæŠŠå€’æ•°ç¬¬äºŒå¤§ã€å€’æ•°ç¬¬ä¸‰å¤§â€¦ç§»åˆ°æŒ‡å®šä½ç½®ã€‚1234567891011function bubbleSort(arr)&#123; let len = arr.length; for(let i = 0; i &lt; len - 1; i++)&#123; for(let j = 0; j &lt; len - 1 - i; j++)&#123; // é€’å¢æ›´æ¢å½“å‰å…ƒç´ ï¼› if (arr[j] &gt; arr[j+1])&#123; // ç›¸é‚»å…ƒç´ æ¯”è¾ƒï¼› [arr[j], arr[j+1]] = [arr[j+1], arr[j]]; // ä½ç½®äº’æ¢ï¼› &#125; &#125; &#125; return arr;&#125;é€‰æ‹©æ’åºé€‰æ‹©æ’åºé€»è¾‘ï¼Œæ¯”è¾ƒå½“å‰æ•°ç»„å…ƒç´ ï¼Œæ‰¾å‡ºæœ€å°å…ƒç´ çš„ç´¢å¼•ï¼Œå°†è¯¥ä½ç½®çš„å…ƒç´ ç§»åŠ¨æŒ‡å®šä½ç½®ã€‚ç„¶åå¤šæ¬¡å¾ªç¯éå†ï¼Œæœ€ç»ˆå°†å‰©ä¸‹æ•°ç»„å…ƒç´ ä¸­ç¬¬äºŒå°å…ƒç´ ã€ç¬¬ä¸‰å°å…ƒç´ â€¦ç§»åˆ°æŒ‡å®šä½ç½®ã€‚12345678910111213function selectionSort(arr)&#123; let len = arr.length; for(let i = 0; i &lt; len - 1; i++)&#123; let minIndex = i; for(let j = i + 1; j &lt; len; j ++)&#123; // é€’å¢æ›¿æ¢å½“å‰å…ƒç´ ï¼› if(arr[j] &lt; arr[minIndex])&#123; minIndex = j; // æ›´æ–°æœ€å°å…ƒç´ ç´¢å¼•ï¼› &#125; &#125; [arr[minIndex], arr[i]] = [arr[i], arr[minIndex]]; // ä¸æœ€å°å…ƒç´ äº’æ¢ä½ç½®ï¼› &#125; return arr;&#125;æ’å…¥æ’åºæ’å…¥æ’åºé€»è¾‘ï¼Œå°†å½“å‰çš„æ•°ç»„å…ƒç´ ä¸ä¹‹å‰çš„æ•°ç»„å…ƒç´ æ¯”è¾ƒï¼Œå¹¶å°†å…¶æ’å…¥åˆ°é€‚å½“ä½ç½®ã€‚123456789101112function insertionSort(arr)&#123; let len = arr.length; for(let i = 1; i &lt; len; i++)&#123; let temp = arr[i]; let preIndex = i -1; while(preIndex &gt;= 0 &amp;&amp; arr[preIndex] &gt; temp)&#123; arr[preIndex + 1] = arr[preIndex--]; // è¯¥ä½ç½®å…ƒç´ è‹¥å°äºå½“å‰å…ƒç´ ï¼Œåˆ™å°†å…¶åç§»åŠ¨ï¼› &#125; arr[preIndex+1] = temp; &#125; return arr;&#125;å¸Œå°”æ’åºå¸Œå°”æ’åºç®—æ˜¯æ’å…¥æ’åºçš„å‡çº§ç‰ˆæœ¬ï¼Œæ’å…¥æ’åºæ˜¯ä¸ä¹‹å‰çš„æ•°ç»„å…ƒç´ æŒ¨ä¸ªè¿›è¡Œæ¯”è¾ƒï¼Œè€Œå¸Œå°”æ’åºæ˜¯ä»¥ç‰¹å®šé—´éš”è¿›è¡Œå¤šæ¬¡åˆ†ç»„æ¯”è¾ƒï¼Œæ‰€ä»¥è¯´åœ¨ä»£ç ä¸Šå¾ˆç›¸ä¼¼ã€‚123456789101112131415function shellSort(gap, arr)&#123; let len = arr.length; for(let i = 0; i &lt; gap.length; i++)&#123; // ä»¥ä¸åŒé—´éš”åˆ†ç»„æ¯”è¾ƒï¼› for(let j = gap[i]; j &lt; len; j++)&#123; // ä»¥é—´éš”çš„ä¸‹ä¸€ç´¢å¼•ä½ç½®èµ·å§‹ï¼› let temp = arr[j]; let preGapIndex = j - gap[i]; while(preGapIndex &gt;= 0 &amp;&amp; arr[preGapIndex] &gt; temp)&#123; // å½“å‰å…ƒç´ ä¸ä¹‹å‰å›ºå®šé—´éš”ç´¢å¼•ä½ç½®å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼› arr[preGapIndex + gap[i]] = arr[preGapIndex]; preGapIndex = preGapIndex - gap[i]; &#125; arr[preGapIndex + gap[i]] = temp; &#125; &#125; return arr;&#125;å½’å¹¶æ’åºå½’å¹¶æ’åºé€»è¾‘ï¼Œä½¿ç”¨é€’å½’çš„æ–¹å¼å°†æ•°ç»„åˆ’åˆ†ä¸ºæ›´å°çš„æ•°ç»„å¯¹ï¼Œé€šè¿‡æ¯”è¾ƒé‡æ–°åˆæˆå®Œæ•´çš„æ•°ç»„ã€‚æœ¬æ–‡é‡‡ç”¨çš„æ˜¯è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åºï¼Œè¿˜å¯ä»¥ä½¿ç”¨è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºã€‚123456789101112131415161718192021222324function mergeSort(arr)&#123; let len = arr.length; if(len &lt; 2) return arr; let middle = Math.floor(len/2); // åˆ†ç»„ï¼› let left = arr.slice(0, middle); let right = arr.slice(middle); return merge(mergeSort(left), mergeSort(right));&#125;function merge(left, right)&#123; let len = left.length + right.length; let result = [], m = 0, n = 0; left[left.length] = Infinity; right[right.length] = Infinity; for(let i = 0; i &lt; len; i++)&#123; // å¾ªç¯çš„æ¬¡æ•°ä¸ºæ–°æ•°ç»„çš„é•¿åº¦ï¼› if(left[m] &lt;= right[n])&#123; // æ¯”è¾ƒå·¦å³æ•°ç»„å…ƒç´ é‡æ–°æ’åˆ—ç»„åˆæˆæ–°çš„æ•°ç»„ï¼› result[i] = left[m]; m++; &#125;else&#123; result[i] = right[n]; n++; &#125; &#125; return result;&#125;å¿«é€Ÿæ’åºå¿«é€Ÿæ’åºé€»è¾‘ï¼Œä»æ•°ç»„ä¸­é€‰å‡ºåŸºå‡†å€¼ï¼Œå°†å¤§äºåŸºå‡†å€¼çš„å…ƒç´ ç§»åˆ°å³ä¾§æ•°ç»„ï¼Œå°†å°äºåŸºå‡†å€¼çš„å…ƒç´ ç§»åˆ°å·¦ä¾§æ•°ç»„ï¼Œé€’å½’å¾ªç¯æ­¤æ“ä½œç›´åˆ°æ•°ç»„ä¸ºç©ºã€‚ç„¶ååˆå¹¶å„ç»„æ•°ç»„ï¼Œæœ€ç»ˆå¾—åˆ°æ’åºåçš„æ–°æ•°ç»„ã€‚1234567891011121314function quickSort(arr)&#123; if(arr.length &lt; 1) return arr; let len = arr.length; let pivot = arr[0]; // è®¾ç½®åŸºå‡†å€¼ï¼› let lesser = [], greater = []; for(let i = 1; i &lt; len; i++)&#123; if(arr[i] &lt; pivot)&#123; lesser.push(arr[i]); // å°†å°äºåŸºå‡†å€¼æ¨è‡³å·¦ä¾§ï¼› &#125; else &#123; greater.push(arr[i]); // å°†å¤§äºåŸºå‡†å€¼æ¨è‡³å³ä¾§ï¼› &#125; &#125; return quickSort(lesser).concat(pivot, quickSort(greater));&#125;overï¼]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æ’åºç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker-composeå®‰è£…gitlab]]></title>
    <url>%2Fdocker-gitlab%2F</url>
    <content type="text"><![CDATA[æ—¥å¸¸åæ§½å‰ç«¯å·¥ç¨‹åŒ–ï¼Œä¸ªäººè®¤ä¸ºå°±æ˜¯é€šè¿‡å·¥å…·å‡å°‘ç¨‹åºå‘˜ä»¬çš„æ‰‹åŠ¨æ“ä½œï¼Œä»è€Œæé«˜ç”Ÿäº§åŠ›ã€‚è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ï¼Œå‡å°äººåœ¨äº§å“å¼€å‘åˆ°ä¸Šçº¿æ•´ä¸ªæµç¨‹çš„å‚ä¸åº¦ï¼Œä»è€Œå‡å° bug ç‡ã€‚æ¯•ç«Ÿåœ¨çç¢ç¹å¤çš„æ“ä½œä¸­ï¼Œäººéš¾å…ä¼šå‡ºç°å¤±è¯¯ã€‚gitlab å€’æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ï¼Œå¯ä»¥ç®¡ç†ä»£ç ï¼Œä¹Ÿå¯ä»¥å®ç°æŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€æŒç»­éƒ¨ç½²ç­‰ã€‚æœ¬æ¬¡çš„å®è·µä¹Ÿåªæ˜¯é€šè¿‡ docker-compose å®‰è£…äº† gitlabï¼Œé¡¶å¤šåªæ˜¯ä½œä¸ºä»£ç æ‰˜ç®¡å¹³å°ã€‚CI/CD é™¤äº† gitlab å¯ä»¥å®Œæˆï¼Œè¿˜æœ‰ä¸€äº›æœ‰åçš„ Jekinsï¼ŒTravisç­‰ã€‚æœ¬æ¥æ‰“ç®—ç”¨ gitlab æ¥å®Œæˆè¿™äº›åŠŸèƒ½ï¼Œä½†æ˜¯ç›¸å…³çš„çŸ¥è¯†å‚¨å¤‡è¿˜æ˜¯æœ‰äº›æ¬ ç¼ºã€‚è€Œä¸”ï¼Œå°±ç›®å‰è§„åˆ’æ¥çœ‹ï¼Œç»§ç»­æ·±å…¥ gitlab å¹¶ä¸åˆ’ç®—ã€‚æ‰€ä»¥ï¼Œè¿™ç®—æ˜¯åœ¨æ­¤æŒ–å‘ï¼Œç­‰å“ªå¤©æ—¶æœºæˆç†Ÿï¼Œå†æ¥è¡¥ä¸Šè¿™ä¸ªæŠ€æœ¯å€ºã€‚gitå·¥ä½œæµåœ¨ä½¿ç”¨ gitlab ä¹‹å‰ï¼Œä¸å¾—ä¸æ Git å·¥ä½œæµã€‚Git æ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè€Œ gitlab æ˜¯åŸºäº Git çš„ä»£ç æ‰˜ç®¡æœåŠ¡ã€‚åœ¨å›¢é˜Ÿåä½œæ—¶ï¼Œä¸ºäº†æ›´å¥½çš„ç®¡ç†ä»£ç ï¼Œå°±åº”è¯¥åˆ¶å®šä¸€ä¸ªä»£ç æäº¤è§„èŒƒ â€”â€” Git å·¥ä½œæµç¨‹ã€‚ç›®å‰å¹¿æ³›ä½¿ç”¨çš„å·¥ä½œæµç¨‹æœ‰ï¼šGit flowgithub flowgitlab flowGit flowï¼šgithub fow:gitlab fow:ä¸‰ç§å·¥ä½œæµå„æœ‰ç‰¹ç‚¹,ä½†ä¹Ÿå¹¶éä¸€æˆä¸å˜ï¼Œè¦æ ¹æ®åœºæ™¯åˆ¶å®šæœ€ä½³å·¥ä½œæµã€‚docker-composeå®‰è£…Gitlabå®‰è£… gitlab çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå°±ä»…ä»…æ˜¯ä½¿ç”¨ gitlab çš„ Docker é•œåƒå®‰è£…ï¼Œå®˜æ–¹å°±æä¾›äº†ä¸‰ç§æ–¹æ³•GitLab Docker imagesã€‚ä¸è¿‡ï¼Œä¸ªäººè®¤ä¸ºï¼Œæœ€ä¸ºæ–¹ä¾¿çš„è¿˜æ˜¯ä½¿ç”¨ docker-composeã€‚12345678910111213141516web: image: 'gitlab/gitlab-ce:latest' restart: always hostname: 'gitlab.example.com' environment: GITLAB_OMNIBUS_CONFIG: | external_url 'https://gitlab.example.com' # Add any other gitlab.rb configuration here, each on its own line ports: - '8090:8090' - '443:443' - '22:22' volumes: - './srv/gitlab/config:/etc/gitlab' - './srv/gitlab/logs:/var/log/gitlab' - './srv/gitlab/data:/var/opt/gitlab'hostnameã€external_url: ç”¨æ¥åˆ¶å®šåŸŸåï¼Œä¸è¿‡éœ€è¦åœ¨ host æ–‡ä»¶ä¸­å®Œæˆ ip æ˜ å°„ã€‚1127.0.0.0 https://gitlab.example.comports: æš´éœ²äº†å®¹å™¨çš„ä¸‰ä¸ªç«¯å£, åˆ†åˆ«æ˜¯ https å¯¹åº”çš„ 443, http å¯¹åº”8 090 ä»¥åŠ ssh å¯¹åº”çš„ 22 (å¦‚æœä¸éœ€è¦é…ç½®https, å¯ä»¥ä¸æš´éœ²)volumes: æŒ‡å®šæŒ‚è½½ç›®å½•, è¿™ä¸ªä¾¿äºæˆ‘ä»¬åœ¨æœ¬åœ°å¤‡ä»½å’Œä¿®æ”¹å®¹å™¨çš„ç›¸å…³æ•°æ®ç„¶åæ‰§è¡Œ docker-compose up -d å‘½ä»¤å°±å¯ä»¥åå°è¿è¡Œ gitlab äº†ã€‚ï¼ˆ-d åå°è¿è¡Œï¼‰ç¬¬ä¸€æ¬¡ç™»é™†æ—¶éœ€è¦è®¾ç½®ç®¡ç†å‘˜å¯†ç ã€‚é‡åˆ°çš„é—®é¢˜gitlab Error executing action &#39;create&#39; on resource ...åŸå› ï¼šæ²¡æœ‰ç›¸å…³æƒé™ã€‚è§£å†³æ–¹æ¡ˆï¼š sudo docker-compose up -dã€‚gitlab 500 Internal Privoxy ErroråŸå› ï¼šæœ¬æœºå¼€äº†ä»£ç†ã€‚]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>gitlab</tag>
        <tag>gitå·¥ä½œæµç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React+Koa+MongoDB+Dockerå¼€å‘ç¯å¢ƒ]]></title>
    <url>%2FReact-Koa-MongoDB-Docker%2F</url>
    <content type="text"><![CDATA[å‰è¨€æœ¬æ¬¡åšæ–‡ä¾ç„¶æ˜¯å¯¹ multi-spa-webpack-cli çš„æ‰©å……å’Œå®Œå–„ã€‚é›†æˆ mongooseã€‚é›†æˆ Docker å¼€å‘ç¯å¢ƒã€‚multi-spa-webpack-cli å·²ç»å‘å¸ƒåˆ° npmï¼Œåªè¦åœ¨ node ç¯å¢ƒä¸‹å®‰è£…å³å¯ã€‚1npm install multi-spa-webpack-cli -gä½¿ç”¨æ­¥éª¤å¦‚ä¸‹:12345678910111213141516171819202122232425262728293031# 1. åˆå§‹åŒ–é¡¹ç›®multi-spa-webpack-cli init spa-project# 2. è¿›å…¥æ–‡ä»¶ç›®å½•cd spa-project# æœªä½¿ç”¨ Docker# 3. æ‰“åŒ…ä¸å˜çš„éƒ¨åˆ†npm run build:dll# 4. å¯åŠ¨é¡¹ç›®ï¼ˆæ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨ï¼šlocalhost:8090ï¼‰npm start# 5. å¯åŠ¨ MongoDBmongod# 6. å¯åŠ¨æœåŠ¡cd servernpm installnpm start# ä½¿ç”¨ Dockerï¼ˆéœ€å®‰è£…dockerï¼‰# 3. å¯åŠ¨é¡¹ç›®ï¼ˆæ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨ï¼šlocalhost:8090ï¼‰npm run docker:devä»ä¸Šé¢çš„æ­¥éª¤å¯ä»¥çœ‹å‡ºï¼ŒDocker åªéœ€è¦ 3 æ­¥å°±å¯ä»¥å¯åŠ¨é¡¹ç›®äº†ã€‚mongoosemongoose æ˜¯åœ¨ node.js ç¯å¢ƒä¸‹å¯¹ MongoDB è¿›è¡Œä¾¿æ·æ“ä½œçš„å¯¹è±¡æ¨¡å‹å·¥å…·ã€‚åœ¨æ²¡å¼€å§‹ä¹‹å‰ï¼Œè¦å…ˆå®‰è£… MongoDBã€‚å®‰è£… MongoDB çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½æœ‰äº›å°éº»çƒ¦ï¼Œå°¤å…¶æ˜¯å…¬å¸çš„ç”µè„‘ï¼ˆè°ä¹Ÿä¸çŸ¥é“ç”µè„‘é‡Œé…ç½®äº†ä»€ä¹ˆä¸œè¥¿ï¼‰ã€‚å®‰è£…è¿‡ç¨‹å¯å‚ç…§ ã€å®˜ç½‘ï¼šå®‰è£…MongoDBã€‘è¿˜è¦çŸ¥é“ MongoDB çš„ä¸€äº›æ¦‚å¿µã€‚SQLæœ¯è¯­/æ¦‚å¿µMongoDBæœ¯è¯­/æ¦‚å¿µè§£é‡Š/è¯´æ˜databasedatabaseæ•°æ®åº“tablecollectionæ•°æ®åº“è¡¨/é›†åˆrowdocumentæ•°æ®è®°å½•è¡Œ/æ–‡æ¡£columnfieldæ•°æ®å­—æ®µ/åŸŸindexindexç´¢å¼•tablejoinsè¡¨è¿æ¥,MongoDBä¸æ”¯æŒprimary keyprimary keyä¸»é”®,MongoDBè‡ªåŠ¨å°†_idå­—æ®µè®¾ç½®ä¸ºä¸»é”®æ•°æ®åº“æœåŠ¡å’Œå®¢æˆ·ç«¯ï¼šSQLMongoDBMysqld/Oraclemongodmysql/sqlplusmongomongoose ç›¸å…³æ¦‚å¿µçœ‹çœ‹å®˜ç½‘å°±å¥½äº†ã€mongoose ä¸­æ–‡æ–‡æ¡£ã€‘ç”¨æ³•å¾ˆç®€å•ï¼Œå®šä¹‰ Schemaï¼Œè½¬æ¢æˆ Modelï¼Œæ“ä½œ Modelï¼Œç”Ÿæˆå®ä¾‹ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/* model.js */const mongoose = require('mongoose');const Schema = mongoose.Schema;// å®šä¹‰ Schemaconst UserSchema = new Schema(&#123; username: &#123; type: String, unique: true, require: true &#125;, password: &#123; type: String, require: true &#125;&#125;);// è½¬æ¢æˆ Modelconst UserModel = mongoose.model('User', UserSchema);module.exports = UserModel;/* user.js */// æ“ä½œ Modellet user = await UserModel.findOne(&#123; username &#125;); if (!user) &#123; try &#123; // ç”Ÿæˆå®ä¾‹ await new UserModel(&#123; username, password &#125;).save(); ctx.body = &#123; "success": true, "message": "æ³¨å†ŒæˆåŠŸ" &#125; &#125; catch (error) &#123; ctx.body = &#123; "success": false, "message": "æ³¨å†Œå¤±è´¥" &#125; &#125; &#125; else &#123; ctx.body = &#123; "success": false, "message": "ç”¨æˆ·åå·²å­˜åœ¨" &#125;&#125;Dockerç”±ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼Œé¡¹ç›®å¯åŠ¨æ­¥éª¤éº»çƒ¦ï¼Œè€Œä¸”åœ¨å®‰è£… MongoDB ç¯å¢ƒæ—¶ï¼Œå®¹æ˜“å—å¹²æ‰°ã€‚ä¸‹é¢é€šè¿‡ Docker æ¥æ„å»ºå¼€å‘ç¯å¢ƒï¼Œæé«˜å¼€å‘ä½“éªŒã€‚åœ¨ä½¿ç”¨ Docker ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸‹å‡ ä¸ªæ¦‚å¿µã€‚é•œåƒï¼š é•œåƒåªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µï¼Œå…¶å®é™…ä½“ç°å¹¶éç”±ä¸€ä¸ªæ–‡ä»¶ç»„æˆï¼Œè€Œæ˜¯ç”±ä¸€ç»„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œæˆ–è€…è¯´ï¼Œç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆã€‚é•œåƒæ„å»ºæ—¶ï¼Œä¼šä¸€å±‚å±‚æ„å»ºï¼Œå‰ä¸€å±‚æ˜¯åä¸€å±‚çš„åŸºç¡€ã€‚æ¯ä¸€å±‚æ„å»ºå®Œå°±ä¸ä¼šå†å‘ç”Ÿæ”¹å˜ï¼Œåä¸€å±‚ä¸Šçš„ä»»ä½•æ”¹å˜åªå‘ç”Ÿåœ¨è‡ªå·±è¿™ä¸€å±‚ã€‚æ¯”å¦‚ï¼Œåˆ é™¤å‰ä¸€å±‚æ–‡ä»¶çš„æ“ä½œï¼Œå®é™…ä¸æ˜¯çœŸçš„åˆ é™¤å‰ä¸€å±‚çš„æ–‡ä»¶ï¼Œè€Œæ˜¯ä»…åœ¨å½“å‰å±‚æ ‡è®°ä¸ºè¯¥æ–‡ä»¶å·²åˆ é™¤ã€‚åœ¨æœ€ç»ˆå®¹å™¨è¿è¡Œçš„æ—¶å€™ï¼Œè™½ç„¶ä¸ä¼šçœ‹åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å®é™…ä¸Šè¯¥æ–‡ä»¶ä¼šä¸€ç›´è·Ÿéšé•œåƒã€‚å› æ­¤ï¼Œåœ¨æ„å»ºé•œåƒçš„æ—¶å€™ï¼Œéœ€è¦é¢å¤–å°å¿ƒï¼Œæ¯ä¸€å±‚å°½é‡åªåŒ…å«è¯¥å±‚éœ€è¦æ·»åŠ çš„ä¸œè¥¿ï¼Œä»»ä½•é¢å¤–çš„ä¸œè¥¿åº”è¯¥åœ¨è¯¥å±‚æ„å»ºç»“æŸå‰æ¸…ç†æ‰ã€‚æ‰€ä»¥ï¼Œåœ¨ç”Ÿäº§éƒ¨ç½²æ—¶ï¼Œç¡®ä¿æ¯ä¸€å±‚çš„çº¯å‡€ï¼Œå‰”é™¤ä¸å¿…è¦æ–‡ä»¶ã€‚æ¯”å¦‚å¼€å‘ç¼–è¯‘æ—¶çš„æ–‡ä»¶ç­‰ï¼ˆ node_module ï¼‰ã€‚è¿™æ ·ä¹Ÿé¿å…äº†é•œåƒä¸å¿…è¦çš„è‡ƒè‚¿ã€‚å®¹å™¨ï¼šå®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„ å‘½åç©ºé—´ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸ºå®¹å™¨å­˜å‚¨å±‚ã€‚å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚æŒ‰ç…§ Docker æœ€ä½³å®è·µçš„è¦æ±‚ï¼Œå®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨ æ•°æ®å·ï¼ˆVolumeï¼‰ã€æˆ–è€…ç»‘å®šå®¿ä¸»ç›®å½•ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»ï¼ˆæˆ–ç½‘ç»œå­˜å‚¨ï¼‰å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚å¼€å‘ç¯å¢ƒç»å¸¸å¯¹æ–‡ä»¶ä¿®æ”¹ï¼Œå°±å¯ä»¥åˆ©ç”¨è¿™é‡Œçš„æ•°æ®å·ç»‘å®šå®¿ä¸»ç›®å½•ã€‚ä¸Šä¸‹æ–‡ï¼šä¼ ç»™ Docker å¼•æ“çš„æ–‡ä»¶ç›®å½•ã€‚Docker åœ¨è¿è¡Œæ—¶åˆ†ä¸º Docker å¼•æ“ï¼ˆä¹Ÿå°±æ˜¯æœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼‰å’Œå®¢æˆ·ç«¯å·¥å…·ã€‚åœ¨æ„å»ºé•œåƒæ—¶ï¼Œä¼šå°†ä¸Šä¸‹æ–‡å¤åˆ¶åˆ° Docker å¼•æ“ã€‚ç„¶åé€šè¿‡ Docker å®¢æˆ·ç«¯å‘å‡ºæŒ‡ä»¤ï¼Œè€ŒæŒ‡ä»¤çš„æ‰§è¡Œæ˜¯åœ¨ Docker å¼•æ“ä¸­ã€‚æ‰€ä»¥ï¼Œä¸Šä¸‹æ–‡çš„èŒƒå›´è¦åˆç†ï¼ŒèŒƒå›´è¿‡å¤§ï¼Œå°±ä¼šå¯¼è‡´æ–‡ä»¶å¤åˆ¶åˆ° Docker å¼•æ“çš„æ—¶é—´é•¿ï¼›èŒƒå›´è¿‡å°ï¼Œåˆ™ä¼šå¯¼è‡´æ— æ³•æ“ä½œèŒƒå›´å¤–çš„æ–‡ä»¶ã€‚Docker éƒ¨ç½²å¼€å‘ç¯å¢ƒéƒ¨ç½²å¼€å‘ç¯å¢ƒå…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦é…ç½® Dockerfile å’Œ docker-compose å³å¯ã€‚ç›¸å…³æ–‡æ¡£å¯è§ï¼šã€Dockerfile æŒ‡ä»¤è¯¦è§£ã€‘å’Œã€Compose æ¨¡æ¿æ–‡ä»¶ã€‘docker-compose ä½¿ç”¨çš„æ˜¯ YAML è¯­è¨€ï¼Œã€YAML è¯­è¨€æ•™ç¨‹ã€‘1234567891011121314151617181920212223242526272829303132333435version: '3.6'services: client: container_name: "client" build: context: ../ dockerfile: Dockerfile.client.dev volumes: - ../src:/app/client/src ports: - "8090:8090" depends_on: - server server: container_name: "server" build: context: ../server dockerfile: Dockerfile.server.dev volumes: - ../server:/app/server ports: - "8080:8080" depends_on: - database database: container_name: mongo image: mongo volumes: - ../data:/data/db ports: - "27017:27017"å¼€å‘ç¯å¢ƒéœ€è¦çš„å°±æ˜¯å®æ—¶å±•ç°æ•ˆæœï¼Œå‰ç«¯é¡µé¢æ˜¯è¿™æ ·ï¼Œåç«¯æœåŠ¡äº¦æ˜¯å¦‚æ­¤ã€‚å¦‚ä¸Šæ–‡æåˆ°ï¼Œä¸Šä¸‹æ–‡å·²ç»æäº¤åˆ°é•œåƒï¼Œå‰ç«¯é¡¹ç›®å¦‚ä½•æ‰èƒ½å¤Ÿåœ¨å®¹å™¨ä¸­å®ç°çƒ­æ›¿æ¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ volumes è¿™ä¸ªé…ç½®ã€‚åŒç†ï¼Œåç«¯ä¹Ÿæ˜¯ï¼Œä¸è¿‡è¿˜éœ€è¦ modemon å·¥å…·ååŠ©ã€‚åœ¨éƒ¨ç½²æ—¶ï¼Œä¹Ÿè¦åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œå°±æ˜¯åœ¨é•œåƒä¸­ï¼Œlocalhost æ— æ³•ä½¿ç”¨ï¼Œéœ€è¦ç”¨ IP ä»£æ›¿ã€‚123456789101112131415161718// å‰ç«¯é¡¹ç›®/* webpack.dev.js */ devServer: &#123; publicPath: '/', contentBase: path.resolve(__dirname, '..', 'dist'), port: APP_CONFIG.port, host: '0.0.0.0', // éœ€æŒ‡æ˜ hot: true, historyApiFallback: &#123; index: '/' &#125; &#125;// åç«¯é¡¹ç›®/* config.js */module.exports = &#123; 'database': 'mongodb://database:27017/yexiaochen' // ä¸ docker-compose ä¸­ database æœåŠ¡ååŒ¹é…&#125;]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>MongoDB</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactè„šæ‰‹æ¶æ­å»º]]></title>
    <url>%2FReact%E8%84%9A%E6%89%8B%E6%9E%B6%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä¹‹å‰çš„ multi-spa-webpack-cli åªæ˜¯ä¸º React + antd æ¨¡æ¿æä¾›äº†å¼€å‘æ—¶å¿…è¦çš„ç¯å¢ƒï¼Œå¯¹äºå®é™…çš„å¼€å‘å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨å¤„ã€‚ä¸ºäº†æ›´è´´è¿‘å®é™…å¼€å‘ï¼Œæœ¬æ¬¡ React + antd æ¨¡æ¿å®Œå–„äº†ä¸€äº›åŠŸèƒ½ã€‚å°è£… fetchï¼Œæ–°å¢è¯·æ±‚é”™è¯¯æç¤ºï¼›é›†æˆ react-router-dom è·¯ç”±ç®¡ç†ï¼›é›†æˆ react-redux çŠ¶æ€ç®¡ç†ï¼›å¿…ä¸å¯å°‘çš„ antd é›†æˆï¼›node æœåŠ¡é›†æˆï¼ˆå¯é€‰ï¼‰ã€‚node æœåŠ¡å’Œ React+antd æ¨¡æ¿æ˜¯æ²¡æœ‰å¤šå¤§çš„å…³ç³»çš„ã€‚æœ¬æ–‡åªæ˜¯æƒ³é€šè¿‡ä¸€ä¸ªç®€å•çš„ç™»é™†é€»è¾‘æ¥æ¼”ç¤ºä»¥ä¸Šçš„åŠŸèƒ½ï¼Œæ‰€ä»¥ node æœåŠ¡ä¸æ˜¯å¿…é¡»çš„ã€‚multi-spa-webpack-cli å·²ç»å‘å¸ƒåˆ° npmï¼Œåªè¦åœ¨ node ç¯å¢ƒä¸‹å®‰è£…å³å¯ã€‚1npm install multi-spa-webpack-cli -gä½¿ç”¨æ­¥éª¤å¦‚ä¸‹:12# 1. åˆå§‹åŒ–é¡¹ç›®multi-spa-webpack-cli init spa-project1234567891011121314151617# 2. è¿›å…¥æ–‡ä»¶ç›®å½•cd spa-project# 3. å®‰è£…ä¾èµ–npm install# 4. æ‰“åŒ…ä¸å˜çš„éƒ¨åˆ†npm run build:dll# 5. å¯åŠ¨é¡¹ç›®ï¼ˆæ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨ï¼šlocalhost:8090ï¼‰npm start# 6. å¯åŠ¨æœåŠ¡(å¯é€‰)cd servernpm installnpm starté¢„è§ˆï¼šå°è£… fetchç°åœ¨å¤„ç†å¼‚æ­¥çš„æ–¹å¼ï¼Œå¤§å¤šæ•°åŸºäº Promise çš„ã€‚è€Œ fetch æ˜¯å¤©ç„¶æ”¯æŒ Promise çš„ï¼Œæ‰€ä»¥æ— éœ€å†æ‰‹åŠ¨å°è£…ã€‚åœ¨ PWA æŠ€æœ¯ä¸­ï¼Œå·²ä½œä¸ºä¸€ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†åœ¨ä½¿ç”¨ã€‚fetch ä¸ºäººè¯Ÿç—…çš„ç¼ºç‚¹ä¹‹ä¸€ï¼Œå°±æ˜¯ä¸èƒ½ Abort è¯·æ±‚ã€‚æœ‰æ–¹æ¡ˆæå‡ºæå‡ºï¼Œé€šè¿‡ Promise.race çš„æ–¹æ³•æ¥æ¨¡æ‹Ÿ timeoutã€‚å®é™…ä¸Šè¯¥æ‰§è¡Œçš„å·²ç„¶æ‰§è¡Œï¼Œåªæ˜¯è¡¨è±¡ä¸Šè¾¾åˆ°äº†é¢„æœŸçš„æ•ˆæœã€‚ä¸è¿‡æµè§ˆå™¨ç°ä»¥å®éªŒæ€§å¼€å§‹æ”¯æŒ AbortController ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061import &#123; notification &#125; from 'antd';const env = process.env.NODE_ENV;const baseURL = APP_CONFIG[env].ip;// timeout ;// const controller = new AbortController();// const signal = controller.signal;const defaultConfig = &#123; credentials: 'include', headers: &#123; Accept: 'application/json' &#125;, // signal&#125;;const codeMessage = &#123; 301: 'æ°¸ä¹…ç§»åŠ¨', 302: 'ä¸´æ—¶ç§»åŠ¨',// ... 504: 'ç½‘å…³è¶…æ—¶ã€‚'&#125;;const checkStatus = response =&gt; &#123; if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) &#123; return response; &#125; const errortext = codeMessage[response.status] || response.statusText; notification.error(&#123; message: `è¯·æ±‚é”™è¯¯ $&#123;response.status&#125;: $&#123;response.url&#125;`, description: errortext &#125;);&#125;;export default async function Fetch(url, config) &#123; let newUrl = baseURL + url; let newConfig = &#123; ...defaultConfig, ...config &#125;; // const timeoutId = setTimeout(() =&gt; controller.abort(), 5000); if ( newConfig.method.toLocaleLowerCase() === 'post' || newConfig.method.toLocaleLowerCase() === 'put' || newConfig.method.toLocaleLowerCase() === 'delete' ) &#123; if (!(newConfig.body instanceof FormData)) &#123; newConfig.headers['Content-Type'] = 'application/json; charset=utf-8'; newConfig.body = JSON.stringify(newConfig.body); &#125; &#125; try &#123; const response = await fetch(newUrl, newConfig); // clearTimeout(timeoutId); return checkStatus(response).json(); &#125; catch (error) &#123; notification.error(&#123; message: `è¯·æ±‚é”™è¯¯ : $&#123;newUrl&#125;`, description: error.message &#125;); throw error; &#125;&#125;é›†æˆ react-router-dom è·¯ç”±ç®¡ç†è‡ª raect-router v4 ä¹‹åï¼Œä¾¿ä¸å†æ”¯æŒé›†ä¸­å¼ç®¡ç†è·¯ç”±ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨å»å®ç°ã€‚React + antd æ¨¡æ¿é‡‡ç”¨çš„æ˜¯å®˜ç½‘æ¨èçš„æ–¹å¼ï¼Œlayouts ç›®å½•ä¸‹çš„æ–‡ä»¶ç”¨æ¥ç®¡ç†è·¯ç”±ã€‚é›†æˆ react-redux çŠ¶æ€ç®¡ç†Redux ä½œä¸ºçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œé™¤äº† Reactï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨å…¶ä»–åœ°æ–¹ï¼ˆæ„æ€æ˜¯è¯´ï¼Œå’Œ React æ²¡åŠæ¯›é’±å…³ç³»ï¼‰ã€‚åœ¨Reactä¸­ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ© React-redux å·¥å…·ï¼Œè¿™æ ·ä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ä¸¥æ ¼çš„å•å‘æ•°æ®æµæ˜¯ Redux æ¶æ„çš„è®¾è®¡æ ¸å¿ƒã€‚redux æ•°æ®æµå‘ï¼šå°±æ˜¯æŠŠ actionï¼ˆè¡Œä¸ºï¼‰ dispatchï¼ˆä¸¢ç»™ï¼‰reducerï¼ˆæ›´æ–° stateï¼‰ã€‚node æœåŠ¡é›†æˆï¼ˆå¯é€‰ï¼‰node æœåŠ¡ç™»é™†é‡‡ç”¨çš„æ˜¯ session æ¥è®°å½•çŠ¶æ€ã€‚å°±è¿™æ ·ï¼Œä¸€ä¸ªç®€å•çš„è„šæ‰‹æ¶å®£å‘Šå®Œæˆã€‚ä¸è¿‡ï¼Œè¿™æ‰åªæ˜¯ä¸ªå¼€å§‹ã€‚]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>CLI</tag>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[webpackå¼€å‘ç¯å¢ƒé…ç½®]]></title>
    <url>%2Fwebpack%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[æ—¥å¸¸åæ§½ç»è¿‡ä¸æ–­çš„è°ƒæ•´å’Œæµ‹è¯•ï¼Œå…³äº react çš„ webpack é…ç½®ç»ˆäºæ–°é²œå‡ºç‚‰ã€‚æœ¬æ¬¡çš„é‡ç‚¹ä¸»è¦é›†ä¸­åœ¨å¼€å‘ç¯å¢ƒä¸Šï¼Œç”Ÿäº§ç¯å¢ƒåˆ™æ˜¯ä½¿ç”¨ webpack çš„ production é»˜è®¤æ¨¡å¼ã€‚æœ¬æ¬¡é…ç½®ä¸»è¦æœ‰ï¼šeslint+prettier;optimization.splitChunks;happypack;DllReferencePlugin &amp; DllPlugin;â€¦æ–‡æ¡£çš„é‡è¦æ€§è®²çœŸï¼Œå¯¹äºåˆæ¬¡æ¥è§¦ webpack çš„åŒå­¦ï¼Œæ€•çš„å¯èƒ½ä¸æ˜¯ webpack çš„é…ç½®ï¼Œè€Œæ˜¯é•¿é•¿çš„ package.jsonã€‚ä¾èµ–é‚£ä¹ˆå¤šï¼Œä½ æ€ä¹ˆå°±çŸ¥é“éœ€è¦å“ªäº›ä¾èµ–å‘¢ã€‚ä¸å¼€ç©ç¬‘ï¼Œæˆ‘è¿˜çœŸçŸ¥é“ã€‚webpack çš„ä¾èµ–ä¸»è¦æ˜¯ä¸€äº› loader å’Œ pluginsã€‚æˆ‘ä»¬çŸ¥é“å•é¡µé¢å¼•ç”¨è¢«æ‰“åŒ…åï¼ŒåŸæœ‰çš„ç»“æ„åŸºæœ¬ä¸Šä¸å¤å­˜åœ¨äº†ã€‚è€Œä¹‹å‰å¼•ç”¨çš„å›¾ç‰‡æˆ–å­—ä½“èµ„æºè¿˜æŒ‰ç…§ä¹‹å‰çš„è·¯å¾„æŸ¥æ‰¾ï¼Œè‚¯å®šæ˜¯æ‰¾ä¸åˆ°çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦è½¬æ¢å·¥å…·ï¼ˆé¡ºä¾¿è½¬æ¢èµ„æºï¼‰â€”â€” url-loader|file-loaderã€‚å¤§å¤šæ•°äººå†™æ ·å¼æ—¶ï¼Œå–œæ¬¢ä½¿ç”¨ cssã€lessã€sassã€‚è¿™æ—¶ä¹Ÿä¼šæœ‰å¯¹åº”çš„å·¥å…· style-loader, css-loader, less-loaderã€‚æƒ³è¦ä½¿ç”¨ JavaScript æ–°ç‰¹æ€§æˆ–å¤„ç†å…¼å®¹æ€§ï¼Œå°±ç”¨ babel-loaderã€‚ä»¥ä¸Šè¿™äº›åŸºæœ¬ä¸Šå¯ä»¥åº”ä»˜ä¸€äº›ç®€å•çš„é¡¹ç›®ã€‚å¯å®é™…ä¸Šå‘¢ï¼Ÿæˆ‘ä¿¡ä½ ä¸ªé¬¼ï¼Œä½ è¿™ä¸ªç³Ÿè€å¤´åçš„å¾ˆï¼çœ‹æ–‡æ¡£å•Šï¼Œçœ‹å®˜æ–¹ä»‹ç»å•Šã€‚æœ¬æ¬¡ä¹Ÿæ˜¯é€šè¿‡çœ‹ babel æ–‡æ¡£ï¼Œå’Œä¸€äº›ä¾èµ–æ–‡æ¡£æ¥é…ç½® webpack çš„ï¼Œå…¨ç¨‹æ— å‹åŠ›ï¼Œè€Œä¸”å¾ˆæ­£å®—ã€‚æ‰€ä»¥ï¼Œæ–‡æ¡£å¾ˆé‡è¦ã€‚eslint+prettierå¦‚æœæ—¶å›¢é˜Ÿåˆä½œï¼Œä»£ç è§„èŒƒæ˜¯å¾ˆé‡è¦çš„ã€‚å¯ä»¥é€šè¿‡ eslint+prettier è§„èŒƒã€‚è¿™ä¸¤ä¸ªå·¥å…·å„æœ‰ä¾§é‡ç‚¹ï¼Œä¸è¿‡å®˜ç½‘ä¹Ÿæä¾›äº†ä¸¤è€…ç»“åˆçš„æ–¹æ¡ˆã€‚è¯¦ç»†ä»‹ç»è§å®˜ç½‘ã€‚æˆ‘ä¸ªäººä¸ä¹ æƒ¯åˆ›å»ºå¤ªå¤šçš„é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥éƒ½æ”¾åœ¨äº† package.json æ–‡ä»¶ä¸­ã€‚123456789101112// webpack.common.js&#123; enforce: "pre", test: /\.m?jsx?$/, exclude: /node_modules/, loader: "eslint-loader", options: &#123; fix: true, cache: true, formatter: require("eslint-friendly-formatter"), &#125;&#125;,12345678910111213141516171819"eslintConfig": &#123; "parser": "babel-eslint", "env": &#123; "browser": true, "es6": true, "node": true &#125;, "parserOptions": &#123; "ecmaVersion": 6, "sourceType": "module" &#125;, "extends": [ "plugin:prettier/recommended" ]&#125;,"prettier": &#123; "singleQuote": true, "semi": true&#125;,å¼€å‘ç¯å¢ƒå¼€å‘ç¯å¢ƒæ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œç®€å•æ˜“é…ç½®ï¼Œå®˜ç½‘å¾ˆè¯¦ç»†ã€‚12345678910111213141516171819202122// webpack.dev.jsplugins: &#123; //... new webpack.HotModuleReplacementPlugin()&#125;,devtool: "eval-source-map",devServer: &#123;contentBase: path.resolve(__dirname, '..', 'dist'),port: APP_CONFIG.port,hot: true,open: true&#125;// index.js// å…¥å£å¤„è¦é…ç½®è¿™äº›ï¼Œåˆ«å¿˜äº†ã€‚// å› ä¸ºæœ‰å†’æ³¡çš„æœºåˆ¶ï¼Œæ‰€ä»¥åœ¨é¡¶ç«¯åŠ ä¸€ä¸ªå°±å¥½ã€‚if (module.hot) &#123; module.hot.accept('./views/login/index.js', () =&gt; &#123; render(App) // æ¸²æŸ“åº”ç”¨ &#125;)&#125;optimization.splitChunksè¿™ä¸ªé…ç½®æ˜¯ç”¨æ¥åˆ†å‰²åŒ…çš„ã€‚åœ¨æ€§èƒ½ä¼˜åŒ–ä¸Šï¼Œè¯·æ±‚æ•°å’Œè¯·æ±‚åŒ…çš„å¤§å°ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ä¼˜åŒ–ç‚¹ã€‚è¯·æ±‚æ•°é‡å’Œè¯·æ±‚æ•°æ®å¤§å°è¦æ§åˆ¶åœ¨åˆç†çš„èŒƒå›´å†…ã€‚ä¸è¿‡é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå°†åŒ…åˆ†å‰²ä¸ºå†…å®¹ä¸å˜çš„éƒ¨åˆ†å’Œå†…å®¹å˜åŒ–çš„éƒ¨åˆ†ã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸ºäº†å°†å¤§çš„åŒ…åˆ†å‰²æˆæ›´å°çš„åŒ…ï¼Œä¹Ÿæ˜¯ä¸ºäº†èƒ½å¤Ÿå……åˆ†åˆ©ç”¨ç¼“å­˜æœºåˆ¶ã€‚123456789101112131415161718// webpack.common.jsruntimeChunk: 'single', splitChunks: &#123; cacheGroups: &#123; verdor: &#123; test: /[\\/]node_modules[\\/]/, name: 'verdors', chunks: 'all', priority: -10, &#125;, common: &#123; name: 'common', chunks: 'all', minChunks: 2, priority: -20, &#125; &#125;&#125;happypackè½¬æ¢æ–‡ä»¶ç®—æ˜¯æ‰“åŒ…è¿‡ç¨‹ä¸­æ¯”è¾ƒè€—æ—¶çš„äº‹æƒ…ï¼Œé€šè¿‡ happypack å¯ä»¥å°†è¿™ä»¶äº‹åˆ†æ‘Šç»™å¤šä¸ª node è¿›ç¨‹ï¼Œè¿™æ ·å°±ä¼šå¤§å¤§ç¼©çŸ­äº†æ‰“åŒ…æ—¶é—´ï¼ˆåŒç†ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ thread-loaderï¼‰ã€‚ä¸è¿‡è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ˜¯è¦å¼€é”€çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–æ–¹å‘ï¼Œè¦ä¸è¦é‡‡ç”¨ï¼Œè¿˜éœ€è¦é…Œæƒ…è€ƒè™‘ã€‚123456789101112131415161718192021222324252627282930// loader&#123; test: /\.m?jsx?$/, exclude: /node_modules/, use: 'happypack/loader?id=js',&#125;// pluginsnew HappyPack(&#123; id: 'js', threadPool: happyThreadPool, loaders: [&#123; loader: 'babel-loader', options: &#123; cacheDirectory: true, presets: [['@babel/preset-env', &#123; "useBuiltIns": "usage", "corejs": 3 &#125;], "@babel/preset-react"], plugins: ['@babel/transform-runtime', "@babel/plugin-proposal-class-properties", [ "import", &#123; "libraryName": "antd", "style": true &#125; ] ] &#125; &#125;]&#125;)ä¸å–œæ¬¢å•ç‹¬çš„ babel æ–‡ä»¶ï¼Œæ‰€ä»¥ babel çš„é…ç½®éƒ½åœ¨è¿™é‡Œäº†ã€‚å…¶å®ï¼Œå…³äº babel è¦é…ç½®çš„å†…å®¹è¿˜æ˜¯æŒºå¤šçš„ã€‚ä¸è¿‡ä¸è¦æ€•ï¼Œbabel çš„å®˜æ–¹æ–‡æ¡£æœ‰è¯¦ç»†è¯´æ˜ã€‚DllReferencePlugin &amp; DllPluginä¹‹å‰ä¹Ÿæåˆ°è¿‡ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨ optimization.splitChunks æ¥å¤„ç†ç¬¬ä¸‰æ–¹åº“ï¼Œå°†å…¶åˆ†å‰²æˆä¸å˜çš„éƒ¨åˆ†ã€‚å¯æ˜¯ï¼Œæ¯æ¬¡æ‰“åŒ…çš„æ—¶å€™éƒ½éœ€è¦é‡å¤è¿™ä¸€æ­¥éª¤ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±æƒ³å•Šï¼Œä¸å˜çš„éƒ¨åˆ†æ‰“åŒ…ä¸€æ¬¡ä¸å°±å¯ä»¥äº†ä¹ˆï¼Œä¹‹åå°±åªæ‰“åŒ…é‚£äº›ç»å¸¸å˜åŒ–çš„éƒ¨åˆ†ï¼Œè¿™æ ·ä¸å°±èƒ½æé«˜æ•ˆç‡äº†ä¹ˆï¼Ÿæ˜¯çš„ï¼Œ DllReferencePlugin &amp; DllPlugin åŸºæœ¬ä¸Šè¦åšçš„å°±æ˜¯è¿™ä¹ˆä¸€å›äº‹ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¼šé’ˆå¯¹è¿™ä¸¤éƒ¨åˆ†åšä¸åŒçš„é…ç½®ã€‚1234567891011// webpack.dll.jsnew webpack.DllPlugin(&#123; context: process.cwd(), path: path.join(__dirname, '..', 'dist', 'dll', '[name]-manifest.json'), name: '[name]_[hash]'&#125;)// webpack.common.jsnew webpack.DllReferencePlugin(&#123; context: process.cwd(), manifest: require(path.resolve(__dirname, '..', 'dist', 'dll', "vendor-manifest.json"))&#125;),multi-spa-webpack-cliä½¿ç”¨è¯´æ˜multi-spa-webpack-cli å·²ç»å‘å¸ƒåˆ° npmï¼Œåªè¦åœ¨ node ç¯å¢ƒä¸‹å®‰è£…å³å¯ã€‚ä¸€è·¯æŒ‰ Enterï¼Œå…¨éƒ¨æºç éƒ½åœ¨é‡Œé¢ï¼ï¼ï¼1npm install multi-spa-webpack-cli -gä½¿ç”¨æ­¥éª¤å¦‚ä¸‹:1234567891011121314# 1. åˆå§‹åŒ–é¡¹ç›®multi-spa-webpack-cli init spa-project# 2. è¿›å…¥æ–‡ä»¶ç›®å½•cd spa-project# 3. å®‰è£…ä¾èµ–npm install# 4. æ‰“åŒ…ä¸å˜çš„éƒ¨åˆ†npm run build:dll# 5. å¯åŠ¨é¡¹ç›®ï¼ˆæ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨ï¼šlocalhost:8090ï¼‰npm start]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰‹å†™webpackè„šæ‰‹æ¶çš„cliå·¥å…·]]></title>
    <url>%2F%E6%89%8B%E5%86%99webpack%E8%84%9A%E6%89%8B%E6%9E%B6%E7%9A%84cli%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[æ—¥å¸¸åæ§½æœ¬æ¥æƒ³æ­å»ºä¸€ä¸ªwebpackè„šæ‰‹æ¶çš„ï¼Œäºæ˜¯åœ¨æ­å»ºçš„è¿‡ç¨‹ä¸­ä¸æ–­åœ°æœé›†ç›¸å…³èµ„æ–™ã€‚å¯æœ€ç»ˆçš„ç»“æœæ˜¯ï¼Œwebpackè„šæ‰‹æ¶æ²¡æœ‰æ­å»ºæˆï¼Œå´å†™å‡ºä¸ª CLI å°å·¥å…·ã€‚å…¶å®ï¼Œè¿™ä¹Ÿå¹¶ä¸æ˜¯æ²¡æœ‰åŸå› çš„ã€‚ç°åœ¨æµè¡Œçš„æ¡†æ¶éƒ½æ¨å‡ºäº†è‡ªå·±çš„è„šæ‰‹æ¶å·¥å…·ï¼Œæ¯”å¦‚ï¼ŒVue CLIï¼ŒCreate React App ç­‰ã€‚è„šæ‰‹æ¶å’ŒCLIå¾€å¾€å¦‚å½±éšå½¢ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†ä¸¤è€…åœ¨æ¦‚å¿µä¸Šçš„æ··æ·†ã€‚æ ‡é¢˜ä¸ºä»€ä¹ˆè¿™ä¹ˆæ‹—å£ï¼Œå…¶å®æ˜¯ä¸ºäº†åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚æˆ‘æœ‰ä¸€ä¸ªæƒ³æ³•æ—¢ç„¶è¢«å¸¦è·‘åäº†ï¼Œå°±åªèƒ½åœ¨è·‘åçš„è·¯ä¸Šè¶Šè·‘è¶Šè¿œå§ã€‚å‘½ä»¤è¡Œç•Œé¢ï¼ˆè‹±è¯­ï¼šCommand-Line Interfaceï¼Œç¼©å†™ï¼šCLIï¼‰æ˜¯åœ¨å›¾å½¢ç”¨æˆ·ç•Œé¢å¾—åˆ°æ™®åŠä¹‹å‰ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„ç”¨æˆ·ç•Œé¢ï¼Œå®ƒé€šå¸¸ä¸æ”¯æŒé¼ æ ‡ï¼Œç”¨æˆ·é€šè¿‡é”®ç›˜è¾“å…¥æŒ‡ä»¤ï¼Œè®¡ç®—æœºæ¥æ”¶åˆ°æŒ‡ä»¤åï¼Œäºˆä»¥æ‰§è¡Œã€‚ä¹Ÿæœ‰äººç§°ä¹‹ä¸ºå­—ç¬¦ç”¨æˆ·ç•Œé¢ï¼ˆcharacter user interface, CUIï¼‰ â€”â€”â€”â€” ç»´åŸºç™¾ç§‘ä½¿ç”¨è¿‡ Vue CLI çš„åŒå­¦åº”è¯¥éƒ½çŸ¥é“ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç»ˆç«¯æ•²å‡ ä¸ªçš„å‘½ä»¤å°±å¯ä»¥æ­å»ºä¸€ä¸ª Vue çš„è„šæ‰‹æ¶ã€‚å¦‚æœä¸ä½¿ç”¨ CLI çš„è¯ï¼Œæ¯æ¬¡åˆ›å»ºé¡¹ç›®æ—¶ï¼Œéƒ½éœ€è¦é…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚webpacké…ç½®æ–‡ä»¶ï¼‰ã€è®¾è®¡ç»“æ„ã€æŠ€æœ¯æ ˆé€‰å‹ç­‰ã€‚å¦‚æœæ¯æ¬¡ä»é›¶å¼€å§‹å»æ­å»ºé¡¹ç›®å°±ä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠç›¸åŒçš„ä¸œè¥¿æŠ½ç¦»æˆè„šæ‰‹æ¶ã€‚ä»¥ååˆ›å»ºé¡¹ç›®æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥æŠŠè„šæ‰‹æ¶å¤åˆ¶è¿‡æ¥ï¼Œå¹¶ä»¥æ­¤ä¸ºåŸºç¡€æ­å»ºé¡¹ç›®ã€‚å›è¿‡å¤´æ¥å†çœ‹çœ‹æˆ‘ä»¬æ‰‹åŠ¨æ­å»ºé¡¹ç›®çš„è¿‡ç¨‹ï¼Œä»æ¯æ¬¡ä»é›¶å¼€å§‹æ­å»ºé¡¹ç›®åˆ°è„šæ‰‹æ¶çš„å¤ç”¨ï¼Œè¿™ä¸­é—´æœ‰äº†å¾ˆå¤§çš„è¿›æ­¥ã€‚å¯å³ä½¿æ˜¯å¤åˆ¶é»è´´ï¼Œæˆ‘ä»¬ä¾ç„¶è§‰å¾—å¾ˆéº»çƒ¦ï¼Œå¦‚æœç”¨å‘½ä»¤è¡Œçš„æ–¹å¼æ¥å–ä»£å›¾å½¢æ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ‡’ä¸€äº›äº†ã€‚å›åˆ°ä¸»é¢˜ï¼Œæˆ‘æœ¬æ¥æ‰“ç®—å†™çš„webpackè„šæ‰‹æ¶æ˜¯åŸºäºè¿™æ ·çš„ä¸€ä¸ªæƒ³æ³•ã€‚â¡ï¸ ç°åœ¨å¤§éƒ¨åˆ†çš„å‰ç«¯å·¥ç¨‹ï¼Œwebpackä½œä¸ºæ‰“åŒ…å·¥å…·å·²ç»æˆäº†æ ‡é…äº†ã€‚è€Œ webpack çš„é…ç½®æ˜¯å¤§åŒå°å¼‚çš„ï¼Œå®Œå…¨å¯ä»¥å‰¥ç¦»å‡ºä¸€ä¸ªé€šç”¨çš„webpacké…ç½®ï¼Œç„¶åé’ˆå¯¹ä¸ªåˆ«é…ç½®è¿›è¡Œä¿®æ”¹ã€‚æœ¬æ¬¡å¸Œæœ›æœ€ç»ˆå®ç°ä¸€ä¸ªåŸºäºwebpacké€‚ç”¨äºä¸åŒå‰ç«¯æ¨¡æ¿ï¼ˆReactã€Vueã€ES+ï¼‰çš„è„šæ‰‹æ¶ã€‚ç°åœ¨è„šæ‰‹æ¶æœ‰äº†ï¼Œå¦‚ä½•è‡ªåŠ¨åŒ–å»æ­å»ºä¸€ä¸ªé¡¹ç›®å‘¢ï¼Ÿå¤åˆ¶æˆ–ä¸‹è½½è„šæ‰‹æ¶æ¨¡æ¿ã€‚ï¼ˆä¸ºäº†æ›´çµæ´»ï¼Œä¸Šä¼ åˆ°GitHubï¼Œæˆ–å‘å¸ƒnpmä¸­ï¼‰ã€‚æ ¹æ®ä¸åŒéœ€æ±‚ï¼Œåœ¨è„šæ‰‹æ¶æ¨¡æ¿åŸºç¡€ä¸Šé‡æ–°é…ç½®webpackã€packageæ–‡ä»¶ã€‚å®‰è£…ä¾èµ–ã€‚ä»¥ä¸‹ä»£ç å¯è§GitHubã€‚CLI ä¸­çš„é¢„å¤‡å·¥ä½œé¦–å…ˆäº†è§£ä¸€ä¸‹ #!ã€‚æ–‡ä»¶å¼€å¤´è¦åŠ ä¸Š#! /usr/bin/env nodeã€‚åœ¨è®¡ç®—é¢†åŸŸä¸­ï¼ŒShebangï¼ˆä¹Ÿç§°ä¸º Hashbang ï¼‰æ˜¯ä¸€ä¸ªç”±äº•å·å’Œå¹å·æ„æˆçš„å­—ç¬¦åºåˆ— #! ï¼Œå…¶å‡ºç°åœ¨æ–‡æœ¬æ–‡ä»¶çš„ç¬¬ä¸€è¡Œçš„å‰ä¸¤ä¸ªå­—ç¬¦ã€‚ åœ¨æ–‡ä»¶ä¸­å­˜åœ¨ Shebang çš„æƒ…å†µä¸‹ï¼Œç±» Unix æ“ä½œç³»ç»Ÿçš„ç¨‹åºåŠ è½½å™¨ä¼šåˆ†æ Shebang åçš„å†…å®¹ï¼Œå°†è¿™äº›å†…å®¹ä½œä¸ºè§£é‡Šå™¨æŒ‡ä»¤ï¼Œå¹¶è°ƒç”¨è¯¥æŒ‡ä»¤ï¼Œå¹¶å°†è½½æœ‰ Shebang çš„æ–‡ä»¶è·¯å¾„ä½œä¸ºè¯¥è§£é‡Šå™¨çš„å‚æ•°ã€‚ â€”â€”â€”â€” ç»´åŸºç™¾ç§‘ä½¿ç”¨ #!/usr/bin/env è„šæœ¬è§£é‡Šå™¨åç§° æ˜¯ä¸€ç§å¸¸è§çš„åœ¨ä¸åŒå¹³å°ä¸Šéƒ½èƒ½æ­£ç¡®æ‰¾åˆ°è§£é‡Šå™¨çš„åŠæ³•ã€‚ â€”â€”â€”â€” ç»´åŸºç™¾ç§‘ç„¶åçœ‹çœ‹éƒ½ç”¨åˆ°äº†å“ªäº›ä¸œè¥¿ï¼ˆéƒ¨åˆ†ï¼‰ã€‚1npm install commander chalk fs-extra shelljs inquirer ora ejs --save12345678910111213#! /usr/bin/env node// multi-spa.jsconst program = require('commander'); // è§£æå‘½ä»¤;const chalk = require('chalk'); // å‘½ä»¤è¡Œç•Œé¢è¾“å‡ºç¾é¢œconst fs = require('fs-extra'); // fsçš„æ‹“å±•;const shell = require('shelljs'); // é‡æ–°åŒ…è£…äº† child_processï¼›const inquirer = require('inquirer'); // äº¤äº’å¼é—®ç­”ï¼›const ora = require('ora'); // è¾“å‡ºæ ·å¼ç¾åŒ–ï¼›const ejs = require('ejs'); // æ¨¡ç‰ˆå¼•æ“ï¼›const path = require('path');const currentPath = process.cwd();let answersConfig = null;å‘½ä»¤çš„è§£æç±»ä¼¼ä¸ Vue çš„ vue initï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›è‡ªå·±çš„ CLI ä¹Ÿèƒ½æ‹¥æœ‰ç±»ä¼¼çš„åŠŸèƒ½ã€‚1234// package.json "bin": &#123; "multi-spa-webpack": "./bin/multi-spa.js" &#125;,è¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰äº†multi-spa-webpackçš„å‘½ä»¤ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦å…¨å±€ä½¿ç”¨ï¼Œè¿˜éœ€è¦æ‰§è¡Œä¸‹é¢å‘½ä»¤ã€‚1npm linkæ¥ä¸‹æ¥å°±è¦åˆå§‹åŒ–multi-spa-webpackç›¸å…³çš„å‘½ä»¤äº†ã€‚12345678910111213141516171819202122232425262728293031323334353637// multi-spa.jsprogram .command('init &lt;é¡¹ç›®è·¯å¾„&gt; [é€‰é¡¹]') .description('æŒ‡ä»¤è¯´æ˜ï¼šåˆå§‹åŒ–é¡¹ç›®') .action(async (appName) =&gt; &#123; try &#123; let targetDir = path.resolve(currentPath, appName || '.'); if (fs.pathExistsSync(targetDir)) &#123; if (program.force) &#123; GenarateProject(appName); // åˆ›å»ºé¡¹ç›®ï¼› &#125; ora(chalk.red(`ï¼å½“å‰ç›®å½•ä¸‹ï¼Œ$&#123;appName&#125;å·²å­˜åœ¨ï¼Œè¯·ä¿®æ”¹åç§°åé‡è¯•`)).fail(); process.exit(1); &#125;; answersConfig = await getAnswers(appName); GenarateProject(appName); // åˆ›å»ºé¡¹ç›®ï¼› &#125; catch (error) &#123; ora(chalk.red(`é¡¹ç›®åˆ›å»ºå¤±è´¥ï¼š$&#123;error&#125;`)).fail(); process.exit(1); &#125; &#125;);program .arguments('&lt;command&gt;') .action((cmd) =&gt; &#123; console.log(); console.log(chalk.red(`ï¼å‘½ä»¤æœªèƒ½è§£æ &lt;$&#123;chalk.green(cmd)&#125;&gt;`)); console.log(); program.outputHelp(); console.log(); &#125;);program.parse(process.argv);if (program.args.length === 0) &#123; console.log(); console.log(chalk.red('ï¼è¾“å…¥çš„å‘½ä»¤æœ‰è¯¯')); console.log(); chalk.cyan(program.help());&#125;å¤åˆ¶æˆ–ä¸‹è½½æ¨¡æ¿åœ¨æ‰§è¡Œmulti-spa-webpack init spa-projectåï¼Œå°±éœ€è¦æ‹·è´ä¸€ä»½è„šæ‰‹æ¶åˆ°æœ¬åœ°äº†ã€‚è‡³äºè„šæ‰‹æ¶ä»å“ªé‡Œæ¥ï¼Œå¯ä»¥æ”¾åœ¨ github ä¸Šï¼ˆç±»ä¼¼ Vue CLIï¼‰æˆ– æ”¾åœ¨ CLI å¯¹åº”çš„ç›®å½•ä¸‹ï¼ˆç±»ä¼¼create-react-appï¼‰ã€‚æœ¬æ–‡æ˜¯é‡‡ç”¨çš„æ˜¯ä» github è·å–è„šæ‰‹æ¶æ¨¡æ¿çš„ã€‚ä½†æ˜¯å¸¸è§„çš„æ–¹å¼ï¼Œåªèƒ½ä¸‹è½½æ•´ä¸ªé¡¹ç›®ï¼Œè€Œå¯¹äºä¸éœ€è¦çš„æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶ï¼Œä¹Ÿä¼šåŒæ—¶ä¸‹è½½ï¼Œä¸‹è½½åï¼Œåªèƒ½åœ¨æœ¬åœ°ä¸­åˆ é™¤æ— å…³æ–‡ä»¶äº†ã€‚æˆ‘è¿™é‡Œæ˜¯ä»æºå¤´ä¸Šå‰”é™¤æ— å…³æ–‡ä»¶çš„ä¸‹è½½ï¼Œè¿™ä¸ªæ–¹æ³•å¯èƒ½ä¼šæœ‰ä¸€äº›å±€é™æ€§å§ï¼ˆsparse-checkoutï¼‰ã€‚ä¸è¿‡ä¸¤è€…æœ€ç»ˆçš„ç›®çš„æ˜¯ä¸€æ ·çš„ã€‚12345678910111213141516171819202122232425262728293031323334// multi-spa.jsfunction DownTemplate(projectDir) &#123; const remote = 'https://github.com/yexiaochen/multi-spa-webpack-cli.git'; const &#123; template &#125; = answersConfig; let downTemplateSpinner = ora(chalk.cyan('æ¨¡æ¿ä¸‹è½½ä¸­...')).start(); return new Promise((resolve, reject) =&gt; &#123; shell.exec(` mkdir $&#123;projectDir&#125; cd $&#123;projectDir&#125; git init git remote add -f origin $&#123;remote&#125; git config core.sparsecheckout true echo "template/common" &gt;&gt; .git/info/sparse-checkout echo "template/config" &gt;&gt; .git/info/sparse-checkout echo "template/services" &gt;&gt; .git/info/sparse-checkout echo "template/$&#123;template&#125;" &gt;&gt; .git/info/sparse-checkout echo ".gitignore" &gt;&gt; .git/info/sparse-checkout echo "package.json" &gt;&gt; .git/info/sparse-checkout git pull origin master rm -rf .git mv template/* ./ rm -rf template `, (error) =&gt; &#123; if (error) &#123; downTemplateSpinner.stop() ora(chalk.red(`æ¨¡æ¿ä¸‹è½½å¤±è´¥ï¼š$&#123;error&#125;`)).fail() reject() &#125; downTemplateSpinner.stop(); ora(chalk.cyan('æ¨¡æ¿ä¸‹è½½æˆåŠŸ')).succeed(); resolve(); &#125;) &#125;)&#125;é‡æ–°ç”Ÿæˆé…ç½®æ–‡ä»¶åƒ webpackã€package ç­‰é…ç½®æ–‡ä»¶ï¼Œä¹Ÿéƒ½æ˜¯åŒ…å«åœ¨è„šæ‰‹æ¶é‡Œçš„ï¼Œä¸è¿‡è¿™äº›é…ç½®è¿˜ä¸èƒ½ç›´æ¥æ‹¿æ¥ç”¨ã€‚æˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡äº¤äº’å¼é—®ç­”ï¼Œæ¥é’ˆå¯¹æ€§å¾—åœ¨ç°æœ‰çš„åŸºç¡€ä¸Šé‡æ–°ç”Ÿæˆé…ç½®æ–‡ä»¶ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344// multi-spa.jsfunction getAnswers(appName) &#123; const options = [ &#123; type: 'input', name: 'name', message: 'é¡¹ç›®åç§°', default: appName, &#125;, &#123; type: 'input', name: 'description', message: 'é¡¹ç›®æè¿°', default: 'å•é¡µé¢åº”ç”¨', &#125;, &#123; type: 'confirm', name: 'eslint', message: 'æ˜¯å¦å¯ç”¨ eslint+pretty', default: true &#125;, &#123; name: 'cssPreprocessor', type: 'list', message: 'CSS é¢„å¤„ç†å™¨', choices: [ "less", "sass", "none", ] &#125;, &#123; name: 'template', type: 'list', message: 'é€‰å–æ¨¡æ¿', choices: [ "react", "vue", "es" ] &#125;, ]; return inquirer.prompt(options);&#125;åœ¨è·å¾—ç‰¹å®šçš„éœ€æ±‚åï¼Œè¿˜è¦æŠŠè¿™äº›æ•°æ®æ³¨å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚å°±æ˜¯é€šè¿‡æ¨¡æ¿å¼•æ“æŠŠæ•°æ®å¡åˆ°æ¨¡æ¿é‡Œã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ ejs æ¨¡ç‰ˆå¼•æ“ã€‚123456&lt;!-- webpack.common.ejs --&gt;&lt;%= answers.cssPreprocessor == 'none' ? /\.css$/ : (answers.cssPreprocessor == 'less' ? /\.less$/ : /\.scss$/) %&gt;&lt;%= answers.cssPreprocessor == 'none' ? '' : (answers.cssPreprocessor == 'less' ? 'less-loader' : 'sass-loader') %&gt;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950// multi-spa.jsasync function GenarateWebpackConfig(targetDir) &#123; try &#123; const webpackConfigPath = path.resolve(`$&#123;currentPath&#125;/$&#123;targetDir&#125;/config`, 'webpack.common.ejs'); const webpackConfigTargetPath = path.resolve(`$&#123;currentPath&#125;/$&#123;targetDir&#125;/config`, 'webpack.common.js'); const webpackConfigSpinner = ora(chalk.cyan(`é…ç½® webpack æ–‡ä»¶...`)).start(); let webpackConfig = await fs.readFile(webpackConfigPath, 'utf8'); let generatedWebpackConfig = ejs.render(webpackConfig, &#123; answers: answersConfig &#125;); await Promise.all([ fs.writeFile(webpackConfigTargetPath, generatedWebpackConfig), fs.remove(webpackConfigPath) ]) webpackConfigSpinner.stop(); ora(chalk.cyan(`é…ç½® webpack å®Œæˆ`)).succeed(); &#125; catch (error) &#123; ora(chalk.red(`é…ç½®æ–‡ä»¶å¤±è´¥ï¼š$&#123;error&#125;`)).fail(); process.exit(1); &#125;&#125;async function GenaratePackageJson(projectDir) &#123; try &#123; const &#123; name, description, cssPreprocessor &#125; = answersConfig; const packageJsonPath = path.resolve(`$&#123;currentPath&#125;/$&#123;projectDir&#125;`, 'package.json'); const packageJsonSpinner = ora(chalk.cyan('é…ç½® package.json æ–‡ä»¶...')).start(); let package = await fs.readJson(packageJsonPath); package.name = name; package.description = description; if (cssPreprocessor == 'less') &#123; package.devDependencies = &#123; ...package.devDependencies, "less-loader": "^5.0.0" &#125; &#125; if (cssPreprocessor == 'sass') &#123; package.devDependencies = &#123; ...package.devDependencies, "node-sass": "^4.12.0", "sass-loader": "^7.1.0" &#125; &#125; await fs.writeJson(packageJsonPath, package, &#123; spaces: '\t' &#125;); packageJsonSpinner.stop(); ora(chalk.cyan('package.json é…ç½®å®Œæˆ')).succeed(); &#125; catch (error) &#123; if (error) &#123; ora(chalk.red(`é…ç½®æ–‡ä»¶å¤±è´¥ï¼š$&#123;error&#125;`)).fail(); process.exit(1); &#125;; &#125;&#125;å®‰è£…ä¾èµ–å…¶å®é…ç½®æ–‡ä»¶ç”Ÿæˆåï¼ŒCLI å°±å¿«æ¥è¿‘å°¾å£°äº†ã€‚å‰©ä¸‹å°±æ˜¯å®‰è£…ä¾èµ–ã€‚12345678910111213141516171819// multi-spa.jsfunction InstallDependencies(targetDir) &#123; const installDependenciesSpinner = ora(chalk.cyan(`å®‰è£…ä¾èµ–ä¸­...`)).start(); return new Promise((resolve, reject) =&gt; &#123; shell.exec(` cd $&#123;targetDir&#125; npm i `, (error) =&gt; &#123; if (error) &#123; installDependenciesSpinner.stop() ora(chalk.red(`ä¾èµ–å®‰è£…å¤±è´¥ï¼š$&#123;error&#125;`)).fail() reject() &#125; installDependenciesSpinner.stop(); ora(chalk.cyan('ä¾èµ–å®‰è£…å®Œæˆ')).succeed(); resolve(); &#125;) &#125;)&#125;å°ç»“ä¸€ä¸ªç²—ç³™çš„CLIï¼Œå°±è¿™ä¹ˆå®Œæˆäº†ã€‚æŠŠä»¥ä¸Šå‡ ä¸ªæ–¹æ³•åŒ…è£…ä¸€ä¸‹ï¼Œå°±æ˜¯æœ¬æ¬¡ CLI çš„å…¨éƒ¨å†…å®¹äº†ã€‚æ‹·è´è„šæ‰‹æ¶ã€‚2. é‡æ–°ç”Ÿæˆé…ç½®æ–‡ä»¶ã€‚3å®‰è£…ä¾èµ–ã€‚123456789async function GenarateProject(targetDir) &#123; await DownTemplate(targetDir); await Promise.all([GenaratePackageJson(targetDir).then(() =&gt; &#123; return InstallDependencies(targetDir); &#125;), GenarateWebpackConfig(targetDir) ]); ora(chalk.cyan('é¡¹ç›®åˆ›å»ºæˆåŠŸï¼')).succeed();&#125;å¦‚æœæƒ³è¦å‘å¸ƒï¼Œéœ€è¦ç™»é™†npm ï¼Œnpm publishã€‚]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>Node</tag>
        <tag>CLI</tag>
        <tag>å‘½ä»¤è¡Œç•Œé¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ç»“æ„]]></title>
    <url>%2F%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%2F</url>
    <content type="text"><![CDATA[æ—¥å¸¸åæ§½å¹³æ—¶çš„é¡¹ç›®ä¸­ï¼Œå¾ˆå°‘ä¼šç”¨åˆ°æ•°æ®ç»“æ„ä¸ç®—æ³•çš„ç›¸å…³çŸ¥è¯†ã€‚ä½œä¸ºå­¦ä¹ è¿›é˜¶çš„ä¸€ä¸ªç¯èŠ‚ï¼Œæœ€ç»ˆè¿˜æ˜¯æŠŠæ•°æ®ç»“æ„ä¸ç®—æ³•æä¸Šäº†æ—¥ç¨‹ã€‚çªç„¶æœ‰ç§æ„Ÿè§‰ï¼Œè¿™æ¬¡çš„å­¦ä¹ å¯èƒ½æ˜¯è¿™ä¸€è¾ˆå­æœ€æ·±å…¥çš„ä¸€æ¬¡å§ğŸ˜Œåˆ—è¡¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161/** * æè¿°ï¼š Listï¼šåˆ—è¡¨æ˜¯ä¸€ç»„æœ‰åºçš„æ•°æ®ã€‚ * åˆ—è¡¨ä¸­çš„æ•°æ®é¡¹ç§°ä¸ºå…ƒç´ ï¼Œå…ƒç´ å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ * @class **/class List &#123; constructor() &#123; /** å½“å‰å…ƒç´ ä½ç½®ï¼› * @type &#123;number&#125; * @private * **/ this.position = 0; /** åˆ—è¡¨å…ƒç´ å®¹å™¨ï¼› * @type &#123;Array&#125; * @private * **/ this.dataStore = []; &#125; /** * ä»åˆ—è¡¨ä¸­æŸ¥æ‰¾æŸä¸ªå…ƒç´ ï¼› * @protected * @params &#123;*&#125; element å¾…æŸ¥æ‰¾çš„å…ƒç´ ï¼› * @return &#123;number&#125; å…ƒç´ ä½ç½®ï¼› **/ find(element) &#123; return this.dataStore.indexOf(element); &#125; /** * å‘åˆ—è¡¨ä¸­æ’å…¥æŸä¸ªå…ƒç´ ï¼› * @protected * @params &#123;*&#125; element å¾…æ’å…¥çš„å…ƒç´ ï¼› * @params &#123;*=&#125; pre å¾…æ’å…¥ä½ç½®çš„å‰ä¸€å…ƒç´ ï¼Œå¯é€‰ï¼› **/ insert(element, prev) &#123; let prevAt = this.find(prev); if (prevAt &gt; -1) &#123; this.dataStore.splice(prevAt, 0, element); &#125; else &#123; this.dataStore.push(element) &#125; &#125; /** * ä»åˆ—è¡¨ä¸­åˆ é™¤æŸä¸ªå…ƒç´ ï¼› * @protected * @params &#123;*&#125; element å¾…åˆ é™¤çš„å…ƒç´ ï¼› **/ remove(element) &#123; let elementAt = this.find(element); if (elementAt &gt; -1) &#123; this.dataStore.splice(elementAt, 1) &#125; &#125; /** * æ¸…ç©ºåˆ—è¡¨ï¼› * @protected **/ clear() &#123; this.dataStore.length = 0; &#125; /** * ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼› * @protected **/ front() &#123; this.position = 0; &#125; /** * æœ€åä¸€ä¸ªå…ƒç´ ä½ç½®ï¼› * @protected **/ end() &#123; this.position = this.dataStore.length - 1; &#125; /** * å‰ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼› * @protected **/ prev() &#123; --this.position; &#125; /** * åä¸€ä¸ªå…ƒç´ ä½ç½®ï¼› * @protected **/ next() &#123; if (this.position &lt; this.dataStore.length) &#123; ++this.position; &#125; &#125; /** * å°†å…ƒç´ ç§»åˆ°æŸä¸ªä½ç½®ï¼› * @params &#123;number&#125; positon ä½ç½®ç´¢å¼•ï¼› * @protected **/ moveTo(position) &#123; this.position = position; &#125; /** *å½“å‰å…ƒç´ æ˜¯å¦å­˜åœ¨å‰ä¸€ä¸ªå…ƒç´ ï¼› * @protected * @return &#123;boolean&#125; æ˜¯å¦å­˜åœ¨ï¼› **/ hasNext() &#123; return this.position &lt; this.dataStore.length; &#125; /** * å½“å‰å…ƒç´ æ˜¯å¦å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´ ï¼› * @protected * @return &#123;boolean&#125; æ˜¯å¦å­˜åœ¨ï¼› **/ hasPrev() &#123; return this.position &gt;= 0; &#125; /** * è·å–å½“å‰å…ƒç´ ï¼› * @protected * @return &#123;*&#125; å½“å‰å…ƒç´ ï¼› **/ getElement() &#123; return this.dataStore[this.position] &#125; /** * è·å–å½“å‰åˆ—è¡¨å…ƒç´ æ•°ï¼› * @protected * @return &#123;number&#125; å½“å‰åˆ—è¡¨é•¿åº¦ï¼› **/ length() &#123; return this.dataStore.length; &#125;&#125;let names = new List();names.insert('a');names.insert('b');names.insert('c');names.insert('d');names.front();names.next();names.next();names.prev();names.hasNext();names.moveTo(0);names.remove('c');for (names.front(); names.hasNext(); names.next()) &#123; console.log(names.getElement());&#125;æ ˆ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768/** * æè¿°ï¼š Stackï¼šæ ˆå†…çš„å…ƒç´ åªèƒ½é€šè¿‡åˆ—è¡¨çš„ä¸€ç«¯è®¿é—®ï¼Œè¿™ä¸€ç«¯ç§°ä¸ºæ ˆé¡¶ã€‚ * æ ˆè¢«ç§°ä¸ºä¸€ç§åå…¥å…ˆå‡ºçš„æ•°æ®ç»“æ„ã€‚ * @class **/class Stack &#123; constructor() &#123; /** æ ˆå…ƒç´ å®¹å™¨ï¼› * @type &#123;Array&#125; * @private * **/ this.dataStore = []; &#125; /** * æŸ¥çœ‹æ ˆé¡¶å…ƒç´ ï¼› * @protected * @return &#123;*&#125; æ ˆé¡¶å…ƒç´ ï¼› **/ peek() &#123; let topAt = this.dataStore.length - 1; return this.dataStore[topAt]; &#125; /** * å°†å…ƒç´ å‹å…¥æ ˆï¼› * @protected * @params &#123;*&#125; element å¾…å‹å…¥æ ˆçš„å…ƒç´ ï¼› **/ push(element) &#123; this.dataStore.push(element); &#125; /** * å°†å…ƒç´ å¼¹å‡ºæ ˆï¼› * @protected * @params &#123;*&#125; element å¾…å¼¹å‡ºæ ˆçš„å…ƒç´ ï¼› * @return &#123;*&#125; å¼¹å‡ºæ ˆçš„å…ƒç´ ï¼› **/ pop() &#123; return this.dataStore.pop(); &#125; /** * æ¸…ç©ºæ ˆï¼› **/ clear() &#123; this.dataStore.length = 0; &#125; /** * è·å–å½“å‰æ ˆå…ƒç´ æ•°ï¼› * @protected * @return &#123;number&#125; å½“å‰æ ˆé•¿åº¦ï¼› **/ length() &#123; return this.dataStore.length; &#125;&#125;let names = new Stack();names.push('a');names.push('b');names.push('c');names.peek();names.clear();names.length();é˜Ÿåˆ—1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374/** * æè¿°ï¼š Queue: é˜Ÿåˆ—åªèƒ½åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œé˜Ÿé¦–åˆ é™¤å…ƒç´ ã€‚ * é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ã€‚ * @class **/class Queue &#123; constructor() &#123; /** é˜Ÿåˆ—å…ƒç´ å®¹å™¨ï¼› * @type &#123;Array&#125; * @private * **/ this.dataStore = []; &#125; /** * æŸ¥çœ‹é˜Ÿé¦–å…ƒç´ ï¼› * @protected * @return &#123;*&#125; é˜Ÿé¦–å…ƒç´ ï¼› **/ head() &#123; let headAt = 0; return this.dataStore[headAt]; &#125; /** * æŸ¥çœ‹é˜Ÿå°¾å…ƒç´ ï¼› * @protected * @return &#123;*&#125; é˜Ÿå°¾å…ƒç´ ï¼› **/ end() &#123; let endAt = this.dataStore.length - 1; return this.dataStore[endAt]; &#125; /** * å…¥é˜Ÿï¼› * @protected **/ enqueue(element) &#123; this.dataStore.push(element) &#125; /** * å‡ºé˜Ÿï¼› * @protected **/ dequeue() &#123; return this.dataStore.shift(); &#125; /** * æ¸…ç©ºé˜Ÿåˆ—ï¼› **/ clear() &#123; this.dataStore.length = 0; &#125; /** * è·å–å½“å‰é˜Ÿåˆ—å…ƒç´ æ•°ï¼› * @protected * @return &#123;number&#125; å½“å‰é˜Ÿåˆ—é•¿åº¦ï¼› **/ length() &#123; return this.dataStore.length; &#125;&#125;let names = new Queue();names.enqueue('a');names.enqueue('b');names.enqueue('c');names.head();names.end();é“¾è¡¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122/** * æè¿°ï¼š é“¾è¡¨èŠ‚ç‚¹ * @class **/class Node &#123; constructor(element) &#123; /** ä¿å­˜èŠ‚ç‚¹æ•°æ®ï¼› * @type &#123;*&#125; * @private * **/ this.element = element; /** ä¿å­˜æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼› * @type &#123;null&#125; * @private * **/ this.next = null &#125;&#125;/** * æè¿°ï¼š LinkList: é“¾è¡¨æ˜¯ç”±ä¸€ç»„èŠ‚ç‚¹ç»„æˆçš„é›†åˆã€‚ * æ¯ä¸ªèŠ‚ç‚¹ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ * æŒ‡å‘å¦ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨å«åšé“¾ * @class **/class LinkList &#123; constructor() &#123; /** å¤´èŠ‚ç‚¹ï¼› * @type &#123;Objec&#125; * @private * **/ this.head = new Node('head'); &#125; /** * æŸ¥æ‰¾èŠ‚ç‚¹ï¼› * params &#123;*&#125; element èŠ‚ç‚¹å…ƒç´ ï¼› * @protected * @return &#123;Objec&#125; èŠ‚ç‚¹ï¼› **/ find(element) &#123; let currentNode = this.head; while (currentNode &amp;&amp; currentNode.element != element) &#123; currentNode = currentNode.next; &#125; return currentNode; &#125; /** * æŸ¥æ‰¾é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼› * @protected * @return &#123;Objec&#125; èŠ‚ç‚¹ï¼› **/ findLast() &#123; let currentNode = this.head; while (currentNode.next) &#123; currentNode = currentNode.next; &#125; return currentNode; &#125; /** * æ’å…¥èŠ‚ç‚¹ï¼› * params &#123;*&#125; element å¾…æ’å…¥èŠ‚ç‚¹å…ƒç´ ï¼› * params &#123;*&#125; prevElement ä¸Šä¸€ä¸ªèŠ‚ç‚¹å…ƒç´ ï¼› * @protected * @return &#123;Objec&#125; èŠ‚ç‚¹ï¼› **/ insert(element, prevElement) &#123; let currentNode = new Node(element); let prevNode = this.find(prevElement) || this.findLast(); currentNode.next = prevNode.next; prevNode.next = currentNode; &#125; /** * æŸ¥æ‰¾ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼› * params &#123;*&#125; element å½“å‰èŠ‚ç‚¹å…ƒç´ ï¼› * @protected * @return &#123;Objec&#125; èŠ‚ç‚¹ï¼› **/ findPrev(element) &#123; let currentNode = this.head; while (currentNode.next &amp;&amp; currentNode.next.element != element) &#123; currentNode = currentNode.next; &#125; return currentNode; &#125; /** * åˆ é™¤èŠ‚ç‚¹ï¼› * params &#123;*&#125; element èŠ‚ç‚¹å…ƒç´ ï¼› * @protected **/ remove(element) &#123; let prevNode = this.findPrev(element); if (prevNode.next) &#123; prevNode.next = prevNode.next.next; &#125; &#125; /** * å±•ç¤ºé“¾è¡¨ï¼› * params &#123;*&#125; element å½“å‰èŠ‚ç‚¹å…ƒç´ ï¼› * @protected **/ display() &#123; let currentNode = this.head; while (currentNode.next) &#123; console.log(currentNode.next.element); currentNode = currentNode.next; &#125; &#125;&#125;let names = new LinkList();names.insert('a');names.insert('b');names.insert('c');names.remove('b');names.display();å­—å…¸12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970/** * æè¿°ï¼š Dictionary: å­—å…¸æ˜¯ä¸€ç§ä»¥é”®-å€¼å¯¹å½¢å¼å­˜å‚¨æ•°æ®çš„æ•°æ®ç»“æ„ã€‚ * @class **/class Dictionary &#123; constructor() &#123; /** å­—å…¸å®¹å™¨ï¼› * @type &#123;Array&#125; * @private * **/ this.dataStore = &#123;&#125; &#125; /** * å‘å­—å…¸ä¸­æ·»åŠ é”®å€¼å¯¹ï¼› * @params &#123;string&#125; key å­—å…¸çš„å¥ï¼› * @params &#123;*&#125; value å­—å…¸çš„å€¼ï¼› * @protected **/ add(key, value) &#123; this.dataStore[key] = value; &#125; /** * æŸ¥æ‰¾å­—å…¸ä¸­å…ƒç´ ï¼› * @params &#123;string&#125; key å¾…æŸ¥æ‰¾çš„å¥ï¼› * @protected * @return &#123;number&#125; ä»£æŸ¥æ‰¾çš„å€¼ï¼› **/ find(key) &#123; return this.dataStore[key]; &#125; /** * åˆ é™¤å­—å…¸ä¸­å…ƒç´ ï¼› * @params &#123;string&#125; key å¾…åˆ é™¤çš„å¥ï¼› * @protected **/ remove(key) &#123; delete this.dataStore[key]; &#125; /** * æ¸…ç©ºå­—å…¸ä¸­å…ƒç´ ï¼› * @protected **/ clear() &#123; Object.keys(this.dataStore).forEach(key =&gt; &#123; delete this.dataStore[key]; &#125;) &#125; /** * å±•ç¤ºå­—å…¸ä¸­å…ƒç´ ï¼› * @protected **/ display() &#123; Object.keys(this.dataStore).forEach(key =&gt; &#123; console.log(`$&#123;key&#125;: $&#123;this.dataStore[key]&#125;`); &#125;) &#125;&#125;let names = new Dictionary();names.add('a', '1');names.add('b', 2);names.add('c', '3');names.remove('b');names.display();æ•£åˆ—123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132/** * æè¿°ï¼š HashTable: é€šè¿‡æ•£åˆ—å‡½æ•°å°½é‡å°†é”®å‡åŒ€åœ°æ˜ å°„åˆ°æ•°ç»„ä¸­ã€‚ * @class **/class HashTable &#123; constructor() &#123; /** æ•£åˆ—è¡¨å®¹å™¨ï¼› * @type &#123;Array&#125; * @private * **/ this.table = new Array(137); &#125; /** * æ•£åˆ—ç®—æ³•ï¼› * @params &#123;string&#125; str å¾…è½¬æ¢çš„å­—ç¬¦ï¼Œä½¿ç”¨é™¤ç•™ä½™æ•°æ³•ï¼› * @protected * @return &#123;number&#125; è½¬æ¢åçš„å€¼ï¼› **/ hashFunc(str) &#123; const H = 37; let total = 0; for (let i = 0; i &lt; str.length; i++) &#123; total += H * total + str.charCodeAt(i); &#125; total total = total % this.table.length; if (total &lt; 0) &#123; total += this.table.length + 1; &#125; return parseInt(total); &#125; /** * å°†æ•°æ®å­˜å…¥æ•£åˆ—è¡¨ï¼› * @params &#123;string&#125; key å¾…å­˜å…¥æ•°æ®çš„é”®ï¼› * @params &#123;string&#125; data å¾…å­˜å…¥çš„æ•°æ®ï¼› * @protected **/ put(key, data) &#123; let position = this.hashFunc(key); this.table[position] = data; &#125; /** * è·å–å¯¹åº”é”®çš„å€¼ï¼› * @params &#123;string&#125; key å¾…å–æ•°æ®çš„é”®ï¼› * @protected * @return &#123;number&#125; å¯¹åº”é”®çš„å€¼ï¼› **/ get(key) &#123; let position = this.hashFunc(key); return this.table[position]; &#125; /** * åˆ é™¤å¯¹åº”é”®çš„å€¼ï¼› * @params &#123;string&#125; key å¾…åˆ é™¤æ•°æ®çš„é”®ï¼› * @protected **/ remove(key) &#123; let position = this.hashFunc(key); delete this.table[position] &#125; /** * å±•ç¤ºæ•£åˆ—è¡¨ï¼› **/ display() &#123; this.table.forEach((item, index) =&gt; &#123; if (item) &#123; console.log(item, index); &#125; &#125;) &#125; // é˜²æ­¢ç¢°æ’å¸¸ç”¨æ–¹æ³•ã€‚ç¢°æ’ï¼šå°†ä¸¤ä¸ªé”®æ˜ å°„æˆåŒä¸€ä¸ªå€¼çš„ç°è±¡ã€‚ /* // å¼€é“¾æ³•ï¼›å°†æ•°ç»„å…ƒç´ å±•å¼€ä¸ºäºŒç»´æ•°ç»„ã€‚ buildChains() &#123; for (let i = 0; i &lt; this.table.length; i++) &#123; this.table[i] = new Array(); &#125; &#125; put(key, data) &#123; let position = this.hashFunc(key); let index = 0; while (this.table[position][index] != undefined) &#123; index++; &#125; this.table[position][index] = key; this.table[position][index + 1] = data; &#125; get(key) &#123; let position = this.hashFunc(key); let index = 0; while (this.table[position][index] != key) &#123; if (index &gt; this.table[position].length) return; index++; &#125; return this.table[position][index + 1]; &#125; */ /* // çº¿æ€§æ¢æµ‹æ³•ï¼›åœ¨é™„è¿‘çš„ç©ºä½å¡å…¥æ•°æ®ã€‚ values = []; put(key, data) &#123; let position = this.hashFunc(key); while (this.table[position] != undefined) &#123; position++; &#125; this.table[position] = key; this.values[position] = data &#125; get(key) &#123; let position = this.hashFunc(key); while (this.table[position] != key) &#123; if (position &gt; this.table.length) return; position++; &#125; return this.values[position] &#125; */&#125;let names = new HashTable();names.put('a', 1);names.put('b', 4);names.put('c', 112);names.put('d', 112);names.remove('b');names.display()é›†åˆ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128/** * æè¿°ï¼š Set: é›†åˆæ˜¯ç”±ä¸€ç»„æ— åºä½†å½¼æ­¤ä¹‹é—´åˆæœ‰ä¸€å®šç›¸å…³æ€§çš„æˆå‘˜æ„æˆï¼Œæ¯ä¸ªæˆå‘˜åœ¨é›†åˆä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ * @class **/class Set &#123; constructor() &#123; /** é›†åˆå®¹å™¨ï¼› * @type &#123;Array&#125; * @private * **/ this.dataStore = []; &#125; /** * æ·»åŠ æˆå‘˜ï¼› * @params &#123;*&#125; element å¾…æ·»åŠ çš„æˆå‘˜ï¼› * @protected * @return &#123;boolean&#125; æ·»åŠ æˆåŠŸè¿”å›çœŸå¦åˆ™è¿”å›å‡ï¼› **/ add(element) &#123; if (!this.dataStore.includes(element)) &#123; this.dataStore.push(element); return true; &#125; return false; &#125; /** * åˆ é™¤æˆå‘˜ï¼› * @params &#123;*&#125; element å¾…åˆ é™¤çš„æˆå‘˜ï¼› * @protected * @return &#123;boolean&#125; åˆ é™¤æˆåŠŸè¿”å›çœŸå¦åˆ™è¿”å›å‡ï¼› **/ remove(element) &#123; let position = this.dataStore.indexOf(element); if (~position) &#123; this.dataStore.splice(position, 1); return true; &#125; return false; &#125; /** * ä¸å…¶å®ƒé›†åˆçš„å¹¶é›†ï¼› * @params &#123;Set&#125; set å¾…åˆå¹¶çš„é›†åˆï¼› * @protected * @return &#123;Set&#125; åˆå¹¶åçš„é›†åˆï¼› **/ union(set) &#123; let tempSet = new Set(); this.dataStore.forEach(element =&gt; &#123; tempSet.add(element); &#125;) set.dataStore.forEach(element =&gt; &#123; if (!tempSet.dataStore.includes(element)) &#123; tempSet.add(element); &#125; &#125;) return tempSet; &#125; /** * äº¤é›†ï¼› * @params &#123;Set&#125; set å…¶å®ƒé›†åˆï¼› * @protected * @return &#123;Set&#125; ä¸¤é›†åˆå…±åŒå­˜åœ¨æˆå‘˜ç»„æˆçš„é›†åˆï¼› **/ intersect(set) &#123; let tempSet = new Set(); this.dataStore.forEach(element =&gt; &#123; if (set.dataStore.includes(element)) &#123; tempSet.add(element); &#125; &#125;) return tempSet; &#125; /** * è¡¥é›† * @params &#123;Set&#125; set å…¶å®ƒé›†åˆï¼› * @protected * @return &#123;Set&#125; å±äºè¯¥é›†åˆè€Œä¸å±äºå…¶å®ƒé›†åˆçš„æˆå‘˜ç»„æˆçš„é›†åˆï¼› **/ difference(set) &#123; let tempSet = new Set(); this.dataStore.forEach(element =&gt; &#123; if (!set.dataStore.includes(element)) &#123; tempSet.add(element); &#125; &#125;) return tempSet; &#125; /** * åˆ¤æ–­æ˜¯å¦æ˜¯å…¶å®ƒé›†åˆå­é›†ï¼› * @params &#123;Set&#125; set å…¶å®ƒé›†åˆï¼› * @protected * @return &#123;boolean&#125; æ˜¯å…¶å®ƒé›†åˆå­é›†è¿”å›çœŸå¦åˆ™è¿”å›å‡ï¼› **/ subset(set) &#123; if (this.dataStore.length &gt; set.dataStore.length) &#123; return false; &#125; else &#123; return !this.dataStore.find(element =&gt; set.dataStore.includes(element)) &#125; &#125; /** * å±•ç¤ºæ•£åˆ—è¡¨ï¼› **/ display() &#123; this.dataStore.forEach((element, index) =&gt; &#123; if (element) &#123; console.log(element, index); &#125; &#125;) &#125;&#125;let names = new Set()names.add('a');names.add('b');names.add('c');names.remove('b');let names_1 = new Set();names_1.add('a');names_1.add('e');names.subset(names_1)äºŒå‰æ ‘å’ŒäºŒå‰æŸ¥æ‰¾æ ‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207/** * æè¿°ï¼š æ ‘èŠ‚ç‚¹ * @class **/class Node &#123; constructor(data, left, right) &#123; /** èŠ‚ç‚¹ä¿å­˜çš„æ•°æ®ï¼› * @type &#123;*&#125; * @private * **/ this.data = data; /** å·¦èŠ‚ç‚¹ï¼› * @type &#123;Node&#125; * @private * **/ this.left = left; /** å³èŠ‚ç‚¹ï¼› * @type &#123;Node&#125; * @private * **/ this.right = right; &#125;&#125;/** * æè¿°ï¼šæ ‘æ˜¯ä¸€ç§éçº¿æ€§çš„æ•°æ®ç»“æ„ï¼Œä»¥åˆ†å±‚çš„æ–¹å¼å­˜å‚¨æ•°æ®ã€‚ * æ ‘ç”±ä¸€ç»„ä»¥è¾¹è¿æ¥çš„èŠ‚ç‚¹ç»„æˆã€‚ * ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„è¿™ä¸€ç»„è¾¹ç§°ä¸ºè·¯å¾„ï¼Œä»¥æŸç§ç‰¹å®šé¡ºåºè®¿é—®æ ‘ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹æˆä¸ºæ ‘çš„éå†ã€‚ * äºŒå‰æ ‘å­èŠ‚ç‚¹ä¸è¶…è¿‡ä¸¤ä¸ªã€‚ * BSTï¼š äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œç›¸å¯¹å°çš„å€¼ä¿å­˜åœ¨å·¦èŠ‚ç‚¹ä¸­ï¼Œè¾ƒå¤§çš„å€¼ä¿å­˜åœ¨å³èŠ‚ç‚¹ä¸­ã€‚ * @class **/class BST &#123; constructor() &#123; /** æ ¹èŠ‚ç‚¹ï¼› * @type &#123;Node&#125; * @private * **/ this.root = null; &#125; /** * å‘æ ‘ä¸­æ’å…¥æ–°èŠ‚ç‚¹ï¼› * @params &#123;*&#125; data æ’å…¥çš„æ•°æ®ï¼› * @protected **/ insert(data) &#123; let n = new Node(data, null, null); if (this.root == null) &#123; this.root = n; &#125; else &#123; let current = this.root; let parent; while (true) &#123; parent = current; if (data &lt; current.data) &#123; current = current.left; if (current == null) &#123; parent.left = n; break; &#125; &#125; else &#123; current = current.right; if (current == null) &#123; parent.right = n; break; &#125; &#125; &#125; &#125; &#125; /** * ä¸­åºéå†ï¼› * @params &#123;Node&#125; node éå†çš„æ ¹èŠ‚ç‚¹ï¼› * @protected **/ inOrder(node) &#123; if (node) &#123; this.inOrder(node.left); console.log(node.data); this.inOrder(node.right); &#125; &#125; /* // å…ˆåºéå†ï¼› preOrder(node) &#123; if (node) &#123; console.log(node.data); this.preOrder(node.left); this.preOrder(node.right); &#125; &#125; // ååºéå†ï¼› postOrder(node) &#123; if (node) &#123; this.postOrder(node.left); this.postOrder(node.right); console.log(node.data); &#125; &#125; */ /** * è·å–æœ€å°å€¼èŠ‚ç‚¹ï¼› * @params &#123;Node&#125; node å¾…æŸ¥æ‰¾çš„èŠ‚ç‚¹ï¼› * @protected * @return &#123;Node&#125; æ‹¥æœ‰æœ€å°å€¼çš„èŠ‚ç‚¹ï¼› **/ getMin(node) &#123; let current = node || this.root; while (current.left) &#123; current = current.left; &#125; return current; &#125; /** * è·å–æœ€å¤§å€¼èŠ‚ç‚¹ï¼› * @params &#123;Node&#125; node å¾…æŸ¥æ‰¾çš„èŠ‚ç‚¹ï¼› * @protected * @return &#123;Node&#125; æ‹¥æœ‰æœ€å¤§å€¼çš„èŠ‚ç‚¹ï¼› **/ getMax(node) &#123; let current = node || this.root; while (current.right) &#123; current = current.right; &#125; return current; &#125; /** * æŸ¥æ‰¾æŒ‡å®šæ•°æ®çš„èŠ‚ç‚¹ï¼› * @params &#123;*&#125; data å¾…æŸ¥æ‰¾çš„æ•°æ®ï¼› * @protected * @return &#123;Node&#125; æ‹¥æœ‰æŒ‡å®šæ•°æ®çš„èŠ‚ç‚¹ï¼› **/ find(data) &#123; let current = this.root; while (current != null) &#123; if (current.data == data) &#123; return current; &#125; else if (data &lt; current.data) &#123; current = current.left; &#125; else &#123; current = current.right; &#125; &#125; return null; &#125; /** * åˆ é™¤æŒ‡å®šæ•°æ®çš„èŠ‚ç‚¹ï¼› * @params &#123;*&#125; data å¾…åˆ é™¤çš„æ•°æ®ï¼› * @protected **/ remove(data) &#123; let self = this; this.root = removeNode(this.root, data); function removeNode(node, data) &#123; if (node == null) return null; if (data == node.data) &#123; // æ²¡æœ‰å­èŠ‚ç‚¹ï¼› if (node.left == null &amp;&amp; node.right == null) &#123; return null; &#125; // åªæœ‰å³èŠ‚ç‚¹ï¼› if (node.left == null) &#123; return node.right; &#125; // åªæœ‰å·¦èŠ‚ç‚¹ï¼› if (node.right == null) &#123; return node.left; &#125; // æœ‰å·¦ã€å³å­èŠ‚ç‚¹ï¼› let tempNode = self.getMin(node.right); node.data = tempNode.data; node.right = removeNode(node.right, tempNode.data); /* // æˆ–è€…å·¦èŠ‚ç‚¹æœ€å¤§å€¼ï¼› let tempNode = self.getMax(node.left); node.data = tempNode.data; node.left = removeNode(node.left, tempNode.data); */ return node; &#125; else if (data &lt; node.data) &#123; node.left = removeNode(node.left, data); return node; &#125; else &#123; node.right = removeNode(node.right, data); return node; &#125; &#125; &#125;&#125;let names = new BST();names.insert(12);names.insert(6);names.insert(18);names.insert(3);names.insert(9);names.insert(15);names.insert(21);names.inOrder(names.root);names.remove(6);å›¾å’Œå›¾ç®—æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495/** * æè¿°ï¼š Graph: å›¾ç”±è¾¹çš„é›†åˆåŠé¡¶ç‚¹çš„é›†åˆç»„æˆã€‚ * é‚»æ¥è¡¨æˆ–é‚»æ¥è¡¨æ•°ç»„ï¼šå°†è¾¹å­˜å‚¨ä¸ºç”±é¡¶ç‚¹çš„ç›¸é‚»é¡¶ç‚¹åˆ—è¡¨æ„æˆçš„æ•°ç»„ï¼Œå¹¶ä»¥æ­¤é¡¶ç‚¹ä½œä¸ºç´¢å¼•ã€‚ * @class **/class Graph &#123; constructor(v) &#123; /** é¡¶ç‚¹æ•°ï¼› * @type &#123;number&#125; * @private * **/ this.vertices = v; /** è¾¹æ•°ï¼› * @type &#123;number&#125; * @private * **/ this.edges = 0; /** é‚»æ¥è¡¨æ•°ç»„ï¼› * @type &#123;Array&#125; * @private * **/ this.adj = Array.from(&#123; length: v &#125;).map(() =&gt; ([])); /** é¡¶ç‚¹è®¿é—®çŠ¶æ€ï¼› * @type &#123;Array&#125; * @private * **/ this.marked = Array.from(&#123; length: v &#125;).map(() =&gt; (false)); &#125; /** * æ·»åŠ é¡¶ç‚¹ï¼› * @params &#123;&#125; v é¡¶ç‚¹ï¼› * @params &#123;&#125; w é¡¶ç‚¹ï¼› * @protected **/ addEdge(v, w) &#123; this.adj[v].push(w); this.adj[w].push(v); this.edges++; &#125; /** * æ·±åº¦ä¼˜å…ˆæœç´¢ï¼› * @params &#123;&#125; v é¡¶ç‚¹ï¼› * @protected **/ dfs(v) &#123; this.marked[v] = true; // æ‰“å°éå†è·¯å¾„ï¼› if (!this.adj[v] != undefined) &#123; console.log('visted:', v); &#125; for (let vertex of this.adj[v]) &#123; if (!this.marked[vertex]) &#123; this.dfs(vertex); &#125; &#125; &#125; /** * å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼› * @params &#123;&#125; v é¡¶ç‚¹ï¼› * @protected **/ bfs(v) &#123; let queue = []; this.marked[v] = true; queue.push(v); while (queue.length &gt; 0) &#123; let v = queue.shift(); // æ‰“å°éå†è·¯å¾„ï¼› if (!this.adj[v] != undefined) &#123; console.log('visted:', v); &#125; for (let vertex of this.adj[v]) &#123; if (!this.marked[vertex]) &#123; this.marked[vertex] = true; queue.push(vertex); &#125; &#125; &#125; &#125;&#125;let names = new Graph(5);names.addEdge(0, 1);names.addEdge(0, 2);names.addEdge(1, 3);names.addEdge(2, 4);// names.dfs(0);names.bfs(0);]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…å°webpack]]></title>
    <url>%2F%E6%B5%85%E5%B0%9Dwebpack%2F</url>
    <content type="text"><![CDATA[åæ§½ä¸€ä¸‹webpack è‡ªå‡ºç°æ—¶ï¼Œä¸€ç›´å¤‡å—é’çã€‚ä½œä¸ºå¼ºå¤§çš„æ‰“åŒ…å·¥å…·ï¼Œå®ƒåªæ˜¯å‡ºç°åœ¨é¡¹ç›®åˆå§‹æˆ–ä¼˜åŒ–çš„é˜¶æ®µã€‚å¦‚æœæ²¡æœ‰å‚ä¸é¡¹ç›®çš„æ„å»ºï¼Œæ¥è§¦çš„æœºä¼šå‡ ä¹ä¸ºé›¶ã€‚å³ä½¿æ˜¯å‚ä¸äº†ï¼Œä½†ä¹Ÿä¼šå› ä¸ºé¡¹ç›®çš„å‘¨æœŸçŸ­ï¼Œä»ç½‘ä¸Šä¸œæ‹¼è¥¿å‡‘è‰è‰äº†äº‹ã€‚çºµè§‚ç½‘ä¸Šçš„ webpack æ•™ç¨‹ï¼Œè¦ä¹ˆæ˜¯èœ»èœ“ç‚¹æ°´ï¼Œç§‘æ™®äº†ä¸€äº›å¸¸è§„é…ç½®é¡¹ï¼›è¦ä¹ˆæ˜¯è¿‡äºæ·±å…¥åŸç†ï¼Œäºå®é™…æ“ä½œæ— ç›Šã€‚æœ€è¿‘ä¸€æ®µæ—¶é—´ï¼Œæˆ‘æŠŠ webpack çš„å®˜æ–¹æ–‡æ¡£æ¥æ¥å›å›åœ°çœ‹äº†å‡ éï¼Œç»“æœå‘ç°ï¼ŒçœŸé¦™ã€‚ä¸­æ–‡ç‰ˆçš„å®˜æ–¹æ–‡æ¡£ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œå¾ˆæ„Ÿè°¢ç¿»è¯‘ç»„çš„è¾›å‹¤å¥‰çŒ®ã€‚çœ‹å®Œä¹‹åï¼Œè™½ç„¶è¾¾ä¸åˆ°ç‚‰ç«çº¯é’çš„åœ°æ­¥ï¼Œä½†ä¹Ÿä¸ä¼šæ‰è¥Ÿè§è‚˜ï¼Œç–²äºåº”ä»˜ã€‚å¯¹äºè¿™ç§å·¥å…·ç±»çš„åšæ–‡ï¼Œä¾ç„¶æ²¿è¢­ ç”¨Typeé©¯åŒ–JavaScript çš„é£æ ¼ï¼Œä¸²è”å„ä¸ªæ¦‚å¿µã€‚è‡³äºç»†èŠ‚ï¼Œå°±æ˜¯å®˜æ–¹æ–‡æ¡£çš„äº‹äº†ã€‚æœ¬æ–‡åŸºäº webpack v4.31.0 ç‰ˆæœ¬ã€‚TapableTapable æ˜¯ä¸€ä¸ªå°å‹çš„åº“ï¼Œå…è®¸ä½ å¯¹ä¸€ä¸ª javascript æ¨¡å—æ·»åŠ å’Œåº”ç”¨æ’ä»¶ã€‚å®ƒå¯ä»¥è¢«ç»§æ‰¿æˆ–æ··å…¥åˆ°å…¶ä»–æ¨¡å—ä¸­ã€‚ç±»ä¼¼äº NodeJS çš„ EventEmitter ç±»ï¼Œä¸“æ³¨äºè‡ªå®šä¹‰äº‹ä»¶çš„è§¦å‘å’Œå¤„ç†ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒTapable è¿˜å…è®¸ä½ é€šè¿‡å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œè®¿é—®äº‹ä»¶çš„â€œè§¦å‘è€…(emittee)â€æˆ–â€œæä¾›è€…(producer)â€ã€‚tapable æ˜¯ webpack çš„æ ¸å¿ƒï¼Œwebpack ä¸­çš„å¾ˆå¤šå¯¹è±¡ï¼ˆcompileï¼Œ compilationç­‰ï¼‰éƒ½æ‰©å±•è‡ªtapableï¼ŒåŒ…æ‹¬ webpack ä¹Ÿæ˜¯ tapable çš„å®ä¾‹ã€‚æ‰©å±•è‡ª tapable çš„å¯¹è±¡å†…éƒ¨ä¼šæœ‰å¾ˆå¤šé’©å­ï¼Œå®ƒä»¬è´¯ç©¿äº† webpack æ„å»ºçš„æ•´ä¸ªè¿‡ç¨‹ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™äº›é’©å­ï¼Œåœ¨å…¶è¢«è§¦å‘æ—¶ï¼Œåšä¸€äº›æˆ‘ä»¬æƒ³åšçš„äº‹æƒ…ã€‚æŠ›å¼€ webpack ä¸è°ˆï¼Œå…ˆçœ‹çœ‹ tapable çš„ç®€å•ä½¿ç”¨ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// Main.jsconst &#123; SyncHook&#125; = require("tapable");class Main &#123; constructor(options) &#123; this.hooks = &#123; init: new SyncHook(['init']) &#125;; this.plugins = options.plugins; this.init(); &#125; init() &#123; this.beforeInit(); if (Array.isArray(this.plugins)) &#123; this.plugins.forEach(plugin =&gt; &#123; plugin.apply(this); &#125;) &#125; this.hooks.init.call('åˆå§‹åŒ–ä¸­ã€‚ã€‚ã€‚'); this.afterInit(); &#125; beforeInit() &#123; console.log('åˆå§‹åŒ–å‰ã€‚ã€‚ã€‚'); &#125; afterInit() &#123; console.log('åˆå§‹åŒ–åã€‚ã€‚ã€‚'); &#125;&#125;module.exports = Main;// MyPlugin.jsclass MyPlugin &#123; apply(main) &#123; main.hooks.init.tap('MyPlugin', param =&gt; &#123; console.log('init é’©å­ï¼Œåšäº›å•¥ï¼›', param); &#125;); &#125;&#125;;module.exports = MyPlugin;// index.jsconst Main = require('./Main');const MyPlugin = require('./MyPlugin');let myPlugin = new MyPlugin();new Main(&#123; plugins: [myPlugin] &#125;);// åˆå§‹åŒ–å‰ã€‚ã€‚ã€‚// init é’©å­ï¼Œåšäº›å•¥; åˆå§‹åŒ–ä¸­ã€‚ã€‚ã€‚// åˆå§‹åŒ–åã€‚ã€‚ã€‚ç†è§£èµ·æ¥å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ init å¤„è§¦å‘é’©å­ï¼Œthis.hooks.init.call(params) ç±»ä¼¼äºæˆ‘ä»¬ç†Ÿæ‚‰çš„ EventEmitter.emit(&#39;init&#39;, params)ã€‚main.hooks.init.tap ç±»ä¼¼äº EventEmitter.on(&#39;init&#39;, callback)ï¼Œåœ¨ inité’©å­ä¸Šç»‘å®šä¸€äº›æˆ‘ä»¬æƒ³åšçš„äº‹æƒ…ã€‚åœ¨åé¢å°†è¦è¯´çš„ webpack è‡ªå®šä¹‰æ’ä»¶ï¼Œå°±æ˜¯åœ¨ webpack ä¸­çš„æŸä¸ªé’©å­å¤„ï¼Œæ’å…¥è‡ªå®šä¹‰çš„äº‹ã€‚ç†æ¸…æ¦‚å¿µä¾èµ–å›¾åœ¨å•é¡µé¢åº”ç”¨ä¸­ï¼Œåªè¦æœ‰ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œå°±å¯ä»¥æŠŠæ•£è½åœ¨é¡¹ç›®ä¸‹çš„å„ä¸ªæ–‡ä»¶æ•´åˆåˆ°ä¸€èµ·ã€‚ä½•è°“ä¾èµ–ï¼Œå½“å‰æ–‡ä»¶éœ€è¦ä»€ä¹ˆï¼Œä»€ä¹ˆå°±æ˜¯å½“å‰æ–‡ä»¶çš„ä¾èµ–ã€‚ä¾èµ–å¼•å…¥çš„å½¢å¼æœ‰å¦‚ä¸‹ï¼šES2015 import è¯­å¥CommonJS require() è¯­å¥AMD define å’Œ require è¯­å¥æ ·å¼(url(...))æˆ– HTML æ–‡ä»¶(&lt;img src=...&gt;)ä¸­çš„å›¾ç‰‡é“¾æ¥å…¥å£(entry)å…¥å£èµ·ç‚¹(entry point)æŒ‡ç¤º webpack åº”è¯¥ä½¿ç”¨å“ªä¸ªæ¨¡å—ï¼Œæ¥ä½œä¸ºæ„å»ºå…¶å†…éƒ¨ä¾èµ–å›¾ï¼ˆdependency graphï¼‰çš„å¼€å§‹ã€‚è¾“å‡º(output)output å±æ€§å‘Šè¯‰ webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ bundleï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ã€‚æ¨¡å—(module)å†³å®šäº†å¦‚ä½•å¤„ç†é¡¹ç›®ä¸­çš„ä¸åŒç±»å‹çš„æ¨¡å—ã€‚æ¯”å¦‚è®¾ç½® loaderï¼Œå¤„ç†å„ç§æ¨¡å—ã€‚è®¾ç½® noParseï¼Œå¿½ç•¥æ— éœ€ webpack è§£æçš„æ¨¡å—ã€‚è§£æ(resolve)è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚å¼•ç”¨ä¾èµ–æ—¶ï¼Œéœ€è¦çŸ¥é“ä¾èµ–é—´çš„è·¯å¾„å…³ç³»ï¼Œåº”éµå¾ªä½•ç§è§£æè§„åˆ™ã€‚æ¯”å¦‚ç»™è·¯å¾„è®¾ç½®åˆ«åï¼ˆaliasï¼‰ï¼Œè§£ææ¨¡å—çš„æœç´¢ç›®å½•ï¼ˆmodulesï¼‰ï¼Œè§£æ loader åŒ…è·¯å¾„ï¼ˆresolveLoaderï¼‰ç­‰ã€‚å¤–éƒ¨æ‰©å±•(externals)é˜²æ­¢å°†æŸäº› import çš„åŒ…ï¼ˆpackageï¼‰æ‰“åŒ…åˆ° bundle ä¸­ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶ï¼ˆruntimeï¼‰å†å»ä»å¤–éƒ¨è·å–è¿™äº›æ‰©å±•ä¾èµ–ã€‚æ¯”å¦‚è¯´ï¼Œé¡¹ç›®ä¸­å¼•ç”¨äº† jQuery çš„CDNèµ„æºï¼Œåœ¨ä½¿ç”¨ import $ from &#39;jquery&#39;;æ—¶ï¼Œwebpack ä¼šæŠŠ jQuery æ‰“åŒ…è¿› bundleï¼Œå…¶å®è¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œæ­¤æ—¶éœ€è¦é…ç½® externals: {jquery: &#39;jQuery&#39;}ï¼Œå°†å…¶å‰”é™¤ bundleã€‚æ’ä»¶(plugins)ç”¨äºä»¥å„ç§æ–¹å¼è‡ªå®šä¹‰ webpack æ„å»ºè¿‡ç¨‹ã€‚å¯ä»¥åˆ©ç”¨ webpack ä¸­çš„é’©å­ï¼Œåšäº›ä¼˜åŒ–æˆ–è€…æäº›å°åŠ¨ä½œã€‚å¼€å‘è®¾ç½®(devServer)é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¼€å‘æ—¶ç”¨åˆ°çš„é€‰é¡¹ã€‚æ¯”å¦‚ï¼Œå¼€å‘æœåŠ¡æ ¹è·¯å¾„ï¼ˆcontentBaseï¼‰ï¼Œæ¨¡å—çƒ­æ›¿æ¢ï¼ˆhotï¼Œéœ€é…åˆ HotModuleReplacementPlugin ä½¿ç”¨ï¼‰ï¼Œä»£ç†ï¼ˆproxyï¼‰ç­‰ã€‚æ¨¡å¼(mode)æä¾› mode é…ç½®é€‰é¡¹ï¼Œå‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”ç¯å¢ƒçš„å†…ç½®ä¼˜åŒ–ã€‚å…·ä½“å¯è§ æ¨¡å¼(mode)ä¼˜åŒ–(optimization)ä» webpack 4 å¼€å§‹ï¼Œä¼šæ ¹æ®ä½ é€‰æ‹©çš„ mode æ¥æ‰§è¡Œä¸åŒçš„ä¼˜åŒ–ï¼Œä¸è¿‡æ‰€æœ‰çš„ä¼˜åŒ–è¿˜æ˜¯å¯ä»¥æ‰‹åŠ¨é…ç½®å’Œé‡å†™ã€‚æ¯”å¦‚ï¼ŒCommonsChunkPluginè¢« optimization.splitChunks å–ä»£ã€‚webpack å·®ä¸å¤šå°±æ˜¯è¿™å‡ ä¸ªé…ç½®é¡¹ï¼Œææ¸…æ¥šè¿™å‡ ä¸ªæ¦‚å¿µï¼Œä¸Šæ‰‹è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚ä»£ç åˆ†ç¦»ç°åœ¨çš„å‰ç«¯é¡¹ç›®è¶Šæ¥è¶Šå¤æ‚ï¼Œå¦‚æœæœ€ç»ˆå¯¼å‡ºä¸ºä¸€ä¸ª bundleï¼Œä¼šæå¤§åœ°å½±å“åŠ è½½é€Ÿåº¦ã€‚åˆ‡å‰² bundleï¼Œæ§åˆ¶èµ„æºåŠ è½½ä¼˜å…ˆçº§ï¼ŒæŒ‰éœ€åŠ è½½æˆ–å¹¶è¡ŒåŠ è½½ï¼Œåˆç†åº”ç”¨å°±ä¼šå¤§å¤§ç¼©çŸ­åŠ è½½æ—¶é—´ã€‚å®˜æ–¹æ–‡æ¡£æä¾›äº†ä¸‰ç§å¸¸è§çš„ä»£ç åˆ†ç¦»æ–¹æ³•ï¼šå…¥å£èµ·ç‚¹é…ç½®å¤šä¸ªå…¥å£æ–‡ä»¶ï¼Œç„¶åå°†æœ€ç»ˆç”Ÿæˆçš„è¿‡ä¸ª bundle å‡ºå…¥åˆ° HTML ä¸­ã€‚12345678910111213// webpack.config.jsentry: &#123; index: './src/index.js', vendor: './src/vendor.js'&#125;output: &#123; filename: '[name].bundle.js',&#125;,plugins: [new HtmlWebpackPlugin(&#123; chunks: ['vendor', 'index']&#125;)]ä¸è¿‡å¦‚æœè¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­å­˜åœ¨ç›¸åŒçš„æ¨¡å—ï¼Œè¿™å°±æ„å‘³ç€ç›¸åŒçš„æ¨¡å—è¢«åŠ è½½äº†ä¸¤æ¬¡ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æå–å‡ºé‡å¤çš„æ¨¡å—ã€‚é˜²æ­¢é‡å¤åœ¨ webpack è€çš„ç‰ˆæœ¬ä¸­ï¼ŒCommonsChunkPlugin å¸¸ç”¨æ¥æå–å…¬å…±çš„æ¨¡å—ã€‚æ–°ç‰ˆæœ¬ä¸­ SplitChunksPlugin å–è€Œä»£ä¹‹ï¼Œå¯ä»¥é€šè¿‡ optimization.splitChunks è®¾ç½®ï¼Œå¤šè§äºå¤šé¡µé¢åº”ç”¨ã€‚åŠ¨æ€å¯¼å…¥å°±æ˜¯åœ¨éœ€è¦æ—¶å†å»åŠ è½½æ¨¡å—ï¼Œè€Œä¸æ˜¯ä¸€è‚¡è„‘çš„å…¨éƒ¨åŠ è½½ã€‚webpack è¿˜æä¾›äº†é¢„å–å’Œé¢„åŠ è½½çš„æ–¹å¼ã€‚éå…¥å£ chunkï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ chunkFilename ä¸ºå…¶å‘½åã€‚å¸¸è§çš„å¦‚ï¼Œvue è·¯ç”±åŠ¨æ€å¯¼å…¥ã€‚12345678// webpack.config.jsoutput: &#123; chunkFilename: '[name].bundle.js',&#125;// index.jsimport(/* webpackChunkName: "someJs" */ 'someJs');import(/* webpackPrefetch: true */ 'someJs');import(/* webpackPreload: true */ 'someJs');ç¼“å­˜åŸºäºæµè§ˆå™¨çš„ç¼“å­˜ç­–ç•¥ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æœæœ¬åœ°ç¼“å­˜å‘½ä¸­ï¼Œåˆ™æ— éœ€å†æ¬¡è¯·æ±‚èµ„æºã€‚å¯¹äºæ”¹åŠ¨ä¸é¢‘ç¹æˆ–åŸºæœ¬ä¸ä¼šå†åšæ”¹åŠ¨çš„æ¨¡å—ï¼Œå¯ä»¥å‰¥ç¦»å‡ºæ¥ã€‚1234// webpack.config.jsoutput: &#123; filename: '[name].[contenthash].js',&#125;æŒ‰ç…§æˆ‘ä»¬çš„æƒ³æ³•ï¼Œåªè¦æ¨¡å—çš„å†…å®¹æ²¡æœ‰å˜åŒ–ï¼Œå¯¹åº”çš„åå­—ä¹Ÿå°±ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™æ ·ç¼“å­˜å°±ä¼šèµ·ä½œç”¨äº†ã€‚äº‹å®ä¸Šå¹¶éå¦‚æ­¤ï¼Œwebpack æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œå¹¶éåªæœ‰ç”¨æˆ·è‡ªå·±çš„ä»£ç ï¼Œè¿˜åŒ…æ‹¬ç®¡ç†ç”¨æˆ·ä»£ç çš„ä»£ç ï¼Œå¦‚ runtime å’Œ manifestã€‚æ¨¡å—ä¾èµ–é—´çš„æ•´åˆå¹¶ä¸æ˜¯ç®€å•çš„ä»£ç æ‹¼æ¥ï¼Œå…¶ä¸­åŒ…æ‹¬æ¨¡å—çš„åŠ è½½å’Œè§£æé€»è¾‘ã€‚æ³¨å…¥çš„ runtime å’Œ manifest åœ¨æ¯æ¬¡æ„å»ºåéƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚è¿™å°±å¯¼è‡´äº†å³ä½¿ç”¨æˆ·ä»£ç æ²¡æœ‰å˜åŒ–ï¼ŒæŸäº› hash è¿˜æ˜¯å‘ç”Ÿäº†æ”¹å˜ã€‚é€šè¿‡ optimization.runtimeChunk æå– runtime ä»£ç ã€‚é€šè¿‡ optimization.splitChunks å‰¥ç¦»ç¬¬ä¸‰æ–¹åº“ã€‚æ¯”å¦‚ï¼Œ reactï¼Œreact-domã€‚123456789101112131415module.exports = &#123; //... optimization: &#123; runtimeChunk: 'single', splitChunks: &#123; cacheGroups: &#123; vendor: &#123; test: /[\\/]node_modules[\\/](react|react-dom)[\\/]/, name: 'vendor', chunks: 'all', &#125; &#125; &#125; &#125;&#125;;æœ€åä½¿ç”¨ HashedModuleIdsPlugin æ¥æ¶ˆé™¤å› æ¨¡å— ID å˜åŠ¨å¸¦æ¥çš„å½±å“ã€‚loaderloader ç”¨äºå¯¹æ¨¡å—çš„æºä»£ç è¿›è¡Œè½¬æ¢ã€‚loader æ˜¯å¯¼å‡ºä¸ºä¸€ä¸ªå‡½æ•°çš„ node æ¨¡å—ã€‚è¯¥å‡½æ•°åœ¨ loader è½¬æ¢èµ„æºçš„æ—¶å€™è°ƒç”¨ã€‚ç»™å®šçš„å‡½æ•°å°†è°ƒç”¨ loader APIï¼Œå¹¶é€šè¿‡ this ä¸Šä¸‹æ–‡è®¿é—®ã€‚123456789101112131415161718192021// loader API;this.callback( err: Error | null, content: string | Buffer, sourceMap?: SourceMap, meta?: any);// sync loadermodule.exports = function(content, map, meta)&#123; this.callback(null, syncOperation(content, map, meta)); return;&#125;// async loadermodule.exports = function(content, map, meta)&#123; let callback = this.async(); asyncOperation(content, (error, result) =&gt; &#123; if(error) callback(error); callback(null, result, map, meta); return; &#125;)&#125;å¤šä¸ª loader ä¸²è¡Œæ—¶ï¼Œåœ¨ä»å³å‘å·¦æ‰§è¡Œ loader ä¹‹å‰ï¼Œä¼šå‘ä»å·¦åˆ°å³è°ƒç”¨ loader ä¸Šçš„ pitch æ–¹æ³•ã€‚å¦‚æœåœ¨ pitch ä¸­è¿”å›äº†ç»“æœï¼Œåˆ™ä¼šè·³è¿‡åç»­ loaderã€‚12345678910111213|- a-loader `pitch` |- b-loader `pitch` |- c-loader `pitch` |- requested module is picked up as a dependency |- c-loader normal execution |- b-loader normal execution|- a-loader normal execution&lt;!-- pitch ä¸­è¿”å›ç»“æœ --&gt;|- a-loader `pitch` |- b-loader `pitch` returns a module|- a-loader normal executionpluginswebpack çš„è‡ªå®šä¹‰æ’ä»¶å’Œæœ¬æ–‡å¼€å¤´ Tapable ä¸­çš„å·®ä¸å¤šã€‚webpack æ’ä»¶æ˜¯ä¸€ä¸ªå…·æœ‰ apply æ–¹æ³•çš„ JavaScript å¯¹è±¡ã€‚apply æ–¹æ³•ä¼šè¢« webpack compiler è°ƒç”¨ï¼Œå¹¶ä¸” compiler å¯¹è±¡å¯åœ¨æ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸè®¿é—®ã€‚é’©å­æœ‰åŒæ­¥çš„ï¼Œä¹Ÿæœ‰å¼‚æ­¥çš„ï¼Œè¿™éœ€è¦æ ¹æ® webpack æä¾›çš„ API æ–‡æ¡£ã€‚1234567891011121314151617181920212223242526// å®˜æ–¹ä¾‹å­class FileListPlugin &#123; apply(compiler) &#123; // emit æ˜¯å¼‚æ­¥ hookï¼Œä½¿ç”¨ tapAsync è§¦åŠå®ƒï¼Œè¿˜å¯ä»¥ä½¿ç”¨ tapPromise/tap(åŒæ­¥) compiler.hooks.emit.tapAsync('FileListPlugin', (compilation, callback) =&gt; &#123; // åœ¨ç”Ÿæˆæ–‡ä»¶ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªå¤´éƒ¨å­—ç¬¦ä¸²ï¼š var filelist = 'In this build:\n\n'; // éå†æ‰€æœ‰ç¼–è¯‘è¿‡çš„èµ„æºæ–‡ä»¶ï¼Œ // å¯¹äºæ¯ä¸ªæ–‡ä»¶åç§°ï¼Œéƒ½æ·»åŠ ä¸€è¡Œå†…å®¹ã€‚ for (var filename in compilation.assets) &#123; filelist += '- ' + filename + '\n'; &#125; // å°†è¿™ä¸ªåˆ—è¡¨ä½œä¸ºä¸€ä¸ªæ–°çš„æ–‡ä»¶èµ„æºï¼Œæ’å…¥åˆ° webpack æ„å»ºä¸­ï¼š compilation.assets['filelist.md'] = &#123; source: function() &#123; return filelist; &#125;, size: function() &#123; return filelist.length; &#125; &#125;; callback(); &#125;); &#125;&#125;module.exports = FileListPlugin;ProvidePluginè‡ªåŠ¨åŠ è½½æ¨¡å—ï¼Œæ— éœ€å¤„å¤„å¼•ç”¨ã€‚æœ‰ç‚¹ç±»ä¼¼ expose-loaderã€‚123456// webpack.config.jsnew webpack.ProvidePlugin(&#123; $: 'jquery',&#125;)// some.js$('#item');DllPluginå°†åŸºç¡€æ¨¡å—æ‰“åŒ…è¿›åŠ¨æ€é“¾æ¥åº“ï¼Œå½“ä¾èµ–çš„æ¨¡å—å­˜åœ¨äºåŠ¨æ€é“¾æ¥åº“ä¸­æ—¶ï¼Œæ— éœ€å†æ¬¡æ‰“åŒ…ï¼Œè€Œæ˜¯ç›´æ¥ä»åŠ¨æ€é“¾æ¥åº“ä¸­è·å–ã€‚DLLPlugin è´Ÿè´£æ‰“åŒ…å‡ºåŠ¨æ€é“¾æ¥åº“ï¼ŒDllReferencePlugin è´Ÿè´£ä»ä¸»è¦é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ DllPlugin æ’ä»¶æ‰“åŒ…å¥½çš„åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶ã€‚1234567891011121314151617181920// webpack-dll-config.js// å…ˆæ‰§è¡Œè¯¥é…ç½®æ–‡ä»¶output: &#123; path: path.join(__dirname, "dist"), filename: "MyDll.[name].js", library: "[name]_[hash]"&#125;,plugins: [ new webpack.DllPlugin(&#123; path: path.join(__dirname, "dist", "[name]-manifest.json"), name: "[name]_[hash]" &#125;)]// webpack-config.js// åæ‰§è¡Œè¯¥é…ç½®æ–‡ä»¶plugins: [ new webpack.DllReferencePlugin(&#123; manifest: require("../dll/dist/alpha-manifest.json") &#125;),]HappyPackå¯åŠ¨å­è¿›ç¨‹å¤„ç†ä»»åŠ¡ï¼Œå……åˆ†åˆ©ç”¨èµ„æºã€‚ä¸è¿‡è¿›ç¨‹é—´çš„é€šè®¯æ¯”è¾ƒè€—èµ„æºï¼Œè¦é…Œæƒ…å¤„ç†ã€‚123456789101112const HappyPack = require('happypack');// loader&#123; test: /\.js$/, use: ['happypack/loader?id=babel'], exclude: path.resolve(__dirname, 'node_modules'),&#125;,// pluginsnew HappyPack(&#123; id: 'babel', loaders: ['babel-loader?cacheDirectory'],&#125;),webpack-bundle-analyzerwebpack æ‰“åŒ…åçš„åˆ†æå·¥å…·ã€‚webpack å‘Šä¸€æ®µè½ï¼Œæµ…å°è¾„æ­¢ã€‚]]></content>
      <categories>
        <category>å†™ç‚¹å•¥</category>
      </categories>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šä½ çš„å­¤ç‹¬ï¼Œè™½è´¥çŠ¹è£ã€‹]]></title>
    <url>%2F%E3%80%8A%E4%BD%A0%E7%9A%84%E5%AD%A4%E7%8B%AC%EF%BC%8C%E8%99%BD%E8%B4%A5%E7%8A%B9%E8%8D%A3%E3%80%8B%E6%91%98%E6%8A%84%2F</url>
    <content type="text"><![CDATA[è¯»åæ„Ÿã€Šä½ çš„å­¤ç‹¬ï¼Œè™½è´¥çŠ¹è£ã€‹ï¼Œè¿™æœ¬ä¹¦ä¹°å›æ¥å·²ç»å¾ˆä¹…äº†ã€‚èŠ±äº†ä¸€ä¸¤ä¸ªæœˆè¯»äº†å‰ä¸€åŠï¼Œå´åªç”¨äº†å‡ ä¸ªå°æ—¶è¯»å®Œäº†åä¸€åŠï¼Œæœ‰æ—¶å€™ä¸å¾—ä¸è¯´ï¼Œè‡ªå·±å¯¹è‡ªå·±å¤ªä»»æ€§äº†ã€‚æ˜¨æ™šå‡ºå»æ•£æ­¥æ—¶ï¼Œæˆ‘è¯´ï¼Œå›å»åï¼Œæˆ‘è¦æŠŠé‚£æœ¬ä¹¦è¯»å®Œã€‚æˆ‘å“¥ä¸€è„¸è¯§å¼‚ï¼Œè¡¨ç¤ºä¸æ•¢ç›¸ä¿¡ï¼Œæ¯•ç«Ÿä¸€åŠçš„å†…å®¹ä¸ç®—å°‘ã€‚å›æ¥åï¼Œæˆ´ä¸Šè€³æœºï¼Œéšæ‰‹æŠŠç½—æ‰å¤«åŠ å…¥äº†æ’­æ”¾åˆ—è¡¨ã€‚å¹¶ä¸æ˜¯æˆ‘æƒ³è¥é€ ä¸€ä¸ªè¯»ä¹¦çš„æ°›å›´ï¼Œåªæ˜¯ä¸ºäº†éš”ç»å¤–é¢çš„ä¸–ç•Œã€‚å‡ ä¸ªå°æ—¶åï¼Œæˆ‘è¯´ï¼Œæˆ‘çœ‹å®Œäº†ã€‚æˆ‘å“¥æ˜¯ä¸€è„¸éœ‡æƒŠï¼Œä¸çŸ¥é“æ˜¯å› ä¸ºæˆ‘åšåˆ°äº†ï¼Œè¿˜æ˜¯å› ä¸ºåƒé¸¡è¿‡ç¨‹ä¸­çªç„¶æš´æ¯™è€Œæ²¡å›è¿‡å‘³æ¥ã€‚è¿™æœ¬ä¹¦ç®—æ˜¯ä½œè€…çš„ä¸€ä¸ªå¿ƒè·¯å†ç¨‹å§ï¼Œçœ‹å®Œæˆä¹‹åï¼Œå”å˜˜ä¸å·²ã€‚æœ‰å…±æƒ…ï¼Œæ‰ä¼šæœ‰æ„Ÿæ¦‚ï¼Œæ•…äº‹çš„äººå’Œäº‹ï¼Œä¼¼æ›¾ç›¸è¯†ï¼Œä¸è¿‡è¿™ä¸€åˆ‡éƒ½å·²æˆäº†å›å¿†ã€‚å›è¿‡å¤´æ¥å†æƒ³ä¸€æƒ³ï¼Œè¿™æ ·ï¼ŒçœŸçš„å¥½ä¹ˆï¼Ÿè¯­å½•å­¤ç‹¬æ˜¯è‡ªå·±å±…ç„¶å°±èƒ½æˆä¸€ä¸ªä¸–ç•Œã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯æ˜çŸ¥é“ç»“å±€æ˜¯æ›²ç»ˆäººæ•£ï¼Œå¯å½“ä¸‹å´ä¸å¾—ä¸æ”¾å£°å¤§ç¬‘ï¼Œç›´è‡³åœ¨è¿™æ ·çš„å°½å…´ä¸­æµä¸‹çœ¼æ³ªã€‚æˆ‘ä»¬å˜²ç¬‘è¿‡å°‘å¹´çš„æ— çŸ¥ï¼Œä¹Ÿå˜²ç¬‘è¿‡å²æœˆçš„è‹è€ã€‚æˆ‘ä»¬è¡Œèµ°åœ¨è·¯ä¸Šï¼Œç†æƒ³å®å¤§ï¼Œçœ¼çªå´æµ…æ˜¾ã€‚æœ‰æ—¶å€™æˆ‘ä»¬è¯´å¾ˆå¤šè¯ï¼Œå¹¶ä¸æ˜¯æƒ³å¾—åˆ°çƒ­åˆ‡çš„å›åº”ï¼Œè€Œæ˜¯åªè¦æœ‰äººæ„¿æ„å¬ï¼Œæ„¿æ„å¸®æˆ‘ä»¬è®°ä½ï¼Œå°±å¤Ÿäº†ã€‚å›å¿†å°±åƒå¥³å„¿çº¢ä¸€èˆ¬è¢«åŸ‹åœ¨åœŸé‡Œï¼Œå¶å°”æƒ³èµ·æ¥æŒ–ä¸¤é”¹åœŸï¼Œéƒ½ä¼šé†‰å€’åŠæ­»ã€‚ä¸€ç¾¤äººæ€€æ—§ï¼Œå°±ç€å¾€äº‹ä¸‹é…’ï¼Œç«æ¯›ä¸Šæ»¡æ˜¯é’ç¿ çš„æ¹¿æ°”ï¼Œé¥±å«å‚å»¶æ¬²æ»´çš„æ¸©æŸ”ã€‚æœ‰äººæ‹¼å‘½æŒ£è„±ï¼Œç»ˆä¸ºæ— è°“ã€‚æœ‰äººæ”¾ä»»é£˜æ´’ï¼Œç»ˆæˆæ— ç•ã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯ä¸å¿—åŒé“åˆçš„äººå®šä¸‹ç›®æ ‡ï¼Œæ²¡çš®æ²¡è„¸åœ°å¾€å‰å†²ï¼Œç­‰åˆ°ç¦»å…‰æ˜ä¸è¿œçš„æ—¶å€™ï¼Œä½ æ‰­å¤´ä¸€çœ‹ï¼Œå´å‘ç°å¿—åŒé“åˆçš„äººå·²ç»ä¸è§äº†ã€‚äººä¸äººæ“¦è‚©æ—¶ï¼Œå¾€å¾€ä¼šæŠ•æ¥çŸ­æš‚ä¸”å–„æ„çš„çœ¼å…‰ï¼Œä½ ä»¥ä¸ºå¯¹æ–¹åªæ˜¯åœ¨æµ…æ˜¾åœ°æ‰“é‡ï¼Œä½†å¯¹æ–¹è¡¨è¾¾çš„ç¡®å®å‹å–„çš„â€œä½ å¥½â€ã€‚ä½ ä¼¸å‡ºæ‰‹ï¼Œä¾¿èƒ½å¹¶è‚©è¡Œèµ°ã€‚ä½ é”™è¿‡ï¼Œä¾¿å†æ— ä¸‹æ–‡ã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯çªç„¶æƒ³åˆ°ä¸€ä¸ªäººï¼Œå´å‘ç°å·²ç»æ²¡æœ‰äº†å¯¹æ–¹çš„è”ç³»æ–¹å¼ã€‚é‚£äº›ä½ æ›¾ä»¥ä¸ºå¾ˆè¦å¥½çš„æœ‹å‹ï¼Œé‚£äº›ä½ æ›¾ä»¥ä¸ºä¼šä¸€ç›´ç»“ä¼´èµ°ä¸‹å»çš„äººï¼Œä¸çŸ¥é“ä½•æ—¶å°±åœ¨è·¯é€”ä¸­èµ°æ•£äº†ã€‚é™ªä½ èµ°äº†ä¸€ç¨‹çš„æœ‹å‹ï¼Œè°¢è°¢ä»–ä»¬ã€‚æ„¿é™ªä½ èµ°ä¸€ç”Ÿçš„æœ‹å‹ï¼Œè°¢è°¢è€å¤©ã€‚æœ‰äº›äººåœ¨ä½ é¢å‰ï¼Œä½ å¾ˆéš¾è¯´ä¸€å£°è°¢è°¢ã€‚ç„¶è€Œä»–ä»¬ç¦»å¼€ä¹‹åï¼Œä½ å´æœ‰åƒè¨€ä¸‡è¯­æƒ³è¯´ç»™è‡ªå·±å¬ï¼Œæˆ–è€…ä¹Ÿå¸Œæœ›ï¼Œæœ‰ä¸€å¤©ä»–èƒ½å¤Ÿçœ‹è§ã€‚å°±æ˜¯è¿™ä¹ˆä¸€ç§äººï¼Œè¿›å…¥ä½ ç”Ÿå‘½çš„æ—¶å€™å¹¶ä¸è®©äººæ¬¢å¤©å–œåœ°ï¼Œä»–ä»¬å´èƒ½å¤Ÿåœ¨ç¦»å¼€ä½ ä¹‹åï¼Œè®©ä½ ä¸€ç›´æƒ³å¿µï¼Œä¸‡è¯­åƒè¨€ã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯åŸä»¥ä¸ºæ‰¾ä¸€ä¸ªä¸è‡ªå·±åˆ†äº«ç—›è‹¦çš„äººå¾ˆéš¾ï¼Œåæ¥å‘ç°æ‰¾ä¸€ä¸ªèƒ½åˆ†äº«è‡ªå·±å–œæ‚¦çš„äººæ›´éš¾ã€‚å’Œä¸€äº›äººçš„å…³ç³»åƒå¹³è¡Œçº¿ï¼Œä¸€è¾ˆå­ç›¸å®ˆç›¸æœ›ï¼Œè§äºçœ¼åº•è—äºå¿ƒé—´ã€‚å°±æ€•è€ä¸ä½å¯‚å¯ï¼Œå†²åŠ¨è€Œæˆäº†ç›¸äº¤çº¿ï¼Œåœ¨ä¸€ä¸ªç‚¹å°½æƒ…æ‹¥æŠ±ï¼Œä»æ­¤ä¾¿ç¦»å¾—è¶Šæ¥è¶Šè¿œï¼Œå†ä¹Ÿä¸è§ã€‚é‡è§è¿™æ ·çš„äººï¼Œå› ä¸ºä¸æƒ³åšæ‹äººåªèƒ½ä¸€æ—¶ï¼Œæ‰€ä»¥æ‰é€‰æ‹©åšæœ‹å‹èƒ½ä¸€ä¸–ã€‚æœ‰äº›ä¸ç–¼ï¼Œæ˜¯æ—©å·²æ„ˆåˆï¼Œæèµ·æ¥åªæœ‰ä¼¤ç–¤ï¼Œæ²¡äº†æ„Ÿå—ã€‚æœ‰äº›ä¸ç–¼ï¼Œæ˜¯å‡ è¿‘éº»æœ¨ï¼Œæ„Ÿå—çˆ±çš„èƒ½åŠ›å…¨éƒ½ç”¨æ¥æ„Ÿå—ç—›äº†ã€‚ä½ è¦ç›¸ä¿¡è‡ªå·±å¼ºå¤§çš„æ„ˆåˆèƒ½åŠ›ï¼Œå³ä½¿å¿ƒé‡Œæœ‰åˆºï¼Œä¸æ‹”å‡ºæ¥ï¼Œä¹Ÿä¼šéšç€æ—¶é—´è€Œæœ€ç»ˆæ¶ˆå¤±ã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯æˆ‘çŸ¥é“ä½ çˆ±æˆ‘ï¼Œæˆ‘ä¹ŸçŸ¥é“æˆ‘çˆ±ä½ ï¼Œä½†æˆ‘æ— æ³•ç”¨å‡†ç¡®çš„è¯­è¨€è®©ä½ æ˜ç™½æˆ‘å†…å¿ƒçš„æ„Ÿå—ï¼Œå³ä½¿æˆ‘è¯´äº†ï¼Œä½ ä¹Ÿä¸èƒ½ç†è§£ã€‚æˆ‘ä»¬æ˜¯äººç±»ï¼Œä½†å´ä¸æ˜¯ä¸€ç±»äººã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯å¾ˆå¤šé—­ä¸Šçœ¼èƒ½å›å¿†èµ·çš„æ¸©åº¦ã€å¯¹è¯ã€ä¸¾åŠ¨ã€ç»†èŠ‚ï¼Œçå¼€çœ¼å´æ„Ÿè§‰å®ƒä»¬ä»æœªå‘ç”Ÿè¿‡ä¸€æ ·ã€‚æ“¦è‚©è€Œè¿‡ï¼Œå†æ— äº¤é›†çš„å­¤ç‹¬ã€‚å€Ÿç§‹å¾®çš„å°è¯´ã€Šè«å¤±è«å¿˜ã€‹ä¸­çš„ä¸€å¥è¯ï¼šä¸–é—´æœ€å¤§çš„é—æ†¾æ˜¯æˆ‘ä»¬èƒ½å¥½å¥½åœ°å¼€å§‹ï¼Œå´æ²¡èƒ½å¥½å¥½åœ°å‘Šåˆ«ã€‚æˆå¹´ä¸æœªæˆå¹´æœ€å¤§çš„åŒºåˆ«æˆ–è®¸æ˜¯æˆ‘ä»¬å¼€å§‹è¶Šæ¥è¶Šçˆ±æ·±å¤œï¼Œè€ŒåªæŠŠå†·é™ç•™ç»™ç™½å¤©ã€‚äººä¸äººä¹‹é—´çš„å…³ç³»ï¼Œå¸¸å¸¸ä»ç†Ÿæ‚‰ã€åˆ°è¯¯è§£ï¼Œä»åˆ†ç¦»åˆ°é‡Šæ€€ã€‚é‡Šæ€€ä¼¼ä¹æ‰æ˜¯æœ€ç»ˆè®¤è¯†è‡ªå·±å’Œç†è§£åˆ«äººçš„æ–¹å¼ã€‚å½“æ—¶æƒ³ä¸æ˜ç™½çš„åŸå› å’Œæ„¤æ€’è½¬èº«è€Œå»çš„æƒ…èŠ‚ï¼Œéƒ½ä¼šéšç€æˆé•¿è€Œæ¸æ¸é‡Šæ€€ã€‚é‡Šæ€€ä¸æ˜¯ä¸å†ç”Ÿæ°”ï¼Œä¹Ÿä¸æ˜¯æ²¡æœ‰æ„Ÿæƒ…ï¼Œè€Œæ˜¯é¢å¯¹æ›¾ç»æœ€ç†Ÿæ‚‰çš„é‚£ä¸ªäººè¿˜èƒ½é—®ä¸Šä¸€å¥ï¼š ä½ è¿˜å¥½å—ï¼Ÿä½ ä»¥ä¸ºåšçš„ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†èº«è¾¹æœ€äº²è¿‘çš„äººï¼Œåæ¥ä½ æ‰çŸ¥é“æœ€äº²è¿‘çš„äººæœ€éœ€è¦ä½ åšçš„åªæ˜¯ä½ åœ¨èº«è¾¹ã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯ä¸æœ€äº²è¿‘çš„é‚£ä¸ªäººé¢å¯¹çš„æ—¶é—´å’Œç©ºé—´é‡Œï¼Œä¸€ç›´åœ¨è´¨ç–‘ï¼Œè€Œå½“ä½ è½¬èº«ç¦»å¼€ï¼Œå´ç¬é—´æ„è¯†åˆ°è‡ªå·±çš„è¿‡é”™ã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯å³ä½¿ä½ åšäº†é”™äº‹ï¼Œçˆ±ä½ çš„äººå´ä¸€ç›´è¯´æ²¡å…³ç³»ï¼Œè¿å¼¥è¡¥çš„æœºä¼šéƒ½ä¸ä¼šç»™ä½ ã€‚æœ‰äº›çˆ±å°±æ˜¯é”™äº†ä¸€æ¬¡ä¹‹åï¼Œä¾¿å¸Œæœ›ç”¨ä¸€ç”Ÿçš„åŠªåŠ›å»å¼¥è¡¥ã€‚è¶Šæ˜¯äº²è¿‘çš„äººï¼Œè¶Šæ˜¯æœ‰äº›è¯è¯´ä¸å‡ºå£ï¼Œä¹Ÿè®¸æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå¾ˆå¤šäº‹æƒ…éƒ½å·²ç»è¿‡å»äº†ï¼Œå†å¤§çš„ä¼¤å®³éƒ½ä¸èƒ½é˜»æ­¢æˆ‘ä»¬ç°åœ¨çš„æ„Ÿæƒ…å¦‚ä½•çš„äº²å¯†ï¼Œåªæ˜¯ï¼Œå¦‚æœä½ çœŸçš„çˆ±ä¸€ä¸ªäººçš„è¯ï¼Œä½ æ€»æ˜¯å¸Œæœ›èƒ½ç”¨è‡ªå·±çš„æ–¹å¼å»å¼¥è¡¥è¿‡å»æ—¶å…‰é‡Œé€ æˆçš„ä¼¤å®³â€”â€”æ— è®ºå¯¹æ–¹ç°åœ¨æ˜¯å¦è¿˜éœ€è¦ã€‚äº²è¿‘çš„äººæ°¸è¿œæŠŠè¯è—åœ¨å¿ƒåº•ï¼Œå´ç”¨è¡ŒåŠ¨å‘Šè¯‰å…¨ä¸–ç•Œè‡ªå·±å¾ˆåœ¨æ„ã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯å°æ—¶å€™è§‰å¾—é¡ºå…¶è‡ªç„¶çš„äº‹æƒ…ï¼Œç¨å¾®å¤§äº†ä¹‹åè®¤ä¸ºé‚£æ˜¯æŒ‰éƒ¨å°±ç­ï¼Œç›´åˆ°æœ‰ä¸€å¤©ä½ æ‰å‘ç°ä¸€åˆ‡æ‰€å‰©æ— å‡ ã€æ— èƒ½ä¸ºåŠ›ï¼Œåªèƒ½ä¸”è¡Œä¸”çæƒœã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯å¦‚æœè‡ªå·±å¿å—äº†å§”å±ˆï¼Œä¾¿èƒ½è®©ä¸€åˆ‡éƒ½å¥½è½¬èµ·æ¥ï¼Œäºæ˜¯é€‰æ‹©äº†é—­å˜´ã€‚æ²¡æœ‰äººæ³¨æ„åˆ°ä½ çš„æ”¹å˜ï¼Œæ²¡æœ‰äººèµ°è¿›è¿‡ä½ çš„å†…å¿ƒï¼Œå¤–ç•Œè¶Šæ˜¯å¹³å’Œï¼Œè¶Šæ˜¯äººå£°é¼æ²¸ï¼Œä½ å¿ƒé‡Œçš„å§”å±ˆè¶Šå¤§ã€å­¤ç‹¬è¶Šæ·±ã€‚ä¸€å¼€å§‹åŸ‹ä¸‹çš„å­¤ç‹¬çš„ç§å­ï¼Œåœ¨ä¸€ä¸ªäººåå¤çš„è‡ªæˆ‘å›ç­”ä¸­ï¼Œé•¿å¤§æˆäººã€‚ä½ ä¸å¥½äº†ï¼Œä»–ä»¬ä¼šå¤±è½ï¼Œä»–ä»¬ä¼šç”¨å°½å…¨åŠ›ä¿æŠ¤ä½ ã€‚ä½ å¥½äº†ï¼Œä»–ä»¬ä¹Ÿä¼šå¤±è½ï¼Œä»–ä»¬è§‰å¾—è‡ªå·±çš„èƒ½åŠ›å·²ç»ä¿æŠ¤ä¸äº†ä½ äº†ã€‚æœ‰ä¸€ç‰‡è¿™æ ·çš„æµ·ï¼Œä¸€æ‰‡èƒ½å¦‚æ­¤æ¨å¼€çš„çª—ï¼Œä¸€èº«è¢«æ™’å¾—çˆ½æœ—çš„è‚¤è‰²ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªèƒ½é™ªæˆ‘ä¸€èµ·åˆ†äº«ä¸€åˆ‡çš„äººã€‚å¾ˆå¤šäººï¼Œæœ‰äº†ä¸€åˆ‡å´æ²¡æœ‰é‚£ä¸ªäººã€‚å¾ˆå¤šäººï¼Œæœ‰äº†é‚£ä¸ªäººï¼Œå´ä¸ºäº†è¿½æ±‚ä¸€ç‰‡æµ·ï¼Œæœ€åä¸¢æ‰äº†é‚£ä¸ªäººã€‚å½“å¯¹äº‹æƒ…æ„Ÿåˆ°ç»æœ›æ—¶ï¼Œä½ å¯ä»¥æ”¾å¼ƒå¯¹ä»–äººçš„ä¿¡ä»»ï¼Œå¯ä»¥æ”¾å¼ƒå¤–ç•Œå¯¹è‡ªå·±çš„è¯„ä»·ï¼Œå¯ä»¥æ”¾å¼ƒå¯¹ç»“æœçš„ä¼ç›¼ï¼Œå”¯ç‹¬ä¸èƒ½æ”¾å¼ƒçš„æ˜¯å†…å¿ƒçš„å¹³é™ã€‚åªæœ‰å›å½’å¹³é™ï¼Œç”˜äºå¯‚å¯ï¼Œä¸æ€•æ¯ç‡¥ï¼Œæ‰èƒ½é‡æ–°å¬å›è‡ªå·±çš„å¿ƒè·³å£°ã€‚æ— è®ºä½ æœªæ¥èº«å¤„æ··æ²Œè¿˜æ˜¯è¿·é€”ï¼Œä¿æŒè‡ªåœ¨å®‰å®æ˜¯ç ´é™¤ä»»ä½•å›°å±€çš„æœ€å¤§æ­¦å™¨ã€‚ç»™è‡ªå·±ä¸€äº›æ—¶é—´ï¼Œä¸€åˆ‡ç»ˆä¼šæœ‰ç­”æ¡ˆã€‚æ—¢ç„¶çœ‹ä¸æ¸…æœªæ¥ï¼Œä½•ä¸æŠŠæ¡å¥½ç°åœ¨ã€‚æ‹½åœ¨æ‰‹ä¸­çš„ï¼Œå§‹ç»ˆä¼šè·Ÿç€ä½ è·‘ä¸æ‰ï¼Œæ”¾é£äºç©ºä¸­çš„ï¼Œä¸€ä¸ç•™ç¥ï¼Œä¾¿ä¸çŸ¥é£˜å‘ä½•æ–¹ã€‚æ›¾ç»è¿·èŒ«ï¼Œå¦‚ä»Šé‡Šæ€€å¼€é˜”ã€‚å½“ä¸‹è¿·èŒ«ï¼Œå´å¯¹æœªæ¥ç¬ƒå®šå¸Œæœ›ã€‚è¿™å…¶ä¸­ï¼Œä¾¿æ˜¯æ—¶é—´å’Œç‰©æ˜¯äººéçš„æˆé•¿ã€‚æœ‰äº›æ—¥å­ï¼Œåªè®°å¾—äº‹ï¼Œå› äº‹æƒ³äººã€‚æœ‰äº›æ—¥å­ï¼Œå´è®°å¾—äººï¼Œå› äººè€Œè®°äº‹ã€‚ä¸€äº›äººå¯¹æˆ‘ä»¬åšäº†ä¸€äº›äº‹ï¼Œæœ‰äººåªå½“æ˜¯æ—¥å¸¸ç”Ÿæ´»ä¸­çš„æ— å¿ƒä¹‹ä¸¾ï¼Œæœ‰äººå´èƒ½è¯»å‡ºä¸€ä¸ªè½®å›çš„å†å²ã€‚ä¸€äº›æ¸©æš–ï¼Œèƒ½è®©ä½ åœ¨è‡ªå·±èº«ä¸Šå‘å…‰å‘çƒ­ï¼Œä¼ ç»™ä»–äººã€‚ä¸€äº›ä¼¤å®³ï¼Œä¹Ÿèƒ½è®©ä½ äº®å‡ºèƒ³è†Šï¼Œæé†’è‡ªå·±ä½•è°“åº•çº¿ã€‚æˆ‘ä»¬å¸¸é—®ä¸ºä»€ä¹ˆï¼Œæ²‰ä¸‹æ¥ï¼Œçœ‹ä¸€åˆ‡ï¼Œæˆ‘ä»¬å°±æ˜¯ç­”æ¡ˆã€‚æœ‰ç§å­¤ç‹¬æ˜¯æåŠ›æŒ£è„±éšæ³¢é€æµçš„è‡ªå·±ï¼Œå°è¯•åšä¸€äº›ä¸åˆç¾¤çš„ä¸¾åŠ¨ï¼Œä¸€å¼€å§‹æ€»ä¼šè¢«äººè¯¯è§£ï¼Œç»è¿‡è¿™æ ·çš„å­¤ç‹¬ï¼Œæ‰æœ‰çœŸæ­£ä¸åˆ«äººä¸ä¸€æ ·çš„åº•æ°”ã€‚â€œå¦‚æœä½ æœªæ¥æƒ³åœ¨è¿™ä¸ªè¡Œä¸šä¸­å‡ºå¤´çš„è¯ï¼Œä½ è§‰å¾—è¦å…·å¤‡ä»€ä¹ˆæ¡ä»¶ï¼Ÿâ€â€œå¾…çš„æ—¶é—´æ¯”åˆ«äººæ›´é•¿ï¼Ÿèµ„å†æ¯”å…¶ä»–äººæ›´è€ï¼Ÿâ€å½“æˆ‘è¯´å‡ºè¿™æ ·çš„ç­”æ¡ˆæ—¶ï¼Œæµ‘èº«ä¸å¯’è€Œæ —ã€‚ä¸çŸ¥ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Œæˆ‘å·²ç»æŠŠäººç”Ÿç¿»ç›˜çš„å†³å®šæƒå®Œå®Œå…¨å…¨äº¤ç»™äº†æ—¶é—´ã€‚æ¯ä¸ªäººçš„äººç”Ÿåªèƒ½è‡ªå·±è´Ÿè´£ï¼Œåˆ«äººçš„æ„è§é¡¶å¤šåªæ˜¯å‚è€ƒè€Œå·²ã€‚å¦‚æœä¸€ä¸ªäººä¸€è¾ˆå­åªèƒ½é‡å¤åŒæ ·çš„ä¸€å¤©ï¼Œé‚£è¯¥æ˜¯ä¸–ç•Œä¸Šæœ€å¯‚å¯çš„äº‹æƒ…å§ã€‚è¿™äº›å¹´ï¼Œè§æƒ¯äº†å½¼æ­¤ä¼¤å®³ï¼Œä¹Ÿæ›¾ç»è¢«äº²è¿‘çš„äººæŠ“ä½ä¸ƒå¯¸åå‡»ï¼Œæ€»ä»¥ä¸ºå—çš„ä¼¤å¤Ÿå¤šäº†ï¼Œå°±ä¸ä¼šåœ¨è·Œå€’äº†ã€‚ç°å®å´æ˜¯ä¸ºäº†æ¯ä¸€æ¬¡çš„æŠ•å…¥è€Œä»˜å‡ºæ›´éšç§˜çš„è‡ªå·±ï¼Œäºæ˜¯åˆæ¢æ¥ä¸€æ‰¹æ›´æ–°çš„ä¼¤å£ã€‚ä¸€ä¸ªäººçš„åšå¼ºä¸æ˜¯çœ‹ä»–å¤–å£³æœ‰å¤šç¡¬ï¼Œè€Œæ˜¯çœ‹ä»–çš„ä¼¤ç–¤æœ‰å¤šæ·±ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬æŠŠè‡ªå·±ç£¨ç ºæˆä¸å®³æ€•ä¼¤å®³ï¼Œå´å¼€å§‹å®³æ€•ä¸€ç§åˆ›å¯è´´å¼çš„å…³æ€€ã€‚æœ‰æ—¶ï¼ŒæŸ”è½¯æˆ–è®¸æ¯”å¼ºå¤§æ›´å…·åŠ›é‡å§ã€‚æœ‰çš„äººå¯ç¬‘ï¼Œæ˜¯å› ä¸ºæ„šè ¢ã€‚æœ‰çš„äººå¯ç¬‘ï¼Œæ˜¯å› ä¸ºæ‰§ç€ã€‚è€Œä¸”æˆ‘ç›¸ä¿¡ï¼Œåªæœ‰å½“ä½ æ˜ç™½è‡ªå·±çš„æ—¶é—´å¹¶ä¸å¦‚æƒ³è±¡å¾—é‚£ä¹ˆå¤šçš„æ—¶å€™ï¼Œä½ æ‰ä¼šå¯¹å‡ºç°åœ¨ç”Ÿå‘½ä¸­çš„ä»»ä½•äº‹ç‰©å¦‚æ­¤æŒ‘å‰”ã€‚åŸè°…æˆ‘åªæœ‰ä¸€å…‰å¹´çš„å®½åº¦ï¼Œåªå…è®¸ä½ åœ¨æˆ‘ç”Ÿå‘½ä¸­èµ°ä¸€ç¨‹çš„è·ç¦»ï¼Œèƒ½èµ°å¤šè¿œéƒ½å¯ä»¥ï¼Œä½†ä¸èƒ½é‡å¤åœ°èµ°æ¥èµ°å»ã€‚æœ‰äº›äººçš„å¥½åƒåŸ‹åœ¨åœ°ä¸‹çš„é…’ï¼Œæ€»æ˜¯è¦ç»è¿‡å¾ˆä¹…ï¼Œç¦»å¼€ä¹‹åï¼Œæ‰èƒ½è¢«äººçŸ¥é“ã€‚å‰©ä¸‹é¥®é…’çš„äººåªèƒ½å¯‚å¯ç‹¬é¥®è‡³å¤©æ˜ã€‚æœ€é¥è¿œçš„è·ç¦»æ˜¯äººè¿˜åœ¨ï¼Œæƒ…è¿˜åœ¨ï¼Œå›å»çš„è·¯å·²ä¸åœ¨ã€‚æœ‰äººè¯´æœ‰ç»“æœçš„ä»˜å‡ºå«ä»˜å‡ºï¼Œæ²¡ç»“æœçš„ä»˜å‡ºå«ä»£ä»·ã€‚å…¶å®äººåœ¨å¹´è½»çš„æ—¶å€™æ— è®ºæœ‰æ²¡æœ‰ç»“æœï¼Œéƒ½è¦å»ä»˜å‡ºï¼Œé™¤æ­¤ä¹‹å¤–å¥½åƒä¹Ÿæ²¡æœ‰ä»€ä¹ˆåˆ«çš„é€‰æ‹©ã€‚å› ä¸ºçŸ¥é“äº†ä¸è¦ç›²ç›®è‡³è¿½æ±‚ç»“æœï¼Œæ‰€ä»¥å˜å¾—å¼€å§‹ä¸ç€æ€¥ï¼ŒæŠŠæ‰€æœ‰çš„ç€çœ¼ç‚¹éƒ½æ”¾åœ¨äº†æ¯ä¸€æ¬¡çš„å½“ä¸‹ï¼Œåªæœ‰å¯¹è‡ªå·±çš„æ¯ä¸€æ¬¡è¡ŒåŠ¨è´Ÿè´£ï¼Œæ‰ä¼šè·ä¸€ä¸ªç¾å¥½çš„ç»“æœã€‚é“ç†å¯¹ä¸å¯¹ä¸æ˜¯æœ€é‡è¦çš„ï¼Œæ€åº¦å¯¹äº†æ‰æ˜¯æœ€é‡è¦çš„ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸è¯´çœŸè¯ï¼Œä½†ä¸€å®šä¸èƒ½è¯´å‡è¯ã€‚ä¸è¯´çœŸè¯ï¼Œå¯ä»¥æœ‰è‡ªå·±çš„æ€åº¦ï¼›è¯´å‡è¯ï¼Œåˆ™å¤±å»ä¸€ä¸ªäººå¤„ä¸–çš„åŸåˆ™ã€‚æœ‰ä¸€ç§å­¤ç‹¬æ˜¯å½“å¤§å¤šæ•°äººä¸èµåŒæˆ‘æ—¶ï¼Œä½ å´ååç«™åœ¨æˆ‘è¿™ä¸€æ–¹ã€‚ç¬¬ä¸€ç¬ä¸æ˜¯æ„ŸåŠ¨ï¼Œè€Œæ˜¯è§‰å¾—æˆ‘æ€èƒ½è®©ä½ å˜å¾—å’Œæˆ‘ä¸€æ ·çš„å­¤ç‹¬ï¼Œè€Œåæ‰æœ‰æ»¡æ»¡çš„æ„ŸåŠ¨ã€‚å°‘æ•°äººçš„æ¸©æš–ï¼Œä¹Ÿæ˜¯ä¸€ç§å¿ƒç…§ä¸å®£çš„å­¤ç‹¬ã€‚â€œå½“æˆ‘è®¨åŒä¸€ä¸ªäººçš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªäººçªç„¶è¯´å–œæ¬¢æˆ‘ï¼Œé‚£æˆ‘å°±ä¸€ç‚¹ä¹Ÿä¸è®¨åŒå¯¹æ–¹äº†ã€‚å°±æ˜¯è¿™ä¹ˆæœ‰åŸåˆ™ï¼Œæ— æ³•è®¨åŒä¸€ä¸ªæœ‰çœ¼å…‰çš„äººã€‚â€æœ‰ä¸€ç§å­¤ç‹¬æ˜¯å››å‘¨çš„ä¸€åˆ‡éƒ½æš—ä¸‹å»ï¼Œçœ‹ä¸æ¸…å‘¨é­ï¼Œå…ˆæ˜¯ææƒ§ï¼Œç„¶åå½’äºå¹³é™ã€‚è¿™æ—¶ï¼Œçªç„¶å¯ä»¥å¬æ¸…ç©ºæ°”çš„æµåŠ¨ï¼Œå¼€å§‹çœ‹å¾—æ¸…è‡ªå·±è¿‡å»çš„æ¯ä¸€æ­¥ã€‚è¿™ç§è‡ªçœçš„å­¤ç‹¬ï¼Œèƒœè¿‡ä¸€åˆ‡çš„é¼“åŠ±ã€‚ä½è°·ï¼Œè¿™ä¸ªè¯è‹¥å‡ºç°åœ¨ç°åœ¨ï¼Œè¯æ˜ä½ å·²åœæ­¢å‰è¿›ã€‚è‹¥ä½ åšæŒçˆ¬å¡ï¼Œè¿™ä¸ªè¯ä¸€å®šä¼šå‡ºç°åœ¨ä½ çš„å›å¿†çš„æ—¶å…‰é‡Œã€‚ä¸€ä¸ªäººçš„æ—¶å€™æˆ–è®¸å¹¶ä¸å­¤ç‹¬ï¼Œç½®èº«äºçƒ­é—¹äººç¾¤ä¸­ï¼Œæ‰æ„ˆå‘å­¤ç‹¬ã€‚å› ä¸ºä¸€åº§åŸè€Œçˆ±ä¸Šä¸€ä¸ªäººä¸æ˜¯æ²¡æœ‰å¯èƒ½ã€‚æœ‰æ—¶ä½ ä¼šé‡æ–°çˆ±ä¸Šä¸€åº§åŸï¼Œä¹Ÿè®¸åªæ˜¯ä½ æ›¾åœ¨è¿™é‡Œé‡åˆ°è¿‡å‡ ä¸ªé™Œç”Ÿäººã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦</category>
      </categories>
      <tags>
        <tag>ä½ çš„å­¤ç‹¬ï¼Œè™½è´¥çŠ¹è£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoåšå®¢å‡çº§ä¸ºPWA]]></title>
    <url>%2FHexo%E5%8D%9A%E5%AE%A2%E5%8D%87%E7%BA%A7%E4%B8%BAPWA%2F</url>
    <content type="text"><![CDATA[æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åºï¼ˆè‹±è¯­ï¼šProgressive Web Appsï¼Œç®€ç§°ï¼šPWAï¼‰æ˜¯ä¸€ç§æ™®é€šç½‘é¡µæˆ–ç½‘ç«™æ¶æ„èµ·æ¥çš„ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œä½†å®ƒå¯ä»¥ä»¥ä¼ ç»Ÿåº”ç”¨ç¨‹åºæˆ–åŸç”Ÿç§»åŠ¨åº”ç”¨ç¨‹åºå½¢å¼å±•ç¤ºç»™ç”¨æˆ·ã€‚è¿™ç§åº”ç”¨ç¨‹åºå½¢æ€è§†å›¾å°†ç›®å‰æœ€ä¸ºç°ä»£åŒ–çš„æµè§ˆå™¨æä¾›çš„åŠŸèƒ½ä¸ç§»åŠ¨è®¾å¤‡çš„ä½“éªŒä¼˜åŠ¿ç›¸ç»“åˆã€‚â€”â€”â€”â€” ç»´åŸºç™¾ç§‘PWA è¯ç”Ÿå·²ä¹…ï¼Œè¢«èµ‹äºˆäº† Web åº”ç”¨å’ŒåŸç”Ÿåº”ç”¨çš„ç‰¹æ€§ï¼Œå…·å¤‡æ¸è¿›å¼ã€å¯æœç´¢ã€å¯ç¦»çº¿ã€å¯å®‰è£…ã€å¯é“¾æ¥ã€å®‰å…¨ç­‰ä¼˜åŠ¿ã€‚PWA ä¸æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç³»åˆ—å…³é”®æŠ€æœ¯æ„æˆäº† PWAã€‚å¦‚ï¼ŒWeb APP Manifestï¼ŒService Workerï¼ŒPush Notificationç­‰ã€‚ï¼ˆæœ¬æ–‡ä¸è®¨è®º Push Notificationï¼‰è®©ä¸€ä¸ªä¼ ç»Ÿçš„ç½‘é¡µå‡çº§ä¸º PWA ï¼Œæ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹ã€‚ç°ä»¥æœ¬åšå®¢ä¸ºä¾‹ï¼Œå°†å…¶æ‰“é€ ä¸º PWAã€‚ï¼ˆæœ¬åšå®¢æ²¡è¿‡ https è¿™å…³ï¼Œ ğŸ˜…ğŸ˜…ğŸ˜…ï¼‰æ­¥éª¤ä¸€ï¼šWeb APP ManifestWeb APP Manifest ï¼Œåœ¨ JSON æ–‡æœ¬ä¸­æä¾›åº”ç”¨ç¨‹åºç›¸å…³çš„ä¿¡æ¯ã€‚åŒ…æ‹¬è‡ªå®šä¹‰åç§°ï¼Œè‡ªå®šä¹‰å›¾æ ‡è®¾ç½®å¯åŠ¨ç½‘å€ç­‰ã€‚manifest çš„ç›®çš„æ˜¯å°† Web åº”ç”¨ç¨‹åºå®‰è£…åˆ°è®¾å¤‡çš„ä¸»å±å¹•ã€‚1234567891011121314151617181920212223242526272829303132// manifest.json&#123; "name": "å¤œæ›‰å®¸", "short_name": "å¤œæ›‰å®¸", "icons": [&#123; "src": "/images/favicon-96.png", "sizes": "96x96" &#125;,&#123; "src": "/images/favicon-128.png", "sizes": "128x128" &#125;, &#123; "src": "/images/favicon-144.png", "sizes": "144x144" &#125;, &#123; "src": "/images/favicon-152.png", "sizes": "152x152" &#125;, &#123; "src": "/images/favicon-192.png", "sizes": "192x192" &#125;, &#123; "src": "/images/favicon-256.png", "sizes": "256x256" &#125;, &#123; "src": "/images/favicon-512.png", "sizes": "512x512" &#125;], "start_url": "/", "display": "fullscreen", "background_color": "#f5f5f5", "theme_color": "#f5f5f5", "scope": "/"&#125;å®šä¹‰å¥½ manifest.json æ–‡ä»¶åï¼Œéœ€è¦åœ¨ HTML å¤´éƒ¨å¼•å…¥ã€‚1&lt;link rel="manifest" href="/manifest.json"&gt;æ­¥éª¤äºŒï¼šService WorkerService Worker æ˜¯ PWA çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œå……å½“ç€æµè§ˆå™¨å’Œç½‘ç»œä¹‹é—´çš„ä»£ç†ï¼Œæˆ–åº”ç”¨ç¨‹åºä¸æµè§ˆå™¨ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ã€‚æ—¨åœ¨ç»Ÿç­¹èµ„æºç¼“å­˜å’Œå¯¹è‡ªå®šä¹‰ç½‘ç»œè¯·æ±‚è¿›è¡Œæ§åˆ¶ã€‚Service Worker è¿è¡Œåœ¨ä¸€ä¸ªä¸JavaScript ä¸»çº¿ç¨‹ç‹¬ç«‹çš„çº¿ç¨‹ä¸Šï¼Œå¹¶ä¸”æ²¡æœ‰å¯¹ DOM ç»“æ„çš„ä»»ä½•åé—®æƒé™ã€‚å¹¶ä¸”å¯ä»¥åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¹‹é—´å‘é€å’Œæ¥æ”¶ä¿¡æ¯ï¼Œå¯åˆ†é…ç»™ Service Worker ä»»åŠ¡ï¼Œå¹¶åœ¨ä½¿ç”¨åŸºäº Promise çš„æ–¹æ³•å½“ä»»åŠ¡å®Œæˆæ—¶æ¥æ”¶ç»“æœã€‚service worker æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯åœ¨ä¸åŒçš„çŠ¶æ€ä¸‹å¯¹èµ„æºé‡‡ç”¨ä¸åŒçš„ç­–ç•¥ï¼ˆç¼“å­˜ï¼Œä¸ç¼“å­˜ï¼Œä¼˜å…ˆç¼“å­˜ï¼Œä¼˜å…ˆç½‘ç»œç­‰ï¼‰ã€‚1234567891011// sw.js// å®‰è£…ä¹‹åå®Œæˆè§¦å‘ï¼›this.addEventListener('install', function(event) &#123; event.waitUntil(// å®‰è£…å®Œæˆä¹‹å‰éœ€è¦æ‰§è¡Œçš„ä»£ç ï¼› caches.open('v1').then(function(cache) &#123;// caches API; return cache.addAll([ // éœ€è¦ç¼“å­˜çš„èµ„æºåˆ—è¡¨; '/lib/jQuery.min.js' ]); &#125;));&#125;);service worker å®‰è£…å®Œæˆåï¼Œå¦‚æœå·²å­˜åœ¨æ—§ç‰ˆæœ¬æ­£åœ¨ä½¿ç”¨ï¼Œåˆ™ä¸ä¼šæ¿€æ´»ï¼Œç›´åˆ°æ—§ç‰ˆæœ¬åœç”¨ã€‚å¦‚æœæ—§ç‰ˆæœ¬çš„æŸäº›èµ„æºæ— éœ€å­˜åœ¨ï¼Œå¯ä»¥åœ¨ activate é˜¶æ®µå°†å…¶åˆ é™¤ã€‚123456789101112// sw.jsself.addEventListener('activate', function(event) &#123; var cacheWhitelist = ['v2']; event.waitUntil( caches.keys().then(function(keyList) &#123; return Promise.all(keyList.map(function(key) &#123; if (cacheWhitelist.indexOf(key) === -1) &#123; return caches.delete(key); &#125;&#125;)); &#125;); );&#125;);æ—¢ç„¶æ˜¯å……å½“ä»£ç†ï¼Œæ‹¦æˆªè¯·æ±‚å°±å¾ˆé‡è¦äº†ã€‚å¯¹è¯·æ±‚çš„èµ„æºå¦‚ä½•æ§åˆ¶å°†ä¼šåœ¨è¿™é‡Œå¤„ç†ã€‚1234567891011121314151617// sw.js// åŒ¹é…åˆ°èµ„æºï¼Œåˆ™è¿”å›ï¼›// æ²¡æœ‰åŒ¹é…åˆ°èµ„æºï¼Œåˆ™ä»æœåŠ¡å™¨è¯·æ±‚èµ„æºï¼Œå¹¶ç¼“å­˜èµ„æºï¼›// æ²¡æœ‰ç½‘ç»œæ—¶ï¼Œåˆ™è¿”å›é»˜è®¤çš„èµ„æºï¼›this.addEventListener('fetch', function(event) &#123; event.respondWith( caches.match(event.request).then(function(response) &#123; return response || fetch(event.request).then(function(response) &#123; return caches.open('v1').then(function(cache) &#123; cache.put(event.request, response.clone()); return response; &#125;);&#125;); &#125;).catch(function() &#123; return caches.match('/default.jpg'); &#125;); );&#125;);service worker è¦åšçš„äº‹æƒ…åŸºæœ¬å°±è¿™äº›ï¼ˆéƒ½å†™åœ¨ sw.js é‡Œäº†ï¼‰ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ³¨å†Œ service workerã€‚12345678910// app.js if ('serviceWorker' in navigator) &#123; navigator.serviceWorker.register('/sw-test/sw.js', &#123; scope: '/sw-test/' &#125;).then(function(reg) &#123; // registration worked console.log('Registration succeeded. Scope is ' + reg.scope); &#125;).catch(function(error) &#123; // registration failed console.log('Registration failed with ' + error); &#125;); &#125;åˆ°æ­¤åŸºæœ¬å®Œæˆäº†ä¸€ä¸ªå¯å®‰è£…ã€å¯ç¦»çº¿çš„ Web APPã€‚è¿˜è®°å¾—æ­¥éª¤ä¸€çš„å¯å®‰è£…ä¹ˆï¼Ÿå®‰è£…æç¤ºä¸€èˆ¬ä¼šæŒ‰ç…§ä¸€å®šçš„è§„åˆ™å¼¹å‡ºçš„ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ä¸»åŠ¨å¼•å¯¼ç”¨æˆ·å®‰è£…å‘¢ï¼Ÿé¦–å…ˆæŠŠ beforeinstallprompt é‡Œçš„äº‹ä»¶ä¿å­˜èµ·æ¥ï¼Œåœ¨ä¸€ä¸ªæ°å½“çš„æ—¶æœºè§¦å‘ã€‚12345678910111213141516 //app.js// æŠŠ event å­˜èµ·ä¾†var installPromptEvent;window.addEventListener('beforeinstallprompt', function (e) &#123; e.preventDefault() installPromptEvent = e if (installPromptEvent.prompt) &#123; document.querySelector('#install').addEventListener('click', addToHomeScreen); &#125;&#125;);function addToHomeScreen(e) &#123; if (installPromptEvent) &#123; installPromptEvent.prompt() installPromptEvent = null &#125;&#125;æ­¥éª¤ä¸‰ï¼šæ£€æµ‹ä½ çš„ PWAå®Œæˆ PWA çš„æ„å»ºåï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Chrome çš„å¼€å‘è€…å·¥å…· Audits å·¥å…·æ£€æµ‹ï¼Œé’ˆå¯¹ PWAï¼Œä¼šæœ‰ç›¸å…³çš„æç¤ºå»ºè®®ã€‚workboxåœ¨ PWA ä¸­ï¼Œ service worker æ˜¯å…³é”®ï¼Œè€Œç¼“å­˜ç­–ç•¥åˆæ˜¯é‡ä¸­ä¹‹é‡ã€‚å¯¹äºè¯·æ±‚çš„èµ„æºæ˜¯å¦ç¼“å­˜ï¼Œåˆä»¥æ€æ ·çš„å½¢å¼è¿”å›ã€‚å¦‚æœå…³ç…§åˆ°å¹¿åº¦å’Œç²’åº¦ï¼Œä¼°è®¡ä¼šå¾ˆéº»çƒ¦ã€‚Google ä¸ºå¼€å‘è€…é‡èº«æ‰“é€ äº† workboxã€‚å¸¸è§çš„ç¼“å­˜ç­–ç•¥ï¼šCacheFirstï¼ŒCacheOnlyï¼ŒNetworkFirstï¼ŒNetworkOnlyï¼ŒStaleWhileRevalidateã€‚StaleWhileRevalidateCache First (Cache Falling Back to Network)Network Only1234567891011121314151617181920// å®˜æ–¹ç¤ºä¾‹ï¼ˆéƒ¨åˆ†ï¼‰// Cache the Google Fonts stylesheets with a stale-while-revalidate strategy.workbox.routing.registerRoute( /^https:\/\/fonts\.googleapis\.com/, new workbox.strategies.StaleWhileRevalidate(&#123; cacheName: 'google-fonts-stylesheets', &#125;));workbox.routing.registerRoute( /\.(?:png|gif|jpg|jpeg|webp|svg)$/, new workbox.strategies.CacheFirst(&#123; cacheName: 'images', plugins: [ new workbox.expiration.Plugin(&#123; maxEntries: 60, maxAgeSeconds: 30 * 24 * 60 * 60, // 30 Days &#125;), ], &#125;));]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>PWA</tag>
        <tag>æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åº</tag>
        <tag>workbox</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºMVVMæ¨¡å¼ç®€å•ä»£ç å®ç°]]></title>
    <url>%2F%E5%85%B3%E4%BA%8EMVVM%E6%A8%A1%E5%BC%8F%E7%AE%80%E5%8D%95%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[åœ¨å†™ å…³äºMVCæ¨¡å¼ç®€å•ä»£ç å®ç° çš„è¿‡ç¨‹ä¸­ï¼Œè§‰å¾—æœ€éº»çƒ¦çš„å°±æ˜¯æ“ä½œ DOMã€‚æ‰€ä»¥è¿™æ¬¡å‡çº§äº†ï¼Œæ‰“ç®—ç”¨ Reactã€‚ç”¨è¿‡ React çš„åŒå­¦éƒ½çŸ¥é“ï¼ŒReact åœ¨æ›´æ–°è§†å›¾æ—¶ï¼Œå¿…é¡»è¦é€šè¿‡ setState æ–¹å¼æ”¹å˜çŠ¶æ€ï¼Œè¿™ä¸€è¿‡ç¨‹æ˜¯éœ€è¦æˆ‘ä»¬ä¸»åŠ¨è°ƒç”¨çš„ã€‚è€Œ Vue æ˜¯é€šè¿‡å¯¹ data ä¸‹çš„å˜é‡èµ‹å€¼ç›´æ¥æ›´æ–°äº†è§†å›¾ï¼ŒVue ä¹‹æ‰€ä»¥è¿™ä¹ˆç®€å•ï¼Œæ˜¯å› ä¸ºé‡‡ç”¨äº†æ•°æ®åŠ«æŒçš„æ–¹å¼ã€‚æ‰€ä»¥ï¼Œè¿™æ¬¡çš„ç›®çš„å°±æ˜¯åœ¨ React çš„åŸºç¡€ä¸Šå®ç°å’Œ Vue ç±»ä¼¼çš„æ•ˆæœã€‚å®ç°æ€è·¯å°±æ˜¯åˆ©ç”¨é«˜é˜¶ç»„ä»¶é‡Œçš„åå‘ç»§æ‰¿å¯¹åŒ…è£¹ç»„ä»¶çš„ state åŠ«æŒã€‚è¿™æ˜¯ä¸€ä¸ªç»ƒæ‰‹çš„å°é¡¹ç›®ï¼Œæ²¡è€ƒè™‘é‚£ä¹ˆå¤šã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆé—²å‘¢ï¼Œé‚£æ˜¯å› ä¸ºä¹‹å‰å†™äº† ç”¨Typeé©¯åŒ–JavaScript è¿™ç¯‡æ–‡ç« ï¼Œæ‰€ä»¥å°±æ£é¼“å‡ºè¿™ä¹ˆä¸€ä¸ªç©æ„ã€‚æ‰€æœ‰ä»£ç å¯è§github12345678910111213141516171819202122232425262728293031323334// Mvvm.tsxconst hocExtends = (WrapperComponent: ComponentClass) =&gt; ( class extends WrapperComponent &#123; constructor(props: any) &#123; super(props); &#125; render() &#123; let self = this; this.state = new Proxy(&#123; ...this.state &#125;, &#123; get: function (target, key, receiver) &#123; return Reflect.get(target, key, receiver); &#125;, set: function (target, key, value, receiver): any &#123; self.setState(&#123; [key]: value &#125;) return Reflect.set(target, key, value, receiver); &#125; &#125;) return super.render() &#125; &#125;)......filterSearchStuff(searchStuff: string): void &#123; const &#123; stuffData &#125; = this.state; let stuffItem: IStuff = stuffData.find((item: IStuff) =&gt; item.stuff === searchStuff) this.state.stuffItem = stuffItem; // this.setState(&#123; // stuffItem // &#125;) &#125;......]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>MVVM</tag>
        <tag>TypeScript</tag>
        <tag>react</tag>
        <tag>é«˜é˜¶ç»„ä»¶</tag>
        <tag>åå‘ç»§æ‰¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨Typeé©¯åŒ–JavaScript]]></title>
    <url>%2F%E7%94%A8Type%E9%A9%AF%E5%8C%96JavaScript%2F</url>
    <content type="text"><![CDATA[TypeScript å…·æœ‰ç±»å‹ç³»ç»Ÿï¼Œä¸”æ˜¯ JavaScript çš„è¶…é›†ã€‚å®ƒå¯ä»¥ç¼–è¯‘æˆæ™®é€šçš„ JavaScript ä»£ç ã€‚TypeScript æ”¯æŒä»»æ„æµè§ˆå™¨ï¼Œä»»æ„ç¯å¢ƒï¼Œä»»æ„ç³»ç»Ÿå¹¶ä¸”æ˜¯å¼€æºçš„ã€‚ä½œä¸ºå¼±ç±»å‹ã€åŠ¨æ€å‹è¯­è¨€ï¼ŒJavaScript å°±åƒæœªé©¯åŒ–çš„é‡é©¬ä¸€æ ·ã€‚æ¯ä¸ªäººéƒ½èƒ½ä¸Šå»åä¸¤ä¸‹ï¼Œä½†æ˜¯çœŸæ­£èƒ½å¤Ÿé©¾é©­çš„åªèƒ½æ˜¯ä¸ªä¸­å¥½æ‰‹ã€‚è¿‘å‡ å¹´ï¼Œå‰ç«¯ç»å†äº†å¿«é€Ÿçš„å‘å±•å·²ç»ä¸å†æ˜¯ä»¥å‰éšä¾¿ç©ç©çš„å°ç©æ„äº†ã€‚é¢å¯¹è¶Šæ¥è¶Šå¤§å‹ã€è¶Šæ¥è¶ŠæŒä¹…çš„é¡¹ç›®æ¥è¯´ï¼Œè¿™ç§å®½æ¾çš„æ–¹å¼åè€Œæˆäº†é˜»ç¢ã€‚ä¸œè¥¿åšå¤§äº†ï¼Œéšä¹‹è€Œæ¥çš„å°±æ˜¯å„ç§è§„çŸ©è§„çŸ©æ˜¯ä»ç»éªŒä¸­æ€»ç»“ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ºäº†æœæ›´å¥½çš„æ–¹å‘å‘å±•ï¼Œå°±æ¯”å¦‚ç¼–ç¨‹é‡Œçš„è®¾è®¡åŸåˆ™å’Œè®¾è®¡æ¨¡å¼ã€‚ã€ŒMan maketh mannersã€ï¼Œè®°å¾—ç‹ç‰Œç‰¹å·¥é‡Œï¼Œä¸»è§’ä»¬åœ¨æ•™è‚²åˆ«äººçš„æ—¶å€™æ€»å–œæ¬¢è¯´è¿™ä¹ˆä¸€å¥è¯ï¼Œã€Œä¸çŸ¥ç¤¼ï¼Œæ— ä»¥ç«‹ä¹Ÿã€ã€‚åœ¨ TypeScript é‡Œï¼Œã€Œç¤¼ã€å°±æ˜¯ Typeï¼ŒType å°±æ˜¯è§„çŸ©ã€‚Typescript é€šè¿‡ç±»å‹æ³¨è§£æä¾›ç¼–è¯‘æ—¶çš„é™æ€ç±»å‹æ£€æŸ¥ï¼Œæå‰å‘ç°é”™è¯¯ï¼ŒåŒæ—¶ä¹Ÿæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚TypeScript é‡Œçš„ç±»å‹æ³¨è§£æ˜¯ä¸€ç§è½»é‡çº§çš„ä¸ºå‡½æ•°æˆ–å˜é‡æ·»åŠ çº¦æŸçš„æ–¹å¼åœ¨ JavaScript é‡Œï¼Œå˜é‡ç”¨äºåœ¨ç‰¹å®šæ—¶é—´å­˜å‚¨ç‰¹å®šå€¼ï¼Œå…¶å€¼åŠæ•°æ®ç±»å‹å¯ä»¥åœ¨è„šæœ¬çš„ç”Ÿå‘½å‘¨æœŸå†…æ”¹å˜ã€‚è€Œåœ¨ TypeScript ä¸­ï¼Œæ ‡è¯†ç¬¦ï¼ˆå˜é‡ã€å‡½æ•°ã€ç±»ã€å±æ€§çš„åå­—ï¼Œæˆ–è€…å‡½æ•°å‚æ•°ï¼‰åœ¨å…¶å®šä¹‰æ—¶å°±æŒ‡å®šäº†ç±»å‹ï¼ˆæˆ–ç±»å‹æ¨è®ºå‡ºï¼‰ã€‚åœ¨ç¼–è¯‘é˜¶æ®µï¼Œè‹¥å‡ºç°äº†æœŸæœ›ä¹‹å¤–çš„ç±»å‹ï¼ŒTypeScript å°†ä¼šæç¤ºæŠ›é”™ï¼ˆè™½ç„¶æœ‰æ—¶å€™å¹¶ä¸ä¼šå½±å“ç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼‰ã€‚åœ¨ TypeScript ä¸­ï¼Œé€šè¿‡ : ç±»å‹ çš„æ–¹å¼ä¸ºæ ‡è¯†ç¬¦æ·»åŠ ç±»å‹æ³¨è§£ã€‚1234567891011121314151617let isDone: boolean = false; // booleanï¼›let decLiteral: number = 6; // numberï¼›let name: string = "bob"; // stringï¼›let list: number[] = [1, 2, 3]; // Array&lt;number&gt;;let list: Array&lt;number&gt; = [1, 2, 3]; // Array&lt;number&gt;;let x: [string, number]; // tuple;enum Color &#123;Red, Green, Blue&#125; // enum;let notSure: any = 4; // any;function warnUser(): void &#123; // void; console.log("This is my warning message");&#125;let u: undefined = undefined; // undefined;let n: null = null; // null;function error(message: string): never &#123; // never; throw new Error(message);&#125;let obj: object = &#123;&#125;; // objectåœ¨ TypeScript ä¸­ï¼Œæ•°ç»„ï¼ˆArrayï¼‰æ˜¯åˆå¹¶äº†ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œå…ƒç»„ï¼ˆtupleï¼‰åˆå¹¶äº†ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚ï¼ˆArray&lt;any&gt;,ä¹Ÿå¯ä»¥åˆå¹¶ä¸åŒç±»å‹çš„æ•°æ®ï¼‰ç±»å‹æ³¨è§£ä¸­çš„ç±»å‹å°±æ˜¯ä»¥ä¸Šçš„é‚£äº›ç±»å‹ä¹ˆï¼ŸTypeScript çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯å¯¹å€¼æ‰€å…·æœ‰çš„ç»“æ„è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå®ƒæœ‰æ—¶è¢«ç§°åšã€Œé¸­å¼è¾¨å‹æ³•ã€æˆ–ã€Œç»“æ„æ€§å­ç±»å‹åŒ–ã€ã€‚ä¸Šé¢çš„åªæ˜¯åŸºç¡€ç±»å‹ï¼Œå®ƒä»¬æ˜¯å¡«å……ç»“æ„çš„åŸºæœ¬å•ä½è€Œå·²ã€‚åœ¨ TypeScript é‡Œï¼Œç±»å‹ä¸åº”è¯¥è¿˜åœç•™åœ¨ JavaScript æ•°æ®ç±»å‹çš„å±‚é¢ä¸Šï¼Œè¿˜åº”åŒ…æ‹¬åŸºç¡€ç±»å‹çš„ç»„åˆç»“æ„åŒ–ã€‚1234567891011let str: 'Hello'; // å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ï¼›str = 'Hi' // errorï¼›let something: 'Hello' | 1; // è”åˆç±»å‹ï¼›something = 1 // okï¼›let obj: &#123;name: string, age: number&#125;; // å¯¹è±¡å­—é¢é‡obj = &#123; name: "å¤œæ›‰å®¸", age: 18,&#125;æ¢å¥è¯è¯´ï¼Œåœ¨å®šä¹‰æ ‡è¯†ç¬¦çš„æ—¶å€™ï¼Œç”¨ä¸€ä¸ªç±»å‹æ¨¡æ¿æ¥æè¿°æ ‡è¯†ç¬¦çš„ç»“æ„å’Œå†…éƒ¨ç±»å‹ç»„æˆã€‚å³ç±»å‹æ¨¡æ¿å°±æ˜¯æ ‡è¯†ç¬¦æœŸæœ›çš„æ ·å­ã€‚ä»£ç æ˜¯ç»™äººçœ‹çš„ï¼Œé¡ºä¾¿æ˜¯ç»™æœºå™¨è¿è¡Œçš„éƒ½è¯´å¥½çš„ä»£ç å°±è¯¥è¿™æ ·ã€‚ä½†æ˜¯åœ¨ TypeScript é‡Œï¼Œè¿™ä¸¤å¥è¯å¯ä»¥é¢ å€’ä¸‹é¡ºåºã€‚ä»£ç æ˜¯ç»™æœºå™¨è¿è¡Œçš„ï¼Œé¡ºä¾¿æ˜¯ç»™äººçœ‹çš„ã€‚åœ¨è°ˆåˆ° TypeScript çš„å¥½å¤„æ—¶ï¼Œæœ‰ä¸€æ¡å¾ˆé‡è¦ï¼Œå¢å¼ºäº†ç¼–è¯‘å™¨å’Œ IDE çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä»£ç è¡¥å…¨ã€æ¥å£æç¤ºã€è·³è½¬åˆ°å®šä¹‰ã€é‡æ„ç­‰ã€‚è€Œè¿™äº›ä¹Ÿå¾—ç›Šäºæ ‡è¯†ç¬¦çš„ç±»å‹çš„ç²¾ç¡®åˆ’åˆ†æˆ–è¡¨è¿°ï¼Œæ‰€ä»¥æƒ³å†™å¥½ Typescript ä»£ç ï¼Œå°±åº”è¯¥ç²¾ç¡®æè¿°æ ‡è¯†ç¬¦çš„ç±»å‹ï¼Œè€Œä¸æ˜¯éšå¤„å®‰æ”¾çš„ anyã€‚è¡¨è¿°å¤æ‚ç»“æ„æœ€å¸¸ç”¨çš„æ–¹å¼ â€”â€”â€”â€” æ¥å£æ¥å£æ˜¯ JavaScript ä¸­æ²¡æœ‰çš„ä¸œè¥¿ï¼Œæ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œå¯ä»¥æŠ½è±¡è¡Œä¸ºï¼Œä¹Ÿå¯ä»¥æè¿°ã€Œå¯¹è±¡çš„å½¢çŠ¶ã€ã€‚å¯¹äºéœ€è¦å¤ç”¨çš„ç»“æ„ç±»å‹ï¼Œå°±å¯ä»¥ä½¿ç”¨æ¥å£çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯å¯¹è±¡å­—é¢é‡å†…è”å¼æ³¨è§£ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566interface Iperson &#123; // å¯¹è±¡ name: string, age: number, sayHi(): void,&#125;let obj: Iperson = &#123; name: "å¤œæ›‰å®¸", age: 18, sayHi: ()=&gt; &#123;&#125;&#125;/* â€”â€”â€”â€”â€”â€”äººå·¥åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€” */interface Iperson &#123; // å‡½æ•°ç±»å‹ (name: string, age: number): string&#125;let person: Iperson = (name, age) =&gt; &#123; return `$&#123;name&#125;,$&#123;age&#125;`&#125;person('å¤œæ›‰å®¸', 18);/* â€”â€”â€”â€”â€”â€”äººå·¥åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€” */interface Iperson &#123; // æ„é€ å‡½æ•° new (name: string, age: number)&#125;let person: Iperson = class Person &#123; name: string; age: number; constructor(name, age) &#123; this.name = name; this.age = age; &#125;&#125;new person('å¤œæ›‰å®¸', 18);/* â€”â€”â€”â€”â€”â€”äººå·¥åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€” */interface Iperson &#123; // ç±»å®ç°æ¥å£ name: string, age: number,&#125;class Person implements Iperson&#123; name = 'å¤œæ›‰å®¸' age = 18&#125;new Person()/* â€”â€”â€”â€”â€”â€”äººå·¥åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€” */interface Iperson &#123; // æ··åˆç±»å‹ (name, age): string, age: number,&#125;function Person(): Iperson &#123; let me = &lt;Iperson&gt;function (name, age): string &#123; return `$&#123;name&#125;, $&#123;age&#125;` &#125; me.age = 18; return me;&#125;let person = Person();person('å¤œæ›‰å®¸', 18)person.ageä»¥ä¸Šæ˜¯æ¥å£åœ¨å¯¹è±¡ã€æ™®é€šå‡½æ•°ã€æ„é€ å‡½æ•°ã€ç±»ä¸Šçš„è¡¨ç°ã€‚å¯¹äºæ¥å£çš„å±æ€§ï¼Œè¿˜å¯ä»¥åšåˆ°ç²¾ç¡®æ§åˆ¶ï¼Œå¦‚å¯é€‰å±æ€§ã€ä»»æ„å±æ€§ã€åªè¯»å±æ€§ç­‰ã€‚æœ€åï¼Œæ¥å£é—´å¯ä»¥ç»§æ‰¿ï¼Œæ¥å£è¿˜å¯ä»¥ç»§æ‰¿ç±»ã€‚å½“æ¥å£ç»§æ‰¿ç±»æ—¶ï¼Œå®ƒä¼šç»§æ‰¿ç±»çš„æˆå‘˜ä½†ä¸åŒ…æ‹¬å…¶å®ç°ï¼Œä½†æ˜¯è‹¥ç»§æ‰¿äº†æ‹¥æœ‰ç§æœ‰æˆ–å—ä¿æŠ¤çš„æˆå‘˜ç±»æ—¶ï¼Œè¿™ä¸ªæ¥å£åªèƒ½ç”±è¿™ä¸ªç±»æˆ–å…¶å­ç±»æ¥å®ç°äº†ï¼Œè¿™ä¸ªå’Œç±»çš„è®¿é—®ä¿®é¥°ç¬¦çš„ç‰¹ç‚¹æœ‰å…³ç³»ã€‚è¯´å®Œæ¥å£ï¼Œå°±è¦è¯´è¯´ç±»äº†ï¼Œå› ä¸ºå®ƒä»¬æœ‰å¤šç›¸ä¼¼çš„åœ°æ–¹ï¼Œæ¯”å¦‚å……å½“å¯¹è±¡çš„ç±»å‹æ¨¡æ¿ï¼Œç»§æ‰¿æˆå‘˜ç­‰ã€‚ç±»åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼ŸES6 å¼•å…¥äº† Classï¼ˆç±»ï¼‰è¿™ä¸ªæ¦‚å¿µï¼Œé€šè¿‡ class å…³é”®å­—ï¼Œå¯ä»¥å®šä¹‰ç±», Class å®è´¨ä¸Šæ˜¯ JavaScript ç°æœ‰çš„åŸºäºåŸå‹çš„ç»§æ‰¿çš„è¯­æ³•ç³–. Class å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿ã€‚TypeScript é™¤äº†å®ç°äº†æ‰€æœ‰ ES6 ä¸­çš„ç±»çš„åŠŸèƒ½ä»¥å¤–ï¼Œè¿˜æ·»åŠ äº†ä¸€äº›æ–°çš„ç”¨æ³•ã€‚12345678910111213141516171819class Person &#123; static age: number = 18; constructor(public name: string, public age: number) &#123; &#125; sayHi(name: string): string&#123; return `Hi,$&#123;name&#125;` &#125;&#125;/* â€”â€”â€”â€”â€”â€” äººå·¥åˆ†å‰²çº¿ â€”â€”â€”â€”â€”â€” */var Person = /** @class */ (function () &#123; function Person(name, age) &#123; this.name = name; this.age = age; &#125; Person.prototype.sayHi = function (name) &#123; return "Hi," + name; &#125;; Person.age = 18; return Person;&#125;());TypeScript ç¼–è¯‘åï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œç±»å…¶å®å°±æ˜¯ä¸€ä¸ªå‡½æ•°è€Œå·²ã€‚åœ¨ ES6 ä¹‹å‰ï¼Œé€šè¿‡æ„é€ å‡½æ•°çš„æ–¹å¼ new å‡ºå¯¹è±¡ï¼Œé€ å‡ºçš„å¯¹è±¡æ‹¥æœ‰å’Œå…±äº«äº†æ„é€ å‡½æ•°å†…éƒ¨ç»‘å®šçš„å±æ€§æ–¹æ³•åŠåŸå‹ä¸Šçš„å±æ€§æ–¹æ³•ã€‚TypeScript é‡Œçš„æ¥å£æè¿°çš„ç±»ç±»å‹å°±æ˜¯ç±»çš„å®ä¾‹éƒ¨åˆ†åº”è¯¥éµå¾ªçš„ç±»å‹æ¨¡æ¿ã€‚ä½œä¸ºç±»çš„é™æ€éƒ¨åˆ† â€”â€”â€”â€” æ„é€ å‡½æ•°ï¼Œå‡½æ•°ä¹Ÿåº”è¯¥æœ‰è‡ªå·±çš„å±æ€§ç‰¹å¾ã€‚12345678910111213141516171819interface static_person &#123; age: number, new (name: string, age: number);&#125;interface instance_person &#123; name: string, age: number, say(name: string): string&#125;let person: static_person = class Person implements instance_person&#123; static age: number = 18; constructor(public name: string, public age: number) &#123; &#125; say(name) &#123; return `Hi,$&#123;name&#125;` &#125;&#125;new person('å¤œæ›‰å®¸',18)ç”±ä»¥ä¸Šä»£ç å¯ä»¥çœ‹å‡ºï¼Œç±»çš„é™æ€éƒ¨åˆ†å’ŒåŠ¨æ€éƒ¨åˆ†éƒ½æœ‰å„è‡ªçš„ç±»å‹æ¨¡æ¿ã€‚è‹¥æ˜¯æƒ³è¦å°†ç±»è‡ªèº«ä½œä¸ºç±»å‹æ¨¡æ¿åˆè¯¥å¦‚ä½•åšå‘¢ï¼Ÿæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ typeof ç±» çš„æ–¹å¼ã€‚123456789101112131415class Person &#123; static age: number = 18; constructor(public name: string, public age: number) &#123;&#125; say(name) &#123; return `Hi,$&#123;name&#125;` &#125;&#125;class Man &#123; static age: number; constructor(public name: string, public age: number) &#123;&#125; public sex = 'man'; say(name)&#123;return `Hi, $&#123;this.sex&#125;,$&#123;name&#125;`&#125;&#125;let man: typeof Person = Man;new man('å¤œæ›‰å®¸', 18)ç±»é™æ€éƒ¨åˆ†ã€ç±»å®ä¾‹éƒ¨åˆ†å’Œç±»è‡ªèº«ï¼Œå®ƒä»¬éƒ½æœ‰è‡ªå·±éœ€è¦éµå¾ªçš„ç±»å‹æ¨¡æ¿ã€‚çŸ¥é“äº†å…¶ä¸­çš„åŒºåˆ«ï¼Œä¹Ÿå°±èƒ½æ›´å¥½å¾—ç†è§£ç±»ä½œä¸ºæ¥å£ä½¿ç”¨ã€æ¥å£ç»§æ‰¿ç±»ç­‰ç”¨æ³•äº†ã€‚12345678910111213class Person &#123; name: string; age: number;&#125;interface Man extends Person &#123; sex: 'man'&#125;let man: Man = &#123; name: 'å¤œæ›‰å®¸', age: 18, sex: 'man'&#125;é™¤äº†ç»“æ„ä¸Šçš„çº¦æŸï¼Œç±»ä¹Ÿé€šè¿‡è®¿é—®ä¿®é¥°ç¬¦å¯¹å…¶æˆå‘˜åšäº†çº¦æŸï¼ŒåŒ…æ‹¬ publicï¼Œprivateï¼Œprotectedï¼Œreadonlyç­‰ã€‚1234567891011121314class Person &#123; private name: string; protected age: number;&#125;interface SayPerson extends Person &#123; sayHi(): string&#125;class Human extends Person implements SayPerson &#123; sayHi() &#123; return `Hi, $&#123;this.age&#125;` &#125;&#125;çŸ¥é“äº†è®¿é—®ä¿®é¥°ç¬¦çš„ç‰¹ç‚¹ï¼Œä¹Ÿå°±æ˜ç™½ä¹‹å‰è¯´è¿‡çš„ã€Œå½“æ¥å£ç»§æ‰¿ç±»æ—¶ï¼Œå®ƒä¼šç»§æ‰¿ç±»çš„æˆå‘˜ä½†ä¸åŒ…æ‹¬å…¶å®ç°ï¼Œä½†æ˜¯è‹¥ç»§æ‰¿äº†æ‹¥æœ‰ç§æœ‰æˆ–å—ä¿æŠ¤çš„æˆå‘˜ç±»æ—¶ï¼Œè¿™ä¸ªæ¥å£åªèƒ½ç”±è¿™ä¸ªç±»æˆ–å…¶å­ç±»æ¥å®ç°äº†ã€ã€‚å¦‚æœä¸€ä¸ªæ ‡è¯†ç¬¦çš„ç±»å‹ä¸ç¡®å®šï¼Œè¯¥å¦‚ä½•ï¼Ÿå¯¹äºä¸€ä¸ªå†…éƒ¨é€»è¾‘ç›¸å·®ä¸å¤§ï¼Œå…¥åƒç±»å‹ä¸åŒçš„å‡½æ•°æ¥è¯´ï¼Œæ²¡å¿…è¦å› ä¸ºå‚æ•°ç±»å‹ä¸åŒè€Œé‡å¤å¤§éƒ¨åˆ†ä»£ç ï¼Œè¿™æ—¶å°±éœ€è¦ä¸€ä¸ªç±»å‹å˜é‡æ¥ä»£æ›¿ã€‚1234567891011121314151617181920212223242526272829/* èŒƒå‹å‡½æ•° */class Person &#123; className = 'person'&#125;class Human &#123; classname = 'human'&#125;function create&lt;T&gt;(Class: new () =&gt; T) : T&#123; return new Class();&#125;create(Person).className/* èŒƒå‹æ¥å£ */interface Creat&lt;T&gt;&#123; (Class: new () =&gt; T):T&#125;class Person &#123; className = 'person'&#125;class Human &#123; classname = 'human'&#125;function create&lt;T&gt;(Class: new () =&gt; T) : T&#123; return new Class();&#125;let person: Creat&lt;Person&gt; = create;person(Person) // OKperson(Human) // Erroræ³¨æ„äº†ï¼Œç±»å‹å˜é‡è¡¨ç¤ºçš„æ˜¯ç±»å‹ï¼Œè€Œä¸æ˜¯å€¼ã€‚ç±»å‹å˜é‡é‡Œå¡çš„å¯èƒ½æ˜¯ä»»æ„ä¸€ä¸ªç±»å‹ï¼Œä½†æ ¹æ®åœºæ™¯ï¼Œæˆ‘ä»¬æœ€å¥½èƒ½å¤Ÿæ›´åŠ ç²¾ç¡®çš„æè¿°æ ‡è¯†ç¬¦çš„ç±»å‹ã€‚åº”äº†ä¸Šé¢çš„ä¸€å¥è¯ï¼Œã€Œæƒ³å†™å¥½ Typescript ä»£ç ï¼Œå°±åº”è¯¥ç²¾ç¡®æè¿°æ ‡è¯†ç¬¦çš„ç±»å‹ï¼Œè€Œä¸æ˜¯éšå¤„å®‰æ”¾çš„ anyã€ã€‚æ‰€ä»¥å¯¹äºæ³›å‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åšäº›çº¦æŸï¼Œå³ï¼Œæ³›å‹çº¦æŸã€‚12345678910111213141516class Person &#123; name: string; age: number;&#125;interface Man extends Person &#123; sex: 'man'&#125;function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K): any &#123; return obj[key]&#125;let man: Man = &#123; name: 'å¤œæ›‰å®¸', age: 18, sex: 'man'&#125;getProperty(man, 'sex')ç”¨ç±»å‹å˜é‡æ¥æ³¨é‡Šæ ‡è¯†ç¬¦çš„ç±»å‹æœ‰æ—¶ä¼šè§‰å¾—è¿˜æ˜¯ä¸å¤Ÿç²¾ç¡®ã€‚çŸ¥é“æ ‡è¯†ç¬¦çš„å¯èƒ½ç±»å‹ï¼Œç„¶åç»„åˆèµ·æ¥123456789101112131415161718192021222324252627282930313233class Man &#123; name: string; age: number; study():string &#123;return ''&#125;&#125;class Women &#123; name: string; age: number; sing():string&#123;return ''&#125; &#125;function instance(Class: Man | Women) &#123; if ((&lt;Man&gt;Class).study) &#123; return (&lt;Man&gt;Class).study() &#125; else &#123; return (&lt;Women&gt;Class).sing() &#125;&#125;let man:Man = &#123; name: 'å¤œæ›‰å®¸', age: 18, study() &#123; return 'æˆ‘çˆ±å­¦ä¹ '; &#125;&#125;let women: Women = &#123; name: 'godness', age: 17, sing() &#123; return 'æˆ‘çˆ±å”±æ­Œ' &#125;&#125;instance(man) // æˆ‘çˆ±å­¦ä¹ instance(women) // æˆ‘çˆ±å”±æ­Œæœ‰äº¤å‰ç±»å‹ã€è”åˆç±»å‹ç­‰ï¼Œè€Œç±»å‹å‘½ååˆ™æ˜¯æ›´çµæ´»çš„ç±»å‹ç»„ç»‡æ–¹å¼ã€‚123456789101112// å®˜ç½‘ğŸŒ°type Name = string;type NameResolver = () =&gt; string;type NameOrResolver = Name | NameResolver;function getName(n: NameOrResolver): Name &#123; if (typeof n === 'string') &#123; return n; &#125; else &#123; return n(); &#125;&#125;ç±»å‹å¤šäº†ä¹‹åï¼Œæœ‰æ—¶å€™éœ€è¦å¯¹æŸä¸€ç±»å‹åšç‰¹åˆ«å¤„ç†ï¼Œäºæ˜¯æœ‰ç±»å‹æ–­è¨€ ï¼ˆ&lt;ç±»å‹&gt;ï¼‰ å’Œç±»å‹å®ˆå«ï¼ˆtypeof, instanceof, inç­‰ï¼‰ã€‚è¿˜å¯ä»¥é€šè¿‡æ¡ä»¶åˆ¤æ–­æ¥é€‰æ‹©å“ªç§ç±»å‹ã€‚1234// å®˜ç½‘ğŸŒ°declare function f&lt;T extends boolean&gt;(x: T): T extends true ? string : number;// Type is 'string | numberlet x = f(Math.random() &lt; 0.5)å½“ç„¶äº†ï¼Œä»¥ä¸Šä»£ç å¥½å¤šçš„æ ‡è¯†ç¬¦æ˜¯æ²¡æœ‰å¿…è¦æ·»åŠ ç±»å‹æ³¨è§£çš„ã€‚ç±»å‹æ¨æ–­ï¼Œå³ï¼Œç±»å‹æ˜¯åœ¨å“ªé‡Œå¦‚ä½•è¢«æ¨æ–­çš„ç±»å‹æ³¨è§£ä¹Ÿä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œå³ä½¿æœ‰äº›åœ°æ–¹ä½ ä¸æ·»åŠ ç±»å‹æ³¨è§£ï¼ŒTypeScript ä¹Ÿä¼šé€šè¿‡ä¸Šä¸‹æ–‡å½’ç±»ç­‰æ–¹å¼æ‰¾åˆ°æœ€ä½³é€šç”¨ç±»å‹ã€‚]]></content>
      <categories>
        <category>è¿™ä¸ªæƒ³æ³•ä¸ä¸€å®šå¯¹</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæ‰‹è®°ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F%E9%9A%8F%E6%89%8B%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[NET::ERR_CERT_DATE_INVALIDæè¿°ï¼šå¼€å‘ç¯å¢ƒï¼Œæ¥å£è¯·æ±‚è½¬ httpsï¼ŒChrome å¼€å‘è€…å·¥å…·æ§åˆ¶å°æŠ¥é”™ ## NET::ERR_CERT_DATE_INVALIDã€‚è§£å†³æ–¹æ¡ˆï¼šChrome HSTSå¼‚å¸¸å¯¼è‡´æ— æ³•è®¿é—®HTTPSç½‘é¡µæ¶‰åŠç‚¹ï¼šList of Chrome URLsã€hstsChromeæ’ä»¶æœ¬åœ°å¯¼å‡ºæè¿°ï¼šç”±äºæŸäº›åŸå› ï¼ŒChrome åº”ç”¨å•†åº—æ— æ³•æµè§ˆã€‚å¯¹å·²ä¸‹è½½çš„ Chrome æ’ä»¶å¯¼å‡ºå®‰è£…ã€‚è§£å†³æ–¹æ¡ˆï¼šåœ°å€æ è¾“å…¥ chrome://extensions/, å¼€å¯å¼€å‘è€…æ¨¡å¼ï¼Œæ‰“å¼€å¾…å¯¼å‡ºæ’ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œè®°å½•æ‰©å±•ç¨‹åº IDã€‚åœ°å€æ è¾“å…¥ chrome://version/, è®°å½•ä¸ªäººèµ„æ–™è·¯å¾„ã€‚æ‰©å±•ç¨‹åºè·¯å¾„å³ä¸ºï¼šä¸ªäººèµ„æ–™è·¯å¾„ + â€˜Extensionsâ€™ + æ‰©å¼ ç¨‹åº IDã€‚ç»ˆç«¯è¿›å…¥æ‹“å±•ç¨‹åºè·¯å¾„ç›®å½•ï¼Œç›®å½•ä¸‹è¿˜æœ‰æ‰©å±•ç¨‹åºçš„å¯¹åº”ç‰ˆæœ¬ç›®å½•ï¼Œè®°å½•æ‰©å±•ç¨‹åºç‰ˆæœ¬ç›®å½•ã€‚å›åˆ°æ‰©å±•ç¨‹åºè¯¦æƒ…é¡µï¼Œç‚¹å‡»æ‰“åŒ…ç¨‹åºï¼Œè¾“å…¥æ‰©å±•ç¨‹åºç‰ˆæœ¬ç›®å½•å¹¶ç‚¹å‡»æ‰“åŒ…æ‰©å±•ç¨‹åºã€‚è¿›å…¥æ‰©å±•ç¨‹åºè·¯å¾„ï¼Œæ‹·è´ crx æ ¼å¼æ–‡ä»¶å³å¯ã€‚ï¼ˆ prm ä¸ºå¯†é’¥æ–‡ä»¶ï¼‰æ¶‰åŠç‚¹ï¼šæ— Cookieã€è·¨åŸŸè¯·æ±‚ã€è¯·æ±‚æ–¹å¼æè¿°ï¼šä¸åŒçš„è¯·æ±‚æ–¹å¼ï¼ˆfetchã€axiosç­‰ï¼‰è·¨åŸŸè¯·æ±‚æ—¶ï¼Œæ˜¯å¦ä¸»åŠ¨æºå¸¦ Cookieè§£å†³æ–¹æ¡ˆï¼šCookieçš„è®¾ç½®ã€è¯»å–ä»¥åŠæ˜¯å¦è‡ªåŠ¨æºå¸¦é—®é¢˜æ¶‰åŠç‚¹ï¼šFetchã€XMLHttpRequestgithub èµ„æºä¸‹è½½æ…¢æè¿°ï¼šGitHub clone å¼€æºé¡¹ç›®ï¼Œå›½å†…ä¸‹è½½èµ„æºæ…¢å¯èƒ½è§£å†³æ–¹æ¡ˆï¼šç®€å•æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ï¼Œä¿®æ”¹ host æ–‡ä»¶ï¼Œæ·»åŠ  192.30.253.112 github.comã€‚æœ¬åœ°å¼€å‘ç¯å¢ƒè·å– Cookieæè¿°ï¼šåç«¯æœåŠ¡éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒæ—¶ï¼Œæœ¬åœ°å¼€å‘æ— æ³•è·å–éåŒåŸŸåä¸‹çš„ Cookieè§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹ host æ–‡ä»¶ï¼ŒDNS è§£æï¼ŒIP æ˜ å°„åˆ°ç›¸åº”çš„å­åŸŸåä¸‹ã€‚123456sudo vi /etc/hosts# hostsæ–‡ä»¶# æ¯”å¦‚æµ‹è¯•åœ°å€ test.domain.com127.0.0.1 local.domain.com]]></content>
      <categories>
        <category>å¤©å‘ä¹Ÿå¡«å‘</category>
      </categories>
      <tags>
        <tag>éšæ‰‹è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»æ‡‚UMLç±»å›¾]]></title>
    <url>%2F%E8%AF%BB%E6%87%82UML%E7%B1%BB%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[ç±»çš„æè¿°åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œç±»æ˜¯ä¸€ç§é¢å‘å¯¹è±¡è®¡ç®—æœºç¼–ç¨‹è¯­è¨€çš„æ„é€ ï¼Œæ˜¯åˆ›å»ºå¯¹è±¡çš„è“å›¾ï¼Œæè¿°äº†æ‰€åˆ›å»ºçš„å¯¹è±¡å…±åŒçš„å±æ€§å’Œæ–¹æ³•ã€‚ç±»çš„æ›´ä¸¥æ ¼çš„å®šä¹‰æ˜¯ç”±æŸç§ç‰¹å®šçš„å…ƒæ•°æ®æ‰€ç»„æˆçš„å†…èšçš„åŒ…ã€‚å®ƒæè¿°äº†ä¸€äº›å¯¹è±¡çš„è¡Œä¸ºè§„åˆ™ï¼Œè€Œè¿™äº›å¯¹è±¡å°±è¢«ç§°ä¸ºè¯¥ç±»çš„å®ä¾‹ã€‚ç±»æœ‰æ¥å£å’Œç»“æ„ã€‚æ¥å£æè¿°äº†å¦‚ä½•é€šè¿‡æ–¹æ³•ä¸ç±»åŠå…¶å®ä¾‹äº’æ“ä½œï¼Œè€Œç»“æ„æè¿°äº†ä¸€ä¸ªå®ä¾‹ä¸­æ•°æ®å¦‚ä½•åˆ’åˆ†ä¸ºå¤šä¸ªå±æ€§ã€‚ç±»æ˜¯ä¸æŸä¸ªå±‚çš„å¯¹è±¡çš„æœ€å…·ä½“çš„ç±»å‹ã€‚ç±»è¿˜å¯ä»¥æœ‰è¿è¡Œæ—¶è¡¨ç¤ºå½¢å¼ï¼ˆå…ƒå¯¹è±¡ï¼‰ï¼Œå®ƒä¸ºæ“ä½œä¸ç±»ç›¸å…³çš„å…ƒæ•°æ®æä¾›äº†è¿è¡Œæ—¶æ”¯æŒã€‚ç±»çš„UMLè¡¨ç¤ºç±»å›¾æ˜¯é¢å‘å¯¹è±¡ç³»ç»Ÿå»ºæ¨¡ä¸­æœ€å¸¸ç”¨å’Œæœ€é‡è¦çš„å›¾ï¼Œä¸»è¦æ˜¯ç”¨æ¥æ˜¾ç¤ºç³»ç»Ÿä¸­çš„ç±»ã€æ¥å£ä»¥åŠå®ƒä»¬ä¹‹é—´çš„é™æ€ç»“æ„å’Œå…³ç³»çš„ä¸€ç§é™æ€æ¨¡å‹ã€‚ç±»å›¾æè¿°ä¸€ç±»çš„å±æ€§å’Œæ“ä½œï¼Œä¹Ÿå¯¹ç³»ç»Ÿçš„çº¦æŸã€‚ç±»å›¾æ˜¾ç¤ºé›†åˆçš„ç±»ï¼Œæ¥å£ï¼Œå…³è”ï¼Œåä½œå’Œçº¦æŸï¼Œå®ƒä¹Ÿè¢«ç§°ä¸ºä½œä¸ºç»“æ„å›¾ã€‚åœ¨ç±»çš„UMLå›¾ä¸­ï¼Œä½¿ç”¨é•¿æ–¹å½¢æè¿°ä¸€ä¸ªç±»çš„ä¸»è¦æ„æˆï¼Œé•¿æ–¹å½¢å‚ç›´åœ°åˆ†ä¸ºä¸‰å±‚ï¼Œåˆ†åˆ«æ”¾ç½®ç±»çš„åç§°ã€å±æ€§å’Œæ–¹æ³•ã€‚ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç±»åã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯ç±»çš„å±æ€§ï¼šå³ç±»çš„æˆå‘˜å˜é‡ï¼Œç±»çš„æ€§è´¨ã€‚è¡¨ç¤ºæ–¹å¼ä¸ºï¼šå¯è§æ€§ åç§°ï¼šç±»å‹ [= ç¼ºçœå€¼]å¯è§æ€§è¡¨ç¤ºè¯¥å±æ€§å¯¹äºç±»å¤–çš„å…ƒç´ æ˜¯å¦å¯è§ï¼ŒåŒ…æ‹¬å…±æœ‰ï¼ˆpublicï¼‰ã€ç§æœ‰ï¼ˆprivateï¼‰å’Œå—ä¿æŠ¤ï¼ˆprotectedï¼‰ï¼Œåœ¨ç±»å›¾ä¸­åˆ†åˆ«è¡¨ç¤ºä¸º +ã€- å’Œ #ã€‚ç±»å‹è¡¨ç¤ºå±æ€§çš„æ•°æ®ç±»å‹ã€‚ç¼ºçœå€¼è¡¨ç¤ºå±æ€§çš„åˆå§‹å€¼ï¼Œå¯é€‰ã€‚ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ç±»çš„æ–¹æ³•ï¼šå³ç±»çš„æˆå‘˜æ–¹æ³•ï¼Œæ“ä½œæˆ–è¡Œä¸ºã€‚è¡¨ç¤ºæ–¹å¼ä¸ºï¼šå¯è§æ€§ åç§°ï¼ˆå‚æ•°åˆ—è¡¨ï¼‰[: è¿”å›å€¼]ã€‚å¯è§æ€§åŒç±»çš„å±æ€§ã€‚å‚æ•°åˆ—è¡¨è¡¨ç¤ºæ–¹æ³•çš„å‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚è¿”å›ç±»å‹è¡¨ç¤ºæ–¹æ³•è¿”å›å€¼ç±»å‹ï¼Œå¯é€‰ã€‚ç±»å›¾å¸¸è§å…³ç³»åœ¨UMLç±»å›¾ä¸­ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§å…³ç³»:æ³›åŒ–ï¼ˆGeneralizationï¼‰, å®ç°ï¼ˆRealizationï¼‰,ç»„åˆ(Composition)ï¼Œèšåˆï¼ˆAggregationï¼‰,å…³è”ï¼ˆAssociationï¼‰,ä¾èµ–(Dependency)ã€‚æ³›åŒ–ï¼ˆGeneralizationï¼‰ï¼šæ˜¯çˆ¶ç±»ä¸å­ç±»ä¹‹é—´çš„å…³ç³»ï¼Œæè¿°çš„æ˜¯ is a king of(is a)çš„å…³ç³»ã€‚è¡¨ç°ä¸ºç»§æ‰¿éæŠ½è±¡ç±»ã€‚å®ç°ï¼ˆRealizationï¼‰ï¼šæ˜¯ç±»ä¸æ¥å£çš„å…³ç³»ï¼Œè¡¨ç¤ºä¸ºç±»æ˜¯æ¥å£æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºçš„å®ç°ã€‚è¡¨ç°ä¸ºç»§æ‰¿æŠ½è±¡ç±»ã€‚ç»„åˆ(Composition)ï¼šæ˜¯ç±»ä¹‹é—´æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ã€‚åœ¨ç»„åˆå…³ç³»ä¸­ï¼Œæ•´ä½“å¯¹è±¡è´Ÿè´£æˆå‘˜å¯¹è±¡çš„åˆ›å»ºä»¥åŠç”Ÿå‘½å‘¨æœŸï¼Œå³å½“æ•´ä½“å¯¹è±¡è¢«é”€æ¯æ—¶æˆå‘˜å¯¹è±¡ä¹Ÿä¼šä¸å¤å­˜åœ¨ã€‚èšåˆï¼ˆAggregationï¼‰ï¼šæ˜¯ç±»ä¹‹é—´æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ã€‚åœ¨èšåˆå…³ç³»ä¸­ï¼Œæˆå‘˜å¯¹è±¡æ˜¯æ•´ä½“å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯æˆå‘˜å¯¹è±¡å¯ä»¥è„±ç¦»æ•´ä½“å¯¹è±¡ç‹¬ç«‹å­˜åœ¨ã€‚å…³è”ï¼ˆAssociationï¼‰ï¼šæ˜¯ç±»ä¹‹é—´çš„ç»“æ„å…³ç³»ï¼Œç”¨äºè¡¨ç¤ºä¸€ç±»å¯¹è±¡ä¸å¦ä¸€ç±»å¯¹è±¡ä¹‹é—´æœ‰è”ç³»ã€‚å…³è”å…³ç³»é»˜è®¤æ˜¯åŒå‘çš„ï¼Œè¡¨ç¤ºç›¸äº’çŸ¥é“ï¼Œä¹Ÿå¯ä»¥å•å‘å…³è”ã€è‡ªå…³è”ã€å¤šé‡æ€§å…³è”ã€‚ä¾èµ–(Dependency)ï¼šæ˜¯æè¿°ä¸€ä¸ªå¯¹è±¡åœ¨è¿è¡ŒæœŸé—´ä¼šç”¨åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„å…³ç³»ï¼ˆä½¿ç”¨å…³ç³»ï¼‰ï¼Œé€šå¸¸åœ¨è¿è¡ŒæœŸé—´äº§ç”Ÿï¼Œå¹¶ä¸”éšç€è¿è¡Œæ—¶çš„å˜åŒ–ï¼Œä¾èµ–å…³ç³»ä¹Ÿå¯èƒ½å‘ç”Ÿå˜æ¢ã€‚å„ç§å…³ç³»çš„å¼ºå¼±é¡ºåºï¼šæ³›åŒ– = å®ç° &gt; ç»„åˆ &gt; èšåˆ &gt; å…³è” &gt; ä¾èµ–]]></content>
      <categories>
        <category>å†™ç‚¹å•¥</category>
      </categories>
      <tags>
        <tag>UMLç±»å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DIPã€IoCã€DIã€JS]]></title>
    <url>%2FDIP%E3%80%81IoC%E3%80%81DI%E3%80%81JS%2F</url>
    <content type="text"><![CDATA[åœ¨è¿™ä¸ªæ ‡é¢˜ä¸­ï¼Œé™¤äº† JS æ˜¯ä¹±å…¥ä¹‹å¤–ï¼Œå…¶å®ƒçš„å‡ ä¸ªè¯æ±‡éƒ½æ˜¯å­˜åœ¨ä¸€ä¸ªå…±åŒç‚¹çš„ï¼Œé‚£å°±æ˜¯ä¾èµ–ã€‚é‚£ä¹ˆï¼Œä¾èµ–æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ¯”å¦‚ï¼Œç°åœ¨æˆ‘æ­£åœ¨å†™è¿™ç¯‡åšå®¢æ–‡ï¼Œä½†æ˜¯æˆ‘å¾—åœ¨ç”µè„‘ä¸Šç¼–è¾‘ï¼Œç”µè„‘ä¾¿æ˜¯æˆ‘å®Œæˆè¿™ä»¶äº‹çš„ä¾èµ–ã€‚è€Œåœ¨ä»£ç ä¸­ï¼Œæœ€ç›´è§‚çš„ä½“ç°æ˜¯æ¨¡å—ä¹‹é—´çš„ä¾èµ–ã€‚å¦‚æŸä¸ªæ¨¡å—ä¾èµ–å¦å¤–ä¸€ä¸ªæ¨¡å—ï¼Œé‚£ä¹ˆå¦å¤–çš„é‚£ä¸ªæ¨¡å—å°±æ˜¯è¯¥æ¨¡å—çš„ä¾èµ–ã€‚å…¶å®åœ¨ä¸Šç¯‡åšå®¢æ–‡ç« ã€ŠJaVaScriptä¸­çš„æ¨¡å—ã€‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ‰‹å†™äº†ä¸€ä¸ªæ¨¡å—ä¾èµ–ç®¡ç†å™¨ã€‚ä¾èµ–è¿™ä¸ªç†è§£èµ·æ¥å¾ˆç®€å•ï¼Œä½†è¿™ä¸ä»£è¡¨å¯ä»¥éšæ„çš„ä¾èµ–ã€‚åœ¨å†™æ¨¡å—çš„æ—¶å€™ï¼Œè®²ç©¶ä¸ªé«˜å†…èšä½è€¦åˆï¼Œä»¥æé«˜æ¨¡å—çš„å¯æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚æ¨¡å—ä¾èµ–äº†è°ï¼Œæ€ä¹ˆå»ä¾èµ–ï¼Œéƒ½å…³ä¹äº†æœ€ç»ˆæ¨¡å—çš„å¥½ä¸åã€‚è¿˜å¥½åœ¨ç¼–ç¨‹ç•Œæœ‰ç€æé«˜ä»£ç è´¨é‡çš„é‡‘ç§‘ç‰å¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç†è®ºæ¥æŒ‡å¯¼å®è·µï¼Œå†™å‡ºæ›´å¥½çš„ä»£ç ã€‚ä¾èµ–åè½¬åŸåˆ™ä¾èµ–åè½¬åŸåˆ™ï¼ˆDependency inversion principleï¼ŒDIPï¼‰ï¼Œæ˜¯ä¸€ç§ç‰¹å®šçš„è§£è€¦å½¢å¼ï¼Œä½¿å¾—é«˜å±‚æ¬¡çš„æ¨¡å—ä¸ä¾èµ–äºä½å±‚æ¬¡çš„æ¨¡å—çš„å®ç°ç»†èŠ‚ï¼Œä¾èµ–å…³ç³»è¢«é¢ å€’ï¼ˆåè½¬ï¼‰ï¼Œä»è€Œä½¿å¾—ä½å±‚æ¬¡æ¨¡å—ä¾èµ–äºé«˜å±‚æ¬¡æ¨¡å—çš„éœ€æ±‚æŠ½è±¡ã€‚â€”â€”â€”â€” ç»´åŸºç™¾ç§‘è¯¥åŸåˆ™è§„å®šï¼šé«˜å±‚æ¬¡çš„æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä¸ä½å±‚æ¬¡çš„æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡æ¥å£ã€‚æŠ½è±¡æ¥å£ä¸åº”è¯¥ä¾èµ–äºå…·ä½“å®ç°ã€‚è€Œå…·ä½“å®ç°åˆ™åº”è¯¥ä¾èµ–äºæŠ½è±¡æ¥å£ã€‚ç°åœ¨ç”¨ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šä¸€æ³¢ã€‚1234567891011121314151617181920// Ajax.jsclass Ajax &#123; get() &#123; return this.constructor.name; &#125;&#125;export default Ajax;// main.jsimport Ajax from './Ajax';class Main &#123; constructor() &#123; this.render() &#125; render() &#123; let content = (new Ajax()).get(); console.log('content from', content); &#125;&#125;new Main();åˆšå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åŸºäº XMLHttpRequest å¯¹è±¡ï¼Œå°è£…äº† Ajax ç”¨äºè¯·æ±‚æ•°æ®ã€‚åæ¥ fetch å‡ºæ¥äº†ï¼Œæˆ‘ä»¬æ‰“ç®—è·Ÿä¸Šæ—¶ä»£çš„è„šæ­¥ï¼Œå°è£… fetch ä»¥å–ä»£ Ajaxã€‚1234567891011121314151617181920// Fetch.jsclass Fetch &#123; fetch() &#123; return this.constructor.name; &#125;&#125;export default Fetch;// main.jsimport Fetch from './Fetch';class Main &#123; constructor() &#123; this.render(); &#125; render() &#123; let content = (new Fetch()).fetch(); console.log('content from', content); &#125;&#125;new Main();ä»ä»¥ä¸Šå¯ä»¥çœ‹å‡ºæ¥ï¼Œæ•´ä¸ªæ›¿ä»£è¿‡ç¨‹å¾ˆéº»çƒ¦ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºå°è£…è¯·æ±‚æ¨¡å—ï¼ˆAjaxã€Fetchï¼‰çš„æ‰€æœ‰å¼•ç”¨ï¼Œç„¶åæ›¿æ¢æ‰ã€‚åˆç”±äº Ajaxã€Fetch çš„æ–¹æ³•å‘½åä¹Ÿæ˜¯ä¸åŒï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å¯¹åº”åœ°åšæ›´æ”¹ã€‚è¿™å°±æ˜¯ä¼ ç»Ÿçš„å¤„ç†ä¾èµ–å…³ç³»çš„æ–¹å¼ã€‚åœ¨è¿™é‡Œ Main æ˜¯é«˜å±‚æ¬¡æ¨¡å—ï¼ŒAjaxã€Fetch æ˜¯ä½å±‚æ¬¡æ¨¡å—ã€‚ä¾èµ–å…³ç³»åˆ›å»ºäºé«˜å±‚æ¬¡æ¨¡å—ï¼Œä¸”é«˜å±‚æ¬¡æ¨¡å—ç›´æ¥ä¾èµ–ä½å±‚æ¬¡æ¨¡å—ï¼Œè¿™ç§ä¾èµ–å…³ç³»é™åˆ¶äº†é«˜å±‚æ¬¡æ¨¡å—çš„å¤ç”¨æ€§ã€‚ä¾èµ–åè½¬åŸåˆ™åˆ™é¢ å€’è¿™ç§ä¾èµ–å…³ç³»ï¼Œå¹¶ä»¥ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªè§„å®šä½œä¸ºæŒ‡å¯¼æ€æƒ³ã€‚12345678910111213141516171819202122232425// Service.jsclass Service &#123; request()&#123; throw `$&#123;this.constructor.name&#125; æ²¡æœ‰å®ç° request æ–¹æ³•ï¼` &#125;&#125;class Ajax extends Service &#123; request()&#123; return this.constructor.name; &#125;&#125;export default Ajax;// Main.jsimport Service from './Service.js';class Main &#123; constructor() &#123; this.render(); &#125; render() &#123; let content = (new Service).request(); console.log('content from', content); &#125;&#125;new Main();åœ¨è¿™é‡Œæˆ‘ä»¬æŠŠå…±åŒä¾èµ–çš„ Service ä½œä¸ºæŠ½è±¡æ¥å£ï¼Œå®ƒå°±æ˜¯é«˜å±‚æ¬¡æ¨¡å—ä¸ä½å±‚æ¬¡æ¨¡å—éœ€è¦å…±åŒéµå®ˆçš„å¥‘çº¦ã€‚åœ¨é«˜å±‚æ¬¡æ¨¡å—ä¸­ï¼Œå®ƒä¼šé»˜è®¤ Service ä¼šæœ‰ request æ–¹æ³•ç”¨æ¥è¯·æ±‚æ•°æ®ã€‚åœ¨ä½å±‚æ¬¡æ¨¡å—ä¸­ï¼Œå®ƒä¼šéµä» Service å¤å†™åº”è¯¥å­˜åœ¨çš„æ–¹æ³•ã€‚è¿™åœ¨ã€Šåœ¨JavaScriptä¸­å°è¯•ç»„åˆæ¨¡å¼ã€‹ä¸­ï¼Œæ— è®ºåˆ†æ”¯å¯¹è±¡è¿˜æ˜¯å¶å¯¹è±¡éƒ½å®ç° expense() æ–¹æ³•çš„é“ç†å·®ä¸å¤šã€‚å³ä½¿åæ¥éœ€è¦å°è£… axios å–ä»£ fetchï¼Œæˆ‘ä»¬ä¹Ÿåªéœ€è¦åœ¨ Service.js ä¸­ä¿®æ”¹å³å¯ã€‚å†æ¬¡å›é¡¾ä¸‹ä¼ ç»Ÿçš„ä¾èµ–å…³ç³»ã€‚ä¾èµ–å…³ç³»åˆ›å»ºäºé«˜å±‚æ¬¡æ¨¡å—ï¼Œä¸”é«˜å±‚æ¬¡æ¨¡å—ç›´æ¥ä¾èµ–ä½å±‚æ¬¡æ¨¡å—ã€‚ç»è¿‡ä»¥ä¸Šçš„æŠ˜è…¾ï¼Œæˆ‘ä»¬å……å…¶é‡åªæ˜¯è§£å†³äº†é«˜å±‚æ¬¡æ¨¡å—ç›´æ¥ä¾èµ–ä½å±‚æ¬¡æ¨¡å—çš„é—®é¢˜ã€‚é‚£ä¹ˆä¾èµ–å…³ç³»åˆ›å»ºäºé«˜å±‚æ¬¡æ¨¡å—çš„é—®é¢˜å‘¢ï¼Ÿæ§åˆ¶åè½¬å¦‚æœè¯´ä¾èµ–åè½¬åŸåˆ™å‘Šè¯‰æˆ‘ä»¬è¯¥ä¾èµ–è°ï¼Œé‚£ä¹ˆæ§åˆ¶åè½¬åˆ™å‘Šè¯‰ä»¬è°åº”è¯¥æ¥æ§åˆ¶ä¾èµ–ã€‚åƒä¸Šé¢çš„ Main æ¨¡å—ï¼Œå®ƒä¾èµ– Service æ¨¡å—ã€‚ä¸ºäº†è·å¾— Service å®ä¾‹çš„å¼•ç”¨ï¼ŒMain åœ¨å†…éƒ¨é è‡ªèº« new å‡ºäº†ä¸€ä¸ª Service å®ä¾‹ã€‚è¿™æ ·æ˜æ˜¾åœ°å¼•ç”¨å…¶å®ƒæ¨¡å—ï¼Œæ— å¼‚åŠ å¤§äº†æ¨¡å—é—´çš„è€¦åˆã€‚æ§åˆ¶åè½¬ï¼ˆInversion of Controlï¼ŒIoCï¼‰ï¼Œé€šè¿‡æ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªæ§åˆ¶ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®ä½“ï¼Œå°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™å®ƒã€‚å¯ä»¥è¯´ï¼Œä¾èµ–è¢«æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚â€”â€”â€”â€” ç»´åŸºç™¾ç§‘è¿™äº›è¯çš„æ„æ€å°±æ˜¯å°†ä¾èµ–å¯¹è±¡çš„åˆ›å»ºå’Œç»‘å®šè½¬ç§»åˆ°è¢«ä¾èµ–å¯¹è±¡ç±»çš„å¤–éƒ¨æ¥å®ç°ã€‚å®ç°æ§åˆ¶åè½¬æœ€å¸¸è§çš„æ–¹å¼æ˜¯ä¾èµ–æ³¨å…¥ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼ä¾èµ–æŸ¥æ‰¾ã€‚ä¾èµ–æ³¨å…¥ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼ŒDIï¼‰ï¼Œåœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œä¾èµ–æ³¨å…¥æ˜¯ç§å®ç°æ§åˆ¶åè½¬ç”¨äºè§£å†³ä¾èµ–æ€§è®¾è®¡æ¨¡å¼ã€‚ä¸€ä¸ªä¾èµ–å…³ç³»æŒ‡çš„æ˜¯å¯è¢«åˆ©ç”¨çš„ä¸€ç§å¯¹è±¡ï¼ˆå³æœåŠ¡æä¾›ç«¯ï¼‰ã€‚ä¾èµ–æ³¨å…¥æ˜¯å°†æ‰€ä¾èµ–çš„ä¼ é€’ç»™å°†ä½¿ç”¨çš„ä»å±å¯¹è±¡ï¼ˆå³å®¢æˆ·ç«¯ï¼‰ã€‚è¯¥æœåŠ¡å°†ä¼šå˜æˆå®¢æˆ·ç«¯çš„çŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚ä¼ é€’æœåŠ¡ç»™å®¢æˆ·ç«¯ï¼Œè€Œéå…è®¸å®¢æˆ·ç«¯æ¥å»ºç«‹æˆ–å¯»æ‰¾æœåŠ¡ï¼Œæ˜¯æœ¬è®¾è®¡æ¨¡å¼çš„åŸºæœ¬è¦æ±‚ã€‚æ²¡çœ‹æ‡‚ï¼Ÿæ²¡å…³ç³»ã€‚è¿™å¥è¯è®²çš„æ˜¯ï¼ŒæŠŠè¿‡ç¨‹æ”¾åœ¨å¤–é¢ï¼Œå°†ç»“æœå¸¦å…¥å†…éƒ¨ã€‚åœ¨ã€ŠJaVaScriptä¸­çš„æ¨¡å—ã€‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»ç”¨åˆ°è¿‡ä¾èµ–æ³¨å…¥ï¼Œå°±æ˜¯å¯¹äºä¾èµ–æ¨¡å—çš„æ¨¡å—ï¼Œåˆ™æŠŠä¾èµ–ä½œä¸ºå‚æ•°ä½¿ç”¨ã€‚æ‰€ä»¥æˆ‘ä»¬å†æ¬¡æ”¹é€ ä¸‹ï¼Œ123456789101112131415161718192021222324252627282930// Service.jsclass Service &#123; request() &#123; throw `$&#123;this.constructor.name&#125; æ²¡æœ‰å®ç° request æ–¹æ³•ï¼` &#125;&#125;class Ajax extends Service &#123; request() &#123; return this.constructor.name; &#125;&#125;export default Ajax;// Main.jsclass Main &#123; constructor(options) &#123; this.Service = options.Service; this.render(); &#125; render() &#123; let content = this.Service.request(); console.log('content from', content); &#125;&#125;export default Main;// index.jsimport Service from './Service.js';import Main from './Main.js';new Main(&#123; Service: new Service()&#125;)åœ¨ Main æ¨¡å—ä¸­, Service çš„å®ä¾‹åŒ–æ˜¯åœ¨å¤–éƒ¨å®Œæˆï¼Œå¹¶åœ¨ index.js ä¸­æ³¨å…¥ã€‚ç›¸æ¯”ä¸Šä¸€æ¬¡ï¼Œæ”¹åŠ¨åçš„ä»£ç å¹¶æ²¡æœ‰çœ‹å‡ºå¸¦æ¥å¤šå¤§çš„å¥½å¤„ã€‚å¦‚æœæˆ‘ä»¬å†å¢åŠ ä¸€ä¸ªæ¨¡å—å‘¢ï¼Ÿ123456789class Router &#123; constructor() &#123; this.init(); &#125; init() &#123; console.log('Router::init') &#125;&#125;export default Router;12345678# Main.js+ this.Service = options.Router;# index.js+ import Router from './Router.js' new Main(&#123;+ Router: new Service() &#125;)è‹¥æ˜¯å†…éƒ¨å®ä¾‹åŒ–å°±ä¸å¥½å¤„ç†äº†ã€‚å¯æ¢æˆä¾èµ–æ³¨å…¥åï¼Œè¿™ä¸ªé—®é¢˜å°±å¾ˆå¥½è§£å†³äº†ã€‚1234567891011121314151617181920212223242526272829303132// utils.jsexport const toOptions = params =&gt; Object.entries(params).reduce((accumulator, currentValue) =&gt; &#123; accumulator[currentValue[0]] = new currentValue[1]() return accumulator; &#125;, &#123;&#125;);// Main.jsclass Main &#123; constructor(options) &#123; Object.assign(this, options); this.render(); &#125; render() &#123; let content = this.Service.request(); console.log('content from', content); &#125;&#125;export default Main;// index.jsimport Service from './Service.js';import Router from './Router.js';import Main from './Main.js';import &#123; toOptions &#125; from './utils.js'/** * toOptions è½¬æ¢æˆå‚æ•°å½¢å¼ * @params &#123;Object&#125; ç±» * @return &#123;Object&#125; &#123;Service: Serviceå®ä¾‹, Router: Routerå®ä¾‹&#125; */const options = toOptions(&#123;Service, Router&#125;);new Main(options);å› ä¸ºä¾èµ–æ³¨å…¥æŠŠä¾èµ–çš„å¼•ç”¨ä»å¤–éƒ¨å¼•å…¥ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨ Object.assign(this, options) æ–¹å¼ï¼ŒæŠŠä¾èµ–å…¨éƒ¨åŠ åˆ°äº† this ä¸Šã€‚å³ä½¿å†å¢åŠ æ¨¡å—ï¼Œä¹Ÿåªéœ€è¦åœ¨ index.js ä¸­å¼•å…¥å³å¯ã€‚åˆ°äº†è¿™é‡Œï¼ŒDIPã€IoCã€DI çš„æ¦‚å¿µåº”è¯¥æœ‰ä¸ªæ¸…æ™°çš„è®¤è¯†äº†ã€‚ç„¶åæˆ‘ä»¬å†ç»“åˆå®é™…ï¼ŒåŠ ä¸ªåŠŸèƒ½å†æ¬¡å·©å›ºä¸€ä¸‹ã€‚ä½œä¸ºä¸€åŠŸèƒ½ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œä¸€èˆ¬éƒ½æœ‰ä¸ªåˆå§‹åŒ–çš„è¿‡ç¨‹ã€‚ç°åœ¨æˆ‘ä»¬è¦åšçš„æ˜¯éµå®ˆä¸€ä¸ªåˆå§‹åŒ–çš„çº¦å®šï¼Œå®šä¹‰ä¸€ä¸ªæŠ½è±¡æ¥å£ï¼Œ1234567891011121314151617181920212223242526// Interface.jsexport class Service &#123; request() &#123; throw `$&#123;this.constructor.name&#125; æ²¡æœ‰å®ç° request æ–¹æ³•ï¼` &#125;&#125;export class Init &#123; init() &#123; throw `$&#123;this.constructor.name&#125; æ²¡æœ‰å®ç° init æ–¹æ³•ï¼` &#125;&#125;// Service.jsimport &#123; Init, Service &#125; from './Interface.js';import &#123; mix &#125; from './utils.js'class Ajax extends mix(Init, Service) &#123; constructor() &#123; super(); &#125; init() &#123; console.log('Service::init') &#125; request() &#123; return this.constructor.name; &#125;&#125;export default Ajax;Mainã€Serviceã€Router éƒ½ä¾èµ– Init æ¥å£ï¼ˆåœ¨è¿™é‡Œå°±æ˜¯ä¸€ç§åå®šï¼‰ï¼ŒService æ¨¡å—æ¯”è¾ƒç‰¹æ®Šï¼Œæ‰€ä»¥åšäº† Mixin å¤„ç†ã€‚è¦åšåˆ°ç»Ÿä¸€åˆå§‹åŒ–ï¼ŒMain è¿˜éœ€è¦åšäº›äº‹ã€‚12345678910111213141516171819// Main.jsimport &#123; Init &#125; from './Interface.js'class Main extends Init &#123; constructor(options) &#123; super(); Object.assign(this, options); this.options = options; this.render(); &#125; init() &#123; (Object.values(this.options)).map(item =&gt; item.init()); console.log('Main::init'); &#125; render() &#123; let content = this.Service.request(); console.log('content from', content); &#125;&#125;export default Main;è‡³æ­¤ï¼Œç»“æŸ123456789101112131415161718192021222324// index.jsimport Service from './Service.js';import Router from './Router.js';import Main from './Main.js';import &#123; toOptions &#125; from './utils.js'/** * toOptions * è½¬æ¢æˆå‚æ•°å½¢å¼ * @params &#123;Object&#125; ç±» * @return &#123;Object&#125; * &#123; * Service: Serviceå®ä¾‹, * Router: Routerå®ä¾‹ * &#125; */const options = toOptions(&#123; Service, Router &#125;);(new Main(options)).init();// content from Ajax// Service::init// Router::init// Main::initï¼ˆä»¥ä¸Šæ‰€æœ‰ç¤ºä¾‹å¯è§GitHubï¼‰]]></content>
      <categories>
        <category>è¿™ä¸ªæƒ³æ³•ä¸ä¸€å®šå¯¹</category>
      </categories>
      <tags>
        <tag>DIP</tag>
        <tag>Ioc</tag>
        <tag>DI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JaVaScriptä¸­çš„æ¨¡å—]]></title>
    <url>%2FJaVaScript%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%2F</url>
    <content type="text"><![CDATA[æ¨¡å—åœ¨ JavaScript ä¸­ï¼Œæ¨¡å—åªä¸è¿‡æ˜¯åŸºäºå‡½æ•°æŸäº›ç‰¹æ€§çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚åœ¨ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹ä¸­ï¼Œç»™å‡ºäº†æ¨¡å—æ¨¡å¼å› å…·å¤‡çš„ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼šå¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡ï¼ˆæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®ä¾‹ï¼‰ã€‚å°é—­å‡½æ•°å¿…é¡»è¿”å›è‡³å°‘ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çš„çŠ¶æ€ã€‚ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹ï¼Œä»å‡½æ•°è°ƒç”¨æ‰€è¿”å›çš„åªæœ‰æ•°æ®å±æ€§è€Œæ²¡æœ‰é—­åŒ…å‡½æ•°çš„å¯¹è±¡å¹¶ä¸æ˜¯çœŸæ­£çš„æ¨¡å—ã€‚ä½ çœ‹ğŸ‘€ï¼Œç†è§£é—­åŒ…çš„é‡è¦æ€§å†æ¬¡ä½“ç°å‡ºæ¥äº†ã€‚ä»ä»¥ä¸Šè¦æ±‚çš„ä¸¤ç‚¹æ¥çœ‹ï¼Œåªè¦æ»¡è¶³ç›¸åº”çš„æ¡ä»¶ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å†™å‡ºä¸€ä¸ªæ¨¡å—ã€‚123456789101112131415161718192021const userModule = ((name = 'module') =&gt; &#123; let id = 1,moduleName = name; const sayName = () =&gt; &#123; console.log('moduleName: %s', moduleName); &#125;; const sayId = () =&gt; &#123; console.log('id: %s', id); &#125;; const changeName = value =&gt; &#123; moduleName = value; &#125;; const changePublicAPI = () =&gt; &#123; publicAPI.sayIdentification = sayId &#125;; const publicAPI = &#123; sayIdentification: sayName, changeName, changePublicAPI, &#125; return publicAPI;&#125;)();ä»¥ä¸Šåœ¨æ»¡è¶³ä¸¤ä¸ªå¿…è¦çš„åŸºç¡€ä¸Šè½¬æ¢æˆäº† IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼‰ã€‚åŒæ—¶å¯ä»¥çœ‹å‡ºï¼ŒåŸºäºå‡½æ•°çš„æ¨¡å—å¯ä»¥åœ¨è¿è¡Œæ—¶é€šè¿‡å†…éƒ¨ä¿ç•™ç€å…¬å…± API å¯¹è±¡çš„å¼•ç”¨ï¼Œä»è€Œå¯¹æ¨¡å—å®ä¾‹è¿›è¡Œä¿®æ”¹ã€‚æ¨¡å—æœºåˆ¶æ¨¡å—çš„å‡ºç°ä¹Ÿæ˜¯ä¸ºäº†èƒ½å¤Ÿæé«˜ä»£ç çš„å¤ç”¨ç‡ï¼Œæ–¹ä¾¿ä»£ç ç®¡ç†ã€‚å¤ç”¨æ¨¡å—ï¼Œè‡ªç„¶ä¼šå‡ºç°æ¨¡å—ä¾èµ–çš„é—®é¢˜ï¼Œæ‰€ä»¥è¯´æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç®¡ç†æ¨¡å—ä¾èµ–çš„æ¨¡å—ã€‚1234567891011121314151617181920212223242526272829303132333435const moduleManage = (() =&gt; &#123; let modules = &#123;&#125;; const define = (name, deps, module) =&gt; &#123; deps = deps.map(item =&gt; modules[item]) modules[name] = module(...deps); &#125;; const exports = (name) =&gt; &#123; return modules[name]; &#125; return &#123; define, exports, &#125;&#125;)();moduleManage.define('a', [], () =&gt; &#123; const sayName = name =&gt; &#123; console.log('name: %s', name); &#125;; return &#123; sayName, &#125;&#125;);moduleManage.define('b', ['a'], (a) =&gt; &#123; let name = 'b'; const sayName = () =&gt; &#123; a.sayName(name) &#125;; return &#123; sayName, &#125;&#125;);var b = moduleManage.exports('b');b.sayName();æ¨¡å—ä¾èµ–ç®¡ç†å™¨ä¹Ÿä¾ç„¶æ˜¯ä¸ªæ¨¡å—ï¼Œè¿™é‡Œçš„å®ç°å…¶å®å¾ˆç®€å•ã€‚modules[name] = module(...deps)ï¼Œä½¿ç”¨ modules ç¼“å­˜å„ä¸ªæ¨¡å—ï¼Œå¯¹äºä¾èµ–æ¨¡å—çš„æ¨¡å—ï¼Œåˆ™æŠŠä¾èµ–ä½œä¸ºå‚æ•°ä½¿ç”¨ã€‚è§„èŒƒCommonJS è§„èŒƒæœåŠ¡äºæœåŠ¡ç«¯ï¼ŒåŒæ­¥é˜»å¡ï¼Œåœ¨å†™æ³•é£æ ¼ä¸Šæ˜¯ä¾èµ–å°±è¿‘ã€‚ä½†æ˜¯åœ¨æµè§ˆå™¨ä¸Šï¼ŒCommonJS å°±ä¸å¥½ä½¿äº†ï¼Œæµè§ˆå™¨éœ€è¦ä»æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œä¸‹è½½å®Œæˆåæ‰ä¼šæœ‰ä¸‹ä¸€æ­¥çš„æ‰§è¡Œã€‚å¦‚æœé‡‡ç”¨ CommonJS çš„åŒæ­¥æ–¹å¼ï¼ŒæŒ‡ä¸å®šä»€ä¹ˆæ—¶å€™æ–‡ä»¶æ‰ä¼šä¸‹è½½å®Œæˆã€‚ä¸ºäº†æ¨å¹¿åˆ°æµè§ˆå™¨ä¸Šï¼ŒAMD è§„èŒƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ã€‚å…ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼ŒåŠ è½½å®Œæˆåå°±å¯ä»¥åœ¨å›è°ƒä¸­ä½¿ç”¨ä¾èµ–æ¨¡å—äº†ã€‚è¿™æ ·å°±ä¿è¯äº†åœ¨ä½¿ç”¨ä¾èµ–æ—¶ï¼Œä¾èµ–å·²ç»åŠ è½½å®Œæˆã€‚AMD è§„èŒƒæ˜¯æ—©æ—©åœ°ä¸‹è½½ï¼Œæ—©æ—©åœ°æ‰§è¡Œï¼Œåœ¨å›è°ƒé‡Œ require çš„æ˜¯ä¾èµ–çš„å¼•ç”¨ã€‚åœ¨å†™æ³•é£æ ¼ä¸Šæ˜¯ä¾èµ–å‰ç½®ï¼Œè¿™ç§é£æ ¼å·²ç»ä¸åŒäº CommonJS äº†ã€‚è¿˜æœ‰ï¼Œè¿™é‡Œæ—©æ—©åœ°æ‰§è¡Œä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå­˜åœ¨æŸä¸ªä¾èµ–æŸäº›æ¡ä»¶ä¸æˆç«‹ï¼Œå¯¼è‡´æ²¡æœ‰ç”¨ä¸Šã€‚é‚£ä¹ˆï¼Œè¿™é‡Œçš„æ—©æ—©åœ°æ‰§è¡Œå²‚ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾äº†ï¼ŸCMD è§„èŒƒæ˜¯ sea.js æ¨å´‡çš„è§„èŒƒï¼Œå®ƒé‡‡ç”¨çš„ä¹Ÿæ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—çš„æ–¹å¼ï¼Œåªæ˜¯åœ¨ä¾èµ–æ¨¡å—çš„æ‰§è¡Œæ—¶æœºä¸Šæœ‰æ‰€ä¸åŒã€‚åœ¨å†™æ³•é£æ ¼ä¸Šï¼Œåˆå›å½’åˆ° CommonJSï¼Œä¾èµ–å°±è¿‘ã€‚sea.js æ˜¯æ—©æ—©åœ°ä¸‹è½½ï¼Œå»¶è¿Ÿæ‰§è¡Œã€‚åˆ°äº† ES6ï¼Œç»ˆäºä»è¯­æ³•ä¸Šæ”¯æŒæ¨¡å—åŒ–äº†ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶åŠ è½½ï¼Œä½¿å¾—åœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œè€Œä¸”åœ¨å°†æ¥æœåŠ¡å™¨å’Œæµè§ˆå™¨éƒ½ä¼šæ”¯æŒ ES6 çš„æ¨¡å—åŒ–æ–¹æ¡ˆã€‚]]></content>
      <categories>
        <category>è¿™ä¸ªæƒ³æ³•ä¸ä¸€å®šå¯¹</category>
      </categories>
      <tags>
        <tag>æ¨¡å—åŒ–</tag>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼‚æ­¥çš„JavaScriptï¼ˆç”Ÿæˆå™¨ç¯‡ï¼‰]]></title>
    <url>%2F%E5%BC%82%E6%AD%A5%E7%9A%84JavaScript%EF%BC%88%E7%BB%88%E7%AF%87%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å›é¡¾æ‰€è°“çš„å¼‚æ­¥ï¼Œå°±æ˜¯ç¨‹åºçš„ä¸€éƒ¨åˆ†ç°åœ¨è¿›è¡Œï¼Œè€Œå¦ä¸€éƒ¨åˆ†åˆ™åœ¨å°†æ¥è¿è¡Œã€‚å¼‚æ­¥å¤„ç†çš„é‡ç‚¹å°±æ˜¯å¦‚ä½•å¤„ç†å°†æ¥è¿è¡Œçš„é‚£ä¸€éƒ¨åˆ†ã€‚å›è°ƒæ˜¯ JavaScript ä¸­æœ€åŸºæœ¬çš„å¼‚æ­¥æ¨¡å¼ï¼Œå°±æ˜¯äº‹å…ˆçº¦å®šå¥½å°†æ¥è¦åšçš„äº‹ç„¶åå›å¤´è°ƒç”¨ã€‚ç®€å•ç›´æ¥ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸ä¿¡ä»»ã€è°ƒç”¨åµŒå¥—è¿‡æ·±ç­‰é—®é¢˜ã€‚å¯¹äºç¼–å†™ä»£ç ã€ç»´æŠ¤ä»£ç çš„æˆ‘ä»¬è€Œè¨€ï¼Œäººç±»çš„å¤§è„‘è¿˜æ˜¯ä¹ æƒ¯äºçº¿æ€§çš„å¤„ç†æ–¹å¼ã€‚åŸºäºå›è°ƒçš„å¼‚æ­¥æ¨¡å¼æ‰€å­˜åœ¨çš„é—®é¢˜ä¿ƒä½¿ç€æˆ‘ä»¬å¯»æ±‚ä¸€ç§æœºåˆ¶æ¥ä¿è¯å›è°ƒçš„å¯ä¿¡ä»»ï¼ŒåŒæ—¶èƒ½æ›´å¥½çš„è¡¨è¾¾å¼‚æ­¥ã€‚è¿™æ—¶å€™ Promise å‡ºç°äº†ï¼ŒPromise çš„å‡ºç°ï¼Œå¹¶éè¦å–ä»£å›è°ƒã€‚è€Œæ˜¯æŠŠå›è°ƒè½¬äº¤ç»™äº†ä¸€ä¸ªä½äºæˆ‘ä»¬å’Œå…¶å®ƒå·¥å…·ä¹‹é—´çš„å¯ä¿¡ä»»çš„ä¸­ä»‹æœºåˆ¶ã€‚Promise é“¾ä¹Ÿæä¾›ï¼ˆå°½ç®¡å¹¶ä¸å®Œç¾ï¼‰ä»¥é¡ºåºçš„æ–¹å¼è¡¨è¾¾å¼‚æ­¥æµçš„ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ï¼Œè¿™æœ‰åŠ©äºæˆ‘ä»¬çš„å¤§è„‘æ›´å¥½åœ°è®¡åˆ’å’Œç»´æŠ¤å¼‚æ­¥ JavaScript ä»£ç ã€‚ç”Ÿæˆå™¨Promise è™½ç„¶æœ‰åºã€å¯é åœ°ç®¡ç†å›è°ƒï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯å¸Œæœ›å¦‚åŒæ­¥èˆ¬è¡¨è¾¾å¼‚æ­¥ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“ç”Ÿæˆå™¨æ˜¯ä½œä¸ºç”Ÿäº§è¿­ä»£å™¨çš„å·¥å‚å‡½æ•°ï¼ŒåŒæ—¶æˆ‘ä»¬è¿˜è¦çŸ¥é“ç”Ÿæˆå™¨ä¹Ÿæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä¼ é€’ç³»ç»Ÿã€‚ä¸ºä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨åœ¨ç”Ÿæˆå™¨å‡ºç°ä¹‹å‰ï¼Œç¨‹åºä»£ç ä¸€æ—¦æ‰§è¡Œï¼Œå°±æ²¡æœ‰åœä¸‹æ¥çš„æ—¶å€™ï¼Œç›´åˆ°ç¨‹åºç»“æŸğŸ”šã€‚ç„¶è€Œåœ¨ç”Ÿæˆå™¨é‡Œä»£ç æ˜¯å¯ä»¥æš‚åœçš„ï¼Œè€Œä¸”è¿˜å¯ä»¥å’Œç”Ÿæˆå™¨ä¹‹å¤–é€šä¿¡â˜ï¸ï¼Œé€šä¿¡ç»“æŸååˆå¯ä»¥æ¢å¤æ‰§è¡Œã€‚å›æƒ³ä¸€ä¸‹ä¹‹å‰çš„å¼‚æ­¥æµç¨‹æ§åˆ¶ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨æƒ³æ–¹è®¾æ³•ä½¿å¾—å¼‚æ­¥ä»»åŠ¡èƒ½å¤ŸåŒæ­¥è¡¨è¾¾ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ç”Ÿæˆå™¨æ¥å®ç°è¿™ä¸€æƒ³æ³•ğŸ’¡ã€‚äº†è§£äº†ç”Ÿæˆå™¨çš„ç‰¹æ€§ä¹‹åï¼Œæˆ‘ä»¬å°±åº”è¯¥çŸ¥é“ï¼Œå½“ç”Ÿæˆå™¨åœ¨æ‰§è¡Œä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡æ—¶ï¼Œå®Œå…¨å¯ä»¥æŠŠå¼‚æ­¥ä»»åŠ¡æ”¾åœ¨ç”Ÿæˆå™¨å¤–éƒ¨æ‰§è¡Œï¼Œå¾…å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç»“æŸåå†è¿”å›ğŸ”™ç”Ÿæˆå™¨æ¢å¤æ‰§è¡Œã€‚è¦çŸ¥é“ï¼Œç”Ÿæˆå™¨æš‚åœçš„åªæ˜¯å†…éƒ¨çš„çŠ¶æ€ï¼Œç¨‹åºçš„å…¶ä½™éƒ¨åˆ†è¿˜æ˜¯æ­£å¸¸è¿è¡Œçš„ã€‚è¿™æ ·çš„è¯ï¼Œç”Ÿæˆå™¨å†…éƒ¨çš„æ‰€æœ‰ä»£ç çœ‹èµ·æ¥éƒ½æ˜¯åŒæ­¥è¡¨è¾¾äº†ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿè¦æ³¨æ„åˆ°ï¼Œç”Ÿæˆå™¨ä¸è¿‡æ˜¯ä¸€ç§æ–°ğŸ†•çš„è¡¨è¾¾æ–¹å¼ï¼Œå’Œå¼‚æ­¥è¿˜æ˜¯åŒæ­¥æ²¡æœ‰åŠæ¯›é’±ğŸ’°å…³ç³»ã€‚æ—¢ç„¶æ²¡æœ‰å…³ç³»ï¼Œé‚£åœ¨å¼‚æ­¥æ¨¡å¼é€‰æ‹©ä¸Šå°±æ›´æ— æ‰€è°“äº†ã€‚è€ƒè™‘åˆ°å¼‚æ­¥ç³»åˆ—æ–‡ç« æ˜¯æ¸è¿›å¼çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ç”¨ Promise + ç”Ÿæˆå™¨ æ¨¡å¼æ¥è¡¨è¾¾å¼‚æ­¥ã€‚ç”Ÿæˆå™¨ä¸Promiseçš„ç»“åˆåœ¨å¼‚æ­¥æµç¨‹æ§åˆ¶æ–¹é¢ï¼Œç”Ÿæˆå™¨æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ã€‚ä¸€éƒ¨åˆ†æ˜¯ç”Ÿæˆå™¨å†…éƒ¨ä»£ç ä»¥åŒæ­¥çš„æ–¹å¼è¡¨è¾¾ä»»åŠ¡ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯ç”±ç”Ÿæˆå™¨ç”Ÿæˆçš„è¿­ä»£å™¨å¤„ç†å¼‚æ­¥ã€‚12345678910111213141516171819202122232425262728293031323334const async = n =&gt; &#123; return new Promise(resolve =&gt; &#123; setTimeout(() =&gt; &#123; resolve(`ç¬¬$&#123;n&#125;ä¸ªå¼‚æ­¥ä»»åŠ¡`) &#125;, 0); &#125;)&#125;;const generator = function *generator()&#123; const response_1 = yield async(1); const response_2 = yield async(2); const response_3 = yield async(3); console.log('response_1: %s;response_2: %s;response_3: %s;',response_1,response_2,response_3);&#125;;const gen = generator();const gen_1 = generator();console.log('gen_next_1: %s; gen_next_2: %s; gen_next_3: %s;', gen_1.next().value, gen_1.next().value, gen_1.next().value);gen.next().value.then(yield_1 =&gt; &#123; console.log('yield_1: %s;', yield_1); return gen.next(yield_1).value.then(yield_2 =&gt; &#123; console.log('yield_2: %s;', yield_2) return gen.next(yield_2).value.then(yield_3 =&gt; &#123; console.log('yield_3: %s', yield_3); return gen.next(yield_3); &#125;) &#125;)&#125;);// gen_next_1: [object Promise]; gen_next_2: [object Promise]; gen_next_3: [object Promise];// yield_1: ç¬¬1ä¸ªå¼‚æ­¥ä»»åŠ¡;// yield_2: ç¬¬2ä¸ªå¼‚æ­¥ä»»åŠ¡;// yield_3: ç¬¬3ä¸ªå¼‚æ­¥ä»»åŠ¡// response_1: ç¬¬1ä¸ªå¼‚æ­¥ä»»åŠ¡;response_2: ç¬¬2ä¸ªå¼‚æ­¥ä»»åŠ¡;response_3: ç¬¬3ä¸ªå¼‚æ­¥ä»»åŠ¡;å¦‚æœåªçœ‹ generator å‡½æ•°è¿™å—ï¼Œå‡½æ•°å†…éƒ¨çš„å†™æ³•å’ŒåŒæ­¥æ— å¼‚ã€‚gen å’Œ gen_1 éƒ½æ˜¯åŒä¸€ç”Ÿæˆå™¨çš„å®ä¾‹ã€‚å¦‚å‰æ–‡æ‰€è¿°ï¼Œç†è§£è¿™å—ä»£ç è¿˜æ˜¯è¦ä»ä¸¤æ–¹é¢å…¥æ‰‹ â€”â€”â€”â€” è¿­ä»£å’Œæ¶ˆæ¯ä¼ é€’ã€‚è¿­ä»£å±æ€§åœ¨æ­¤ä¸å†èµ˜è¿°ï¼Œç°åœ¨é‡ç‚¹æ˜¯æ¶ˆæ¯ä¼ é€’çš„å±æ€§ã€‚åœ¨ç”Ÿæˆå™¨ä¸­ï¼Œç”Ÿæˆå™¨å‡½æ•°è¢«è°ƒç”¨åå¹¶æœªç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯æ„é€ äº†ä¸€ä¸ªè¿­ä»£å™¨ã€‚è€Œç”Ÿæˆå™¨æ­£æ˜¯é ç€ yield/next æ¥å®Œæˆç”Ÿæˆå™¨å†…å¤–éƒ¨çš„åŒå‘é€šä¿¡ã€‚åœ¨ç”Ÿæˆå™¨å†…éƒ¨ï¼Œyield æ˜¯ç”¨æ¥æš‚åœï¼ˆå®Œå…¨ä¿æŒå…¶çŠ¶æ€ï¼‰å’Œå‘å¤–éƒ¨ä¼ é€’æ•°æ®çš„å…³é”®å­—/è¡¨è¾¾å¼ï¼ˆåˆå§‹æ—¶å‡½æ•°ä¹Ÿæ˜¯å¤„äºæœªæ‰§è¡ŒçŠ¶æ€ï¼‰ã€‚åœ¨ç”Ÿæˆå™¨å¤–éƒ¨ï¼Œnext å…·æœ‰æ¢å¤ç”Ÿæˆå™¨å’Œå‘ç”Ÿæˆå™¨å†…éƒ¨ä¼ é€’æ•°æ®çš„èƒ½åŠ›ã€‚æ··æ²Œåˆå§‹ï¼ˆgen é€ å‡ºæ¥äº†ï¼‰ï¼Œç›˜å¤å¼€å¤©è¾Ÿåœ°ï¼ˆç¬¬ä¸€ä¸ª next() æ‰§è¡Œï¼‰ï¼Œå¤©åœ°åˆæˆï¼Œç»§å¥³å¨²é€ äººåï¼Œä¸€åˆ‡æ¬£æ¬£å‘è£ã€‚å…±å·¥å’Œç¥èä¸¤ä¸ªè°ƒçš®è›‹æ’åäº†ä¸å‘¨å±±ï¼Œç»™å¥³å¨²å‡ºäº†ä¸€ä¸ªéš¾é¢˜ï¼ˆyieldï¼‰ï¼Œåå¤å²é©»æ­¤ä¸å‰ã€‚å¥³å¨²å‘ä¸Šå¤©æ±‚åŠ©ï¼ˆyield async(1)ï¼‰ï¼Œä¸Šå¤©å›åº”äº†å¹¶é€æ¥äº†äº”å½©çŸ³ï¼ˆyield_1ï¼‰,å¥³å¨²é¡ºåˆ©è¡¥å¤©ï¼Œåå¤å²å†æ¬¡å¯ç¨‹ï¼ˆnext(yield_1)ï¼‰ã€‚ç„¶è€Œå¥½æ™¯ä¸é•¿ï¼Œåå¤éƒ¨è½ç»å¸¸å—åˆ°èš©å°¤éƒ¨è½éªšæ‰°ä¾µçŠ¯ï¼Œèš©å°¤çš„å­˜åœ¨å†æ¬¡é˜»ç¢äº†åå¤å²çš„å‰è¡Œï¼ˆyieldï¼‰ã€‚é»„å¸æ— å¥ˆå‘å…¶å¸ˆæ±‚åŠ©ï¼ˆyield async(2)ï¼‰ï¼Œä¹å¤©ç„å¥³æˆå…¶å…µæ³•ï¼ˆyield_2ï¼‰,é»„å¸é¡ºåˆ©æ€èš©å°¤ï¼Œåå¤å²å†æ¬¡å¯ç¨‹ï¼ˆnext(yield_2)ï¼‰ã€‚ç„¶è€Œå¥½æ™¯ä¸é•¿ï¼Œä¸­åŸåœ°å¸¦æ´ªæ°´æ³›æ»¥ï¼Œåå¤å²å†æ¬¡å—é˜»ï¼ˆyieldï¼‰ã€‚å¤ç¦¹æ— å¥ˆå‘å¤ªä¸Šè€å›æ±‚åŠ©ï¼ˆyield async(3)ï¼‰,å¤ªä¸Šè€å›èµ å…¶ç¥é“ï¼ˆyield_3ï¼‰,å¤ç¦¹é¡ºåˆ©æ²»æ°´ï¼Œåå¤å²å†æ¬¡å¯ç¨‹ï¼ˆnext (yield_3)ï¼‰ã€‚å®åœ¨ç¼–ä¸ä¸‹å»äº†ï¼Œè¿˜å¥½ç»“æŸäº†ã€‚ğŸ˜“ ä»£ç è¿è¡Œè¿‡ç¨‹å¤§æŠµå¦‚æ­¤ã€‚ç”Ÿæˆå™¨å†…éƒ¨ç”Ÿæˆä¸€ä¸ªæ•°æ®ï¼Œç„¶åæŠ›ç»™è¿­ä»£å™¨æ¶ˆè´¹ï¼Œè¿­ä»£å™¨åˆæŠŠæ‰§è¡Œç»“æœç”©ç»™äº†ç”Ÿæˆå™¨ã€‚å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œåˆ«æƒ³çš„å¤ªå¤æ‚å°±è¡Œã€‚æ‰€è°“çš„æ¶ˆæ¯åŒå‘ä¼ é€’ï¼ŒæŒ‡çš„ä¸ä»…ä»…æ˜¯æ­£å¸¸æƒ…å†µä¸‹ç”Ÿæˆå™¨å†…å¤–éƒ¨çš„æ•°æ®ã€‚å¯¹äºå¼‚å¸¸é”™è¯¯ï¼Œç”Ÿæˆå™¨å†…å¤–éƒ¨ä¹Ÿå¯ä»¥åŒå‘æ•æ‰ã€‚å› ä¸ºç”Ÿæˆå™¨å†…éƒ¨çš„æš‚åœï¼Œæ˜¯ä¿ç•™äº†å…¶ä¸Šä¸‹æ–‡çš„ï¼Œæ‰€ä»¥ try...catch åˆå¯ä»¥ä¸€å±•èº«æ‰‹äº†ã€‚ç”Ÿæˆå™¨è‡ªæ‰§è¡Œ &amp; async/awaitPromise + ç”Ÿæˆå™¨ æ¥è¡¨è¾¾å¼‚æ­¥ç®—æ˜¯å®ç°äº†ï¼Œç„¶è€Œæˆ‘ä»¬ä¹Ÿåº”è¯¥æ³¨æ„åˆ°åœ¨ç”¨è¿­ä»£å™¨æ§åˆ¶ç”Ÿæˆå™¨çš„é‚£éƒ¨åˆ†å¤ªè¿‡ç¹çã€‚å¦‚æœèƒ½å¤Ÿå°è£…ä¸‹å°±å¥½äº†ï¼Œ å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031323334const generator_wrap = function (generator) &#123; const args = [...arguments].slice(1); const gen = generator.apply(this, args); return new Promise((resolve, reject) =&gt; &#123; const handleNext = function handleNext(yield)&#123; let next; try &#123; next = gen.next(yield); &#125; catch (error) &#123; reject(error) &#125; if (next.done) &#123; resolve(next.value) &#125; else &#123; return Promise.resolve(next.value).then(yield =&gt; &#123; handleNext(yield); &#125;, error =&gt; &#123; gen.throw(error); &#125;) &#125; &#125;; handleNext(); &#125;)&#125;;// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” æ‰‹åŠ¨åˆ†å‰²çº¿ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”const generator = function *generator()&#123; const response_1 = yield async(1); const response_2 = yield async(2); const response_3 = yield async(3); console.log('response_1: %s;response_2: %s;response_3: %s;',response_1,response_2,response_3);&#125;;generator_wrap(generator);// response_1: ç¬¬1ä¸ªå¼‚æ­¥ä»»åŠ¡;response_2: ç¬¬2ä¸ªå¼‚æ­¥ä»»åŠ¡;response_3: ç¬¬3ä¸ªå¼‚æ­¥ä»»åŠ¡;ä¸çœ‹ generator_wrap å‡½æ•°ï¼Œåªçœ‹åˆ†å‰²çº¿ä»¥ä¸‹çš„éƒ¨åˆ†ã€‚è‡³æ­¤ï¼Œå¼‚æ­¥æµç¨‹çš„è¡¨è¾¾è¶Šæ¥è¶Šæ¥è¿‘ç†æƒ³ä¸­çš„æ¨¡æ ·äº†ã€‚ä½† generator_wrap å‡½æ•°è¿˜æ˜¯éœ€è¦è‡ªå·±æ‰‹åŠ¨å°è£…ï¼Œä¸è¿‡ç°åœ¨ä¸ç”¨å•¦ğŸ˜„ES2017 æ¨å‡ºäº† async/await ï¼Œæˆ‘ä»¬ä¸ç”¨å†è‡ªå·±å»ç®¡ç†ç”Ÿæˆå™¨ï¼Œç®€å•ã€å¼ºå¤§ã€æ–¹ä¾¿çš„ async/await ä¸ºæˆ‘ä»¬å¤„ç†äº†ä¸€åˆ‡ã€‚123456789const awati_async = async () =&gt; &#123; const response_1 = await async(1); const response_2 = await async(2); const response_3 = await async(3); console.log('response_1: %s;response_2: %s;response_3: %s;', response_1, response_2, response_3);&#125;;awati_async();// response_1: ç¬¬1ä¸ªå¼‚æ­¥ä»»åŠ¡;response_2: ç¬¬2ä¸ªå¼‚æ­¥ä»»åŠ¡;response_3: ç¬¬3ä¸ªå¼‚æ­¥ä»»åŠ¡;è‡³æ­¤ï¼Œå…³äº JavaScript çš„å¼‚æ­¥è¡¨è¾¾æš‚æ—¶å‘Šä¸€æ®µè½äº†ğŸ‘‹ã€‚]]></content>
      <categories>
        <category>å¾ˆéš¾ä¹ˆ</category>
      </categories>
      <tags>
        <tag>å¼‚æ­¥</tag>
        <tag>ç”Ÿæˆå™¨</tag>
        <tag>async/await</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»è¿­ä»£å™¨æ¨¡å¼åˆ°è¿­ä»£åè®®]]></title>
    <url>%2F%E4%BB%8E%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%88%B0%E8%BF%AD%E4%BB%A3%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[è¿­ä»£å™¨æ¨¡å¼è¿­ä»£å™¨æ¨¡å¼æ˜¯æŒ‡æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚è¿­ä»£å™¨åˆ†ä¸ºå†…éƒ¨è¿­ä»£å™¨å’Œå¤–éƒ¨è¿­ä»£å™¨ã€‚å†…éƒ¨è¿­ä»£å™¨åªéœ€ä¸€æ¬¡åˆå§‹è°ƒç”¨ï¼Œè€Œå¤–éƒ¨è¿­ä»£å™¨å¿…é¡»æ˜¾å¼åœ°è¯·æ±‚è¿­ä»£ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ‰‹åŠ¨æ§åˆ¶è¿­ä»£è¿‡ç¨‹ã€‚å®ç°ä¸€ä¸ªå†…éƒ¨è¿­ä»£å™¨ï¼š1234567891011Array.prototype.innerIterator = function(callback)&#123; for (let i = 0, len = this.length; i &lt; len; i++) &#123; callback &amp;&amp; callback.call(this[i], this[i], i) &#125;&#125;;[1,2,3].innerIterator(function(item, index)&#123; console.log('item:', item, 'index:', index)&#125;)// item: 1 index: 0// item: 2 index: 1// item: 3 index: 2å®ç°ä¸€ä¸ªå¤–éƒ¨è¿­ä»£å™¨ï¼š123456789101112131415161718Array.prototype.outerInterator = function()&#123; let index = 0; return &#123; next: () =&gt; &#123; return index &lt; this.length ? &#123;value: this[index++], done: false&#125;: &#123;value: undefined, done: true&#125; &#125; &#125;&#125;let iterator = [1,2,3].outerInterator();for(let next; (next = iterator.next()) &amp;&amp; !next.done;) &#123; console.log('item', next.value)&#125;// item 1// item 2// item 3è¿­ä»£åè®®äº†è§£äº†è¿­ä»£å™¨æ¨¡å¼ï¼Œå†æ¥çœ‹çœ‹ ES6 ä¸­è¡¥å……çš„è¿­ä»£åè®®ã€‚å¯è¿­ä»£ï¼ˆiterableï¼‰åè®®å’Œè¿­ä»£å™¨ï¼ˆiteratorï¼‰åè®®ã€‚å¯è¿­ä»£åè®®ï¼šä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆæˆ–å…¶åŸå‹ä¸Šï¼‰ï¼Œå¿…é¡»æœ‰ä¸€ä¸ª Symbol.iterator çš„å±æ€§ï¼Œè¯¥å±æ€§æ‰€å¯¹åº”çš„å€¼ä¸ºè¿”å›ä¸€ä¸ªå¯¹è±¡çš„æ— åƒå‡½æ•°ï¼Œè¢«è¿”å›å¯¹è±¡ç¬¦åˆè¿­ä»£å™¨åè®®ã€‚å½“å¯è¿­ä»£å¯¹è±¡éœ€è¦è¿­ä»£æ—¶ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€äº›æ•°æ®ç±»å‹å†…ç½®äº† @@iterator æ–¹æ³•ï¼Œæœ‰è‡ªå·±é»˜è®¤çš„è¿­ä»£è¡Œä¸ºã€‚ï¼ˆString, Array, TypedArray, Map , Set ç­‰éƒ½æ˜¯å†…ç½®å¯è¿­ä»£å¯¹è±¡ï¼Œ å› ä¸ºå®ƒä»¬çš„åŸå‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª @@iterator æ–¹æ³•.ï¼‰ï¼ˆ[Symbol.iterator]ã€@@iterator å¯ä»¥è®¤ä¸ºæ˜¯ä¸€å›äº‹ï¼‰123let iterator = ('hi')[Symbol.iterator]()var a = iterator.next();// a &#123; value: 'h', done: false &#125;è¿­ä»£å™¨åè®®ï¼šä¸€ä¸ªè¿­ä»£å™¨å¿…é¡»å®ç°äº† next() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡çš„æ— åƒå‡½æ•°ã€‚è¢«è¿”å›çš„å¯¹è±¡æœ‰ä¸¤ä¸ªå¿…è¦çš„å±æ€§ï¼šdone å’Œ valueã€‚123456789101112131415161718Array.prototype.Iteration = function()&#123; let index = 0; return &#123; [Symbol.iterator]()&#123;return this&#125;, next: () =&gt; &#123; return index &lt; this.length ? &#123;value: this[index++], done: false&#125;: &#123;value: undefined, done: true&#125; &#125; &#125;&#125;;let Iteration = [2, 3, 4].Iteration();for(let value of Iteration) &#123; console.log('value', value)&#125;// value 2// value 3// value 4ä¸èƒ½å‘ç°ï¼ŒIteration åŒæ—¶æ»¡è¶³å¯è¿­ä»£åè®®å’Œè¿­ä»£åè®®ã€‚åˆå› ä¸ºæ˜¯å¯è¿­ä»£çš„ï¼Œfor...of æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸”è¿™ä¸ªå’Œå¤–éƒ¨è¿­ä»£å™¨ååˆ†ç›¸ä¼¼ã€‚ä¸€æ—¦ä¸€ç§æ•°æ®ç»“æ„æœ‰äº† @@iterator æ–¹æ³•åï¼Œ å°±è®¤ä¸ºæ˜¯å¯è¿­ä»£çš„ã€‚ES6 ä¸­è®¸å¤šæ–°çš„æ–¹æ³•å°±æ˜¯åŸºäºæ­¤çš„ è§£æ„èµ‹å€¼ã€æ‰©å±•è¿ç®—ç¬¦ã€yield*ï¼Œè¿˜æœ‰ for..ofã€Array.from()ç­‰ã€‚çŸ¥é“äº†ä»¥ä¸ŠçŸ¥è¯†ï¼Œä¹Ÿå°±çŸ¥é“äº†ä¸ºä»€ä¹ˆå¯¹è±¡ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨ for...of äº†ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡åŸå‹ä¸Šæ·»åŠ  @@iterator æ–¹æ³•ï¼Œä½¿ä¹‹æˆä¸ºå¯è¿­ä»£çš„ã€‚12345678910111213141516171819Object.prototype.Iteration = function()&#123; let keys = Object.keys(this), index = 0; return&#123; [Symbol.iterator]()&#123;return this&#125;, next: () =&gt; &#123; let current = index++; return current &lt; keys.length? &#123;value: [keys[current], this[keys[current]]], done: false&#125;: &#123;value: undefined, done: true&#125;; &#125; &#125;&#125;let iterator = &#123;'a': 1, 'b': 2, 'c': 3&#125;.Iteration(); for(let [key, value] of iterator) &#123; console.log('key:', key, 'value:', value)&#125;// key: a value: 1// key: b value: 2// key: c value: 3ç”Ÿæˆå™¨åƒä»¥ä¸Šçš„çš„å¯¹è±¡éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨å®ç°çš„ï¼Œç¬¦åˆå¯è¿­ä»£åè®®å’Œè¿­ä»£åè®®çš„å¯¹è±¡ã€‚çœ‹èµ·æ¥å¾ˆéº»çƒ¦ï¼Œè¿˜å¥½è¿™äº›å·¥ä½œå·²ç»æœ‰å‡½æ•°æ›¿æˆ‘ä»¬åšäº†ï¼Œé‚£å°±æ˜¯ç”Ÿæˆå™¨å‡½æ•°ã€‚ç”Ÿæˆå™¨å‡½æ•°æ˜¯å¯ä»¥ä½œä¸ºè¿­ä»£å™¨å·¥å‚çš„å‡½æ•°ï¼Œå½“å®ƒè¢«æ‰§è¡Œæ—¶ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Generator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç¬¦åˆå¯è¿­ä»£åè®®å’Œè¿­ä»£å™¨åè®®ã€‚ç°åœ¨æˆ‘ä»¬ç”¨ç”Ÿæˆå™¨å‡½æ•°ä½¿å¾—å¯¹è±¡ç¬¦åˆè¿­ä»£åè®®ï¼š1234567891011Object.prototype.Iteration = function *()&#123; for(let [key, value] of Object.entries(this))&#123; yield [key, value] &#125;&#125;for(let [key, value] of &#123;'a': 1, 'b': 2, 'c': 3&#125;.Iteration()) &#123; console.log('key:', key, 'value:', value)&#125;// key: a value: 1// key: b value: 2// key: c value: 3åœ¨è¿™é‡Œç”Ÿæˆå™¨åªæ˜¯ä½œä¸ºè¿­ä»£å™¨è€Œå·²ï¼Œå…¶å®å®ƒè¿˜æ˜¯æ¶ˆæ¯åŒå‘ä¼ é€’ç³»ç»Ÿã€‚ä¹Ÿæ­£æ˜¯è¿™äº›ç‰¹æ€§çš„å­˜åœ¨ï¼Œä½¿å¾—å¼‚æ­¥æµç¨‹æ§åˆ¶åˆå‘å‰è¿ˆäº†ä¸€å¤§æ­¥ã€‚]]></content>
      <categories>
        <category>å¾ˆéš¾ä¹ˆ</category>
      </categories>
      <tags>
        <tag>è¿­ä»£å™¨</tag>
        <tag>è¿­ä»£åè®®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨DevToolsæé«˜ä½ çš„å·¥ä½œæ•ˆç‡]]></title>
    <url>%2F%E7%94%A8DevTools%E6%8F%90%E9%AB%98%E4%BD%A0%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%2F</url>
    <content type="text"><![CDATA[Chrome DevTools è°ƒè¯•ä½¿ç”¨ demoåœ°å€ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œå…ä¸äº†è¦å’Œ DevTools æ‰“äº¤é“,ç†Ÿç»ƒçš„ä½¿ç”¨ DevTools èƒ½å¤Ÿå¤§å¤§æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚ç„¶è€Œï¼Œå¼€å‘è€…å·¥å…·çš„ä½¿ç”¨å¹¶æ²¡æœ‰å¾—åˆ°è¶³å¤Ÿçš„é‡è§†ã€‚å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œæ›´ä½•å†µï¼Œå·¥å…·çš„å­¦ä¹ æˆæœ¬æ¯”ä¸“ä¸šæŠ€èƒ½çš„å­¦ä¹ æˆæœ¬å°çš„å¤šã€‚Chrome æœ‰ä¸åŒç‰ˆæœ¬ï¼Œå¦‚æœæƒ³ç¬¬ä¸€æ—¶é—´ä½“éªŒä¸€äº›æ–°çš„åŠŸèƒ½å¯ä»¥ä½¿ç”¨é™¤ç¨³å®šç‰ˆæœ¬çš„å…¶å®ƒç‰ˆæœ¬ã€‚æœ¬æ¬¡ä¸»è¦å›´ç»•ç€ Workspace å’Œ Blackbox script è¿™ä¸¤ç‚¹æ¥æ„Ÿå—å®ƒä»¬å¸¦æ¥çš„ä¾¿åˆ©ã€‚WorkspaceWorkspace ä¸»è¦è¿˜æ˜¯å°†æµè§ˆå™¨å…³è”æœ¬åœ°æ–‡ä»¶ï¼Œä½¿å¾—æµè§ˆå™¨æ‹¥æœ‰è¯»å†™æœ¬åœ°æ–‡ä»¶çš„æƒåˆ©ã€‚éšç€å‰ç«¯çš„å‘å±•ï¼Œä¸šåŠ¡å’Œé€»è¾‘ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ã€‚è¿˜å¥½æ‰“åŒ…å‹ç¼©å·¥å…·åº”è¿è€Œç”Ÿï¼Œè¿˜æœ‰ sourceMap çš„ä½¿ç”¨ï¼Œåˆè®©æˆ‘ä»¬ä»å‹ç¼©æ··æ·†çš„ä»£ç ä¸­æœ‰äº†çœ‹æºç çš„ä½“éªŒã€‚æ­¤æ—¶æˆ‘ä»¬ä¾ç„¶å¯ä»¥ DevTools é‡Œ Sources é¡µç­¾é‡Œçš„ Filesystem é¡µç­¾æ·»åŠ æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œä»æµè§ˆå™¨é‡Œä¿®æ”¹æœ¬åœ°æ–‡ä»¶ã€‚è¿™ä¸ªåŠŸèƒ½æˆ–è®¸è¿˜æœ‰ç‚¹ç”¨ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸å¦‚äººæ„ã€‚å› ä¸ºä¿®æ”¹åçš„æ–‡ä»¶éœ€è¦åˆ·æ–°åæ‰èƒ½æ˜¾ç¤ºå˜åŠ¨ï¼Œè€Œæ–‡ä»¶è¢«æ›´æ”¹åï¼Œæ‰“åŒ…å·¥å…·éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œç¼–è¯‘æ—¶é—´æˆ–è®¸å¾ˆé•¿æˆ–è®¸å¾ˆçŸ­ï¼Œè€Œä¸”é¡µé¢è¢«è¢«æ•´ä½“åˆ·æ–°äº†ï¼Œç»™äººä¸€ç§å¾ˆç”Ÿç¡¬çš„æ„Ÿè§‰ã€‚ä¸è¿‡ï¼Œè¿˜å¥½æœ‰ çƒ­ç»„ä»¶æ›¿æ¢ è¿™ä¹ˆä¸€è¯´ã€‚ç»™æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåŠ ä¸Šè¿™è´§ä¹‹åï¼Œæˆ‘ä»¬çš„å¼€å‘å°†ä¼šæ›´åŠ ä¸æ»‘ğŸ˜‰ã€‚çƒ­ç»„ä»¶æ›¿æ¢ä»¥ create-react-app ä¸ºä¾‹ğŸŒ°ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰ï¼Œæ­¥éª¤å¦‚ä¸‹ã€‚ä¹Ÿå¯ä»¥çœ‹çœ‹ğŸ‘€å®˜æ–¹æ€ä¹ˆè¯´react-hot-loader.1âƒ£ï¸ï¼š1npm install react-hot-loader --save-dev2âƒ£ï¸ï¼šåœ¨ entry ä¸­æ·»åŠ  isEnvDevelopment &amp;&amp; &#39;react-hot-loader/patch&#39;,3âƒ£ï¸ï¼šåœ¨ oneOf ä¸­ babel-loader çš„ plugins ä¸­æ·»åŠ  [&#39;react-hot-loader/babel&#39;],4âƒ£ï¸ï¼šåœ¨å…¥å£æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å†…å®¹1234567891011121314151617181920import &#123; AppContainer &#125; from 'react-hot-loader'const root = document.getElementById('root')const render = (Component) =&gt; &#123; ReactDOM.render( &lt;AppContainer&gt; &lt;Component /&gt; &lt;/AppContainer&gt;, root )&#125;render(App)if (module.hot) &#123; module.hot.accept('./App', () =&gt; &#123; const NextApp = require('./App').default render(NextApp) &#125;)&#125;è‡³æ­¤ï¼Œçƒ­ç»„ä»¶æ›¿æ¢æ”¹é€ å®Œæˆï¼Œè®©æˆ‘ä»¬å†æ¬¡æ„Ÿå—ä¸‹ã€‚é€šè¿‡ä»¥ä¸Šå±•ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ•´ä¸ªç•Œé¢åªæ˜¯å±€éƒ¨è¢«æ›¿æ¢äº†ï¼Œè¿‡æ¸¡å¾—å¾ˆè‡ªç„¶ã€‚è¿™åº”è¯¥æ‰æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœâœ¨ã€‚æ’ä¸€å¥ï¼Œåœ¨ Network é¡µç­¾ä¸­ï¼ŒPreserve log ä¸€å®šè¦å‹¾é€‰ä¸Šâ˜‘ï¸ã€‚è¿™æ ·çš„è¯ï¼Œå³ä½¿é¡µé¢åˆ·æ–°äº†ï¼Œä¹Ÿæ˜¯æœ‰è®°å½•ğŸ“çš„ï¼Œéå¸¸æ–¹ä¾¿åœ¨é¡µé¢è·³è½¬åˆ·æ–°æ—¶ä½¿ç”¨ã€‚Blackbox scriptå¦‚æœè¯´ä»¥ä¸Šæ˜¯æé«˜äº†å¼€å‘ä¸Šçš„æ•ˆç‡ï¼Œé‚£ä¹ˆè¿™ä¸ª Blackbox script åŠŸèƒ½å°†ä¼šåœ¨å®šä½ä¸Šçœä¸‹ä¸å°‘æ—¶é—´ã€‚åœ¨æ–­ç‚¹æ’æŸ¥é—®é¢˜æ—¶ï¼Œä»£ç æ€»ä¼šåœ¨ä¸åŒçš„ä½ç½®åˆ‡æ¢ã€‚ä½†æ˜¯ï¼Œç»å¸¸ä¼šé‡åˆ°å„ç§ä¸æ˜¯æˆ‘ä»¬ç¨‹åºé‡Œçš„ä»£ç è·³å‡ºæ¥ã€‚ä¸è¿‡ï¼Œåªè¦æˆ‘ä»¬æŠŠè¯¥æ–‡ä»¶æ ‡è®°ä¸º Blackbox script æ—¶ï¼Œä¸‹æ¬¡å°±ä¸ä¼šå†å‡ºç°äº†ã€‚å½“ç„¶è¿™åªæ˜¯æœ€åŸºæœ¬çš„æ“ä½œï¼Œè¦æƒ³å……åˆ†åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œè¿˜æ˜¯è¦é…åˆå…¶å®ƒåŠŸèƒ½çš„ä½¿ç”¨ã€‚Call Stackè°ƒç”¨æ ˆåœ¨æ’æŸ¥é—®é¢˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°çš„æ‰§è¡Œæ˜¯æœ‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„ï¼Œå‡½æ•°ç”±æœ€å¤–å±‚åˆ°æœ€å†…å±‚ä¾æ¬¡å‹å…¥æ ˆä¸­ï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œä¾æ¬¡ä»æ ˆä¸­å¼¹å‡ºã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä»æœ€å†…å±‚æ²¿ç€é“¾æ‰¾åˆ°æœ€å¤–å±‚ã€‚æ’æŸ¥é”™è¯¯æ—¶ä¹Ÿæ˜¯è¿™ä¸ªé“ç†ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä¸çŸ¥åçš„é”™è¯¯âŒï¼Œå¯èƒ½æ˜¯è°ƒç”¨ç¬¬ä¸‰æ–¹çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯åº•å±‚ï¼Œæ€»ä¹‹ä¸æ˜¯æˆ‘ä»¬å†™çš„ä»£ç ï¼ˆæˆ‘ä¿¡ä½ ä¸ªé¬¼ğŸ˜ï¼‰ã€‚é‡åˆ°è¿™ç§æƒ…å†µå°±å¯ä»¥å°è¯•ç”¨è°ƒç”¨æ ˆçš„æ–¹æ³•ï¼Œæ—¢ç„¶æ‰§è¡Œäº†ï¼Œè‚¯å®šæ˜¯æœ‰è°ƒç”¨çš„åœ°æ–¹ï¼Œæˆ‘ä»¬å¯ä»¥æ²¿ç€é“¾å»æ‰¾æºå¤´ï¼ˆåæœ‰å…«ä¹æ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„ä»£ç ğŸ˜ï¼‰ã€‚ä¸è¿‡è°ƒç”¨æ ˆä¸­å¯èƒ½æ··æ‚äº†ä¸æ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°ï¼Œè¿™æ—¶å€™ Blackbox script å°±æ´¾ä¸Šç”¨åœºäº†ã€‚Event Listener Breakpointså¯èƒ½åœ¨ç†Ÿæ‚‰ä¸€ä¸ªæ–°çš„é¡¹ç›®æ—¶ï¼Œæƒ³çŸ¥é“æŸä¸ª dom ç»‘å®šçš„å¤„ç†äº‹ä»¶ã€‚Sources é¡µç­¾ä¸‹çš„ Event Listener Breakpoints å¯ä»¥å®šä½åˆ°ä»£ç å…·ä½“çš„ä½ç½®ï¼Œä¸è¿‡å’Œä¸Šæ¬¡ä¸€æ ·ï¼Œå¥½å¤šå…¶å®ƒä»£ç æ··æ·†è§†å¬ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒä»¬æ ‡è®°ä¸º Blackbox scriptã€‚æ ‡è®°å®Œåï¼Œä¸‹æ¬¡å°±ä¼šç›´æ¥åœ¨è‡ªå·±çš„ä»£ç é‡Œåœä½äº†ã€‚Initiatorå…¶å®å’Œ Event Listener Breakpoints å¹¶æ’çš„ XHR/fetch Breakpoints ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä¸è¿‡å’Œæ¥ä¸‹æ¥è¦è®²çš„åŠŸèƒ½æ¯”ï¼Œå°±æ˜¾å¾—é¸¡è‚‹äº†ã€‚åœ¨ Network é¡µç­¾ä¸­ï¼Œè®°å½•çš„éƒ½æ˜¯è¯·æ±‚çš„æ•°æ®ã€‚åœ¨å¼€å‘çš„æ—¶å€™å¸¸é‡åˆ°è¿™ä¸¤ç§æƒ…å†µï¼Œ1âƒ£ï¸ï¼šæ¥å£æŠ¥é”™ï¼Œåœ¨ Network é¡µç­¾ä¸­å¯ä»¥çœ‹åˆ°æ•´ä¸ªURLè¢«æ ‡çº¢äº†ï¼Œè¦å¿«é€Ÿå®šä½åˆ°è°ƒç”¨æ¥å£çš„åœ°æ–¹ã€‚2âƒ£ï¸ï¼šè¯·æ±‚å‡ºå»äº†ï¼Œè¯·çœ‹çœ‹å“åº”æ—¶ï¼Œå¦‚ä½•å¤„ç†æ•°æ®ã€‚å…¶å®ï¼Œä¸¤ä¸ªå®è´¨ä¸Šéƒ½æ˜¯ä¸€æ ·ï¼Œå°±æ˜¯å¿«é€Ÿå®šä½ä»£ç ã€‚å¿«é€Ÿå®šä½åœ¨å¤§å‹é¡¹ç›®ä¸­è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œé™¤éä¸šåŠ¡æ¯”è¾ƒç†Ÿï¼Œå‰©ä¸‹åªèƒ½å…¨å±€æœç´¢äº†ã€‚è¿˜å¥½ï¼ŒNetwork é¡µç­¾ä¸‹çš„ Initiator ä¹Ÿæœ‰ç±»ä¼¼è°ƒç”¨æ ˆçš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶åˆ—è¡¨ä¸­æ‰¾åˆ°ï¼ŒBlackbox script çš„åŠŸèƒ½ä¾ç„¶æ—¶å±è”½æ— å…³çš„ä»£ç ã€‚è¡¥å……é™¤äº†ä»¥ä¸Šè¿˜æœ‰å¾ˆå¤šè°ƒè¯•æŠ€å·§ï¼Œ1âƒ£ï¸ï¼šæœ‰æ—¶å€™æˆ‘ä»¬çœ‹è§äº†æ§åˆ¶æœ‰é”™è¯¯âŒè¾“å‡ºï¼Œå´ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„é—®é¢˜ã€‚æˆ–è€…æ˜¯æ§åˆ¶æœ‰æŠ¥é”™âŒï¼Œä½†ä¸€é—ªè€Œè¿‡ï¼Œæ— æ³•æ•æ‰ã€‚è¿™æ—¶å€™å¯ä»¥å°è¯•ä½¿ç”¨å¼‚å¸¸æ–­ç‚¹çš„åŠŸèƒ½(æœ€å³â¡ï¸çš„é‚£ä¸ª)ã€‚å€’æ•°ç¬¬äºŒä¸ªï¼Œæ˜¯ç”¨æ¥æ¢å¤å‡½æ•°æ‰§è¡Œçš„ï¼Œä½¿æ–­ç‚¹ä¸èµ·ä½œç”¨ã€‚2âƒ£ï¸ï¼šæ•°æ®é‡è¿‡å¤§æ—¶ï¼Œå¯èƒ½ç”±äºæŸä¸€æ¡æ•°æ®çš„é—®é¢˜å¯¼è‡´äº†é¡µé¢æ¸²æŸ“é—®é¢˜ã€‚å¦‚æœæ‰“æ–­ç‚¹çš„è¯ï¼Œæ•°æ®é‡å¤ªå¤§äº†ï¼Œæ¯ä¸€æ¬¡éƒ½è·³åˆ°å¾ªç¯çš„å¤„ç†é€»è¾‘ä¸­ä¼šå¾ˆéº»çƒ¦ã€‚ä¸è¿‡æ–­ç‚¹æ˜¯æ”¯æŒæ¡ä»¶æ–­ç‚¹çš„ï¼Œè¿˜å¯ä»¥æ‰“å°æˆ‘ä»¬æƒ³è¦çš„å˜é‡ï¼ˆåœ¨æœ€æ–°çš„ Chrome devç‰ˆæœ¬ä¸­ï¼Œå·²å•ç‹¬æ‹å‡ºæ¥äº†ï¼‰ã€‚3âƒ£ï¸ï¼šæœ‰æ—¶å€™é¡µé¢åŠ è½½è¿‡å¿«ï¼Œéƒ½æ¥ä¸åŠçœ‹æ˜ç™½é¡µé¢æ˜¯æ€ä¹ˆå±•ç¤ºçš„ã€‚æ¯”å¦‚è·³è½¬é—®é¢˜ï¼Œæ¯”å¦‚æ¨¡æ‹Ÿç½‘é€Ÿæ…¢ã€ç”µè„‘æ€§èƒ½å¡æ…¢é—®é¢˜ã€‚ï¼ˆè¿™é‡Œåæœ‰å…«ä¹æ˜¯å¹¶å‘å¼•èµ·çš„ç«æ€é—®é¢˜ğŸ˜ï¼‰å³ä¸‹è§’ Oneline å¯è‡ªé€‰æ¨¡å¼ã€‚4âƒ£ï¸ï¼šâ€¦â€¦]]></content>
      <categories>
        <category>å–„äº‹åˆ©å™¨</category>
      </categories>
      <tags>
        <tag>Chrome</tag>
        <tag>DevTools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼‚æ­¥çš„JavaScript(Promiseç¯‡)]]></title>
    <url>%2F%E5%BC%82%E6%AD%A5%E7%9A%84JavaScript%E2%80%94%E2%80%94Promise%E7%AF%87%2F</url>
    <content type="text"><![CDATA[å¼•è¨€é”™è¯¯ç†è§£ç²¾å¿ƒç»„ç»‡èµ·æ¥çš„å¼‚æ­¥ä»£ç è¿˜ä¸å¦‚ä½¿ç”¨ä¸€å›¢ä¹±éº»çš„å›è°ƒå‡½æ•°ã€‚åœ¨å¤„ç†å¼‚æ­¥çš„é—®é¢˜ä¸Šï¼Œå›è°ƒåŸºæœ¬ä¸Šèƒ½å¤Ÿèƒœä»»ï¼Œä¸è¿‡è¿™éƒ½æ˜¯å»ºç«‹åœ¨ä¸€åˆ‡æ­£å¸¸è¿è½¬çš„åŸºç¡€ä¸Šã€‚ç„¶è€Œäº‹ä¸æ„¿è¿ï¼Œå›è°ƒå—åˆ°æ§åˆ¶åè½¬çš„å½±å“ï¼ŒæŠŠæ§åˆ¶æƒäº¤ç»™äº†ç¬¬ä¸‰æ–¹ï¼Œè¿™ç§æ§åˆ¶è½¬ç§»å¯¼è‡´äº†ä¸€ç³»åˆ—çš„ä¿¡ä»»é—®é¢˜ï¼ˆå›è°ƒè°ƒç”¨è¿‡æ—©ã€å›è°ƒè°ƒç”¨è¿‡æ™šã€å›è°ƒä¸è¢«è°ƒç”¨ã€å›è°ƒè°ƒç”¨æ¬¡æ•°è¿‡å°‘æˆ–è¿‡å¤šç­‰é—®é¢˜ï¼‰ã€‚åŒæ—¶ï¼ŒåŸºäºå›è°ƒçš„å¼‚æ­¥è¡¨è¾¾åˆæ˜¯æ— åºæ€§çš„ï¼Œå›è°ƒåœ°ç‹±çš„ä½¿ç”¨ï¼Œè®©æˆ‘ä»¬æ­£ç¡®ç†è§£ä»£ç çš„éš¾åº¦åŠ å¤§ã€‚å‡½æ•°çš„ç¡®å¯ä»¥è§„é¿ä»¥ä¸Šçš„é—®é¢˜ï¼Œä½†æ˜¯ï¼Œæ¯‹åº¸ç½®ç–‘ï¼Œè¿™ä¼šå†æ¬¡åŠ å¤§ä»£ç çš„ç†è§£éš¾åº¦ã€‚ä¸å…¶äº¤ç»™ä¸ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹ï¼Œå€’ä¸å¦‚è½¬äº¤ç»™ä¸€ä¸ªä½äºæˆ‘ä»¬å’Œç¬¬ä¸‰æ–¹é—´çš„å¯ä¿¡ä»»çš„ä¸­ä»‹æœºåˆ¶ï¼Œè¿™é‡Œå°±æ˜¯æˆ‘ä»¬è¦è¯´çš„ Promiseã€‚å›è°ƒçš„è½¬å˜å¦‚ä½•æŠŠå›è°ƒäº¤ç»™ Promiseï¼Œ å…¶å®å¾ˆç®€å•ã€‚ä½¿ç”¨ Promise åæˆ‘ä»¬å°±æ— éœ€å†å…³å¿ƒå¤§éƒ¨åˆ†çš„ä¿¡ä»»é—®é¢˜å’Œæ— åºæ€§ã€‚å› ä¸º Promise æœºåˆ¶å·²ç»ä¸ºæˆ‘ä»¬å¤„ç†å¥½äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†™äº›ç‰¹å®šé€»è¾‘æ¥è§£å†³ä¸€äº›ä¿¡ä»»é—®é¢˜å’Œå¹¶å‘å¸¦æ¥çš„ç«æ€é—®é¢˜ï¼Œåªè¦æˆ‘ä»¬æŒ‰ç…§ Promise è§„èŒƒæ­£ç¡®æ‰§è¡Œå³å¯ã€‚ç°åœ¨ï¼Œä»¥ setTimeout ä»£è¡¨å¼‚æ­¥æ“ä½œæ¥è¿›è¡Œ Promise æ”¹é€ ã€‚12345678910111213// callback asyncconst callback_async = (x = Date.now(), callback) =&gt; &#123; // do something now console.log('callback_async:åˆå§‹æ—¶é—´æˆ³', x) setTimeout(() =&gt; &#123; // do something in the future let interval = Date.now() - x callback &amp;&amp; callback(`callback_async:åœ¨$&#123;interval&#125;æ¯«ç§’åå¼‚æ­¥å®Œæˆ`) &#125;, 1000)&#125;callback_async(undefined, res =&gt; &#123; console.log('callback_async:', res)&#125;)åœ¨ Promise ä¸­æˆ‘ä»¬ä¾ç„¶èƒ½å¤Ÿçœ‹åˆ°å›è°ƒçš„èº«å½±ï¼Œåªæ˜¯å›è°ƒä½œä¸ºå‚æ•°ä¼ é€’çš„ä½ç½®å‘ç”Ÿäº†å˜åŒ–ã€‚æˆ‘ä»¬ä¸å†æŠŠå›è°ƒäº¤ç»™ç¬¬ä¸‰æ–¹ï¼Œè€Œæ˜¯è®© Promise ä»ç¬¬ä¸‰æ–¹è·å–æŸäº›æ•°æ®ï¼Œç„¶åå›è°ƒä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ã€‚1234567891011121314const promise_async = (x = Date.now()) =&gt; &#123; return new Promise(resolve =&gt; &#123; // do something now console.log('promise_async:åˆå§‹æ—¶é—´æˆ³', x) setTimeout(() =&gt; &#123; // do something in the future let interval = Date.now() - x resolve(`promise_async:åœ¨$&#123;interval&#125;æ¯«ç§’åå¼‚æ­¥å®Œæˆ`) &#125;, 1000) &#125;)&#125;promise_async(undefined).then(res =&gt; &#123; console.log(res)&#125;)ä¸åŒä¹‹å‰çš„æŠŠå›è°ƒç›´æ¥ä¼ ç»™ç¬¬ä¸‰æ–¹çš„åšæ³•ï¼Œè¿™æ¬¡æ˜¯é ç€ Promise è¿™ä¸ªä¸­é—´æœºåˆ¶æ¥æ›¿å¼‚æ­¥ä»»åŠ¡ç®¡ç†ç€å›è°ƒã€‚é”™è¯¯çš„å¤„ç†ä½¿ç”¨ Promise åï¼Œæ€ä¹ˆå°±ä¼šå¥½äº†å¾ˆå¤šå‘¢ï¼Ÿé¦–å…ˆè¯´è¯´åœ¨é”™è¯¯çš„å¤„ç†ä¸Šã€‚JavaScript ä»£ç åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­è‹¥é‡åˆ°é”™è¯¯å°±ä¸ä¼šæ‰§è¡Œä¸‹å»çš„ã€‚ä½œä¸ºä¼ å…¥ç¬¬ä¸‰æ–¹çš„å›è°ƒï¼ˆåŒæ­¥å›è°ƒæˆ–å¼‚æ­¥å›è°ƒï¼‰ï¼Œå¦‚æœåœ¨æ­¤ä¹‹å‰å°±å·²ç»æŠ¥é”™äº†ï¼Œå›è°ƒå‹æ ¹ä¸ä¼šæ‰§è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œèƒ½é€šè¿‡å›è°ƒæ•è·é”™è¯¯ï¼Œä¹Ÿæ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚æˆ‘ä»¬å¾ˆè‡ªç„¶åœ°æƒ³åˆ°äº† try...catch , ä¸è¿‡åœ¨å¼‚æ­¥å›è°ƒä¸­ï¼Œå›è°ƒå‡½æ•°çš„æ‰§è¡Œæ ˆä¸åŸå‡½æ•°åˆ†ç¦»å¼€ï¼Œå¯¼è‡´å¤–éƒ¨æ˜¯æ— æ³•æŠ“ä½å¼‚å¸¸ã€‚ä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘ä»¬å°±å¤šæ•æ‰ä¸€éã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬å°±ç”¨â€œerror-firsté£æ ¼â€æ¨¡æ‹Ÿä¸€ä¸‹ã€‚1234567891011121314151617181920212223// callback asyncconst callback_async = (x = Date.now(), callback) =&gt; &#123; try &#123; console.log('callback_async:åˆå§‹æ—¶é—´æˆ³', x) // do something now // throw 'callback-outer: error' setTimeout(() =&gt; &#123; try &#123; // do something in the future // throw 'callback-inner: error' let interval = Date.now() - x callback &amp;&amp; callback(null, `callback_async:åœ¨$&#123;interval&#125;æ¯«ç§’åå¼‚æ­¥å®Œæˆ`) &#125; catch (error) &#123; callback(error) &#125; &#125;, 1000) &#125; catch (error) &#123; callback(error) &#125;&#125;callback_async(undefined, (error, res) =&gt; &#123; error?console.log('asyncError:', error):console.log('async:', res)&#125;)ä¾æ¬¡è§£å¼€æ³¨é‡Š throw... ï¼Œæˆ‘ä»¬å°±å¯ä»¥æˆåŠŸåœ°æ•è·åˆ°é”™è¯¯æˆ–å¼‚å¸¸ã€‚ä½†åŒæ—¶ä¹Ÿå‘ç°ï¼Œå¯¹äºä¸€ä¸ªä¸æ–­åµŒå¥—çš„å¼‚æ­¥å›è°ƒï¼Œå°±å›è°ƒåœ°ç‹±é‚£æ ·ï¼Œæˆ‘ä»¬ä¼šä¸ºæ¯ä¸€ä¸ªå¼‚æ­¥å›è°ƒåš try...catch çš„é”™è¯¯å¤„ç†ï¼Œè¿™ä¼šä½¿åŸæœ‰çš„ä»£ç æ›´åŠ æ··ä¹±ã€‚â€œå¹¸è¿â€çš„æ˜¯ï¼ŒPromise å·²ç»ä¸ºæˆ‘ä»¬å¤„ç†å¥½äº†è¿™ä¸ªé—®é¢˜ã€‚å¯¹äºé”™è¯¯æˆ–å¼‚å¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦æ³¨å†Œ rejected æˆ– catch çš„å›è°ƒå³å¯ã€‚ä¸è¿‡ Promise ä¹Ÿå­˜åœ¨ç€å’Œä¸Šé¢ç›¸åŒçš„é—®é¢˜ï¼Œæ— æ³•æ•è·è„±ç¦»ä¸Šä¸‹æ–‡ç¯å¢ƒçš„é”™è¯¯æˆ–å¼‚å¸¸ï¼Œæˆ‘ä»¬åªèƒ½æ”¶åˆ°æ‰‹åŠ¨ rejectã€‚1234567891011121314151617181920const promise_async = (x = Date.now()) =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; // do something now // throw 'promise-outer: error' console.log('promise_async:åˆå§‹æ—¶é—´æˆ³', x) setTimeout(() =&gt; &#123; try &#123; // do something in the future // throw 'promise-inner: error' let interval = Date.now() - x resolve(`promise_async:åœ¨$&#123;interval&#125;æ¯«ç§’åå¼‚æ­¥å®Œæˆ`) &#125; catch (error) &#123; reject(error) &#125; &#125;, 1000) &#125;)&#125;promise_async(undefined).catch(error =&gt; &#123; console.log(error)&#125;)å¯¹äºå¤šä¸ªå¼‚æ­¥ä»»åŠ¡ï¼ŒPromise ä»ç„¶èƒ½å¤Ÿå¾ˆå¥½çš„å¤„ç†é”™è¯¯ï¼Œå› ä¸º Promise ä½¿ç”¨çš„ this-then-that çš„æµç¨‹æ§åˆ¶ï¼Œé»˜è®¤å¤„ç†å‡½æ•°åªæ˜¯æŠŠé”™è¯¯é‡æ–°æŠ›å‡ºï¼Œè¿™ä½¿å¾—é”™è¯¯å¯ä»¥ç»§ç»­æ²¿ç€Promiseé“¾ä¼ æ’­ä¸‹å»ï¼Œç›´åˆ°æ˜¾å¼çš„ rejected æˆ– catch æ•è·é”™è¯¯ã€‚PromiseåŒ–Promise å¸¦æ¥çš„å¥½å¤„è¿œè¿œä¸æ­¢è¿™äº›ã€‚ä¸€æ—¦ Promise å†³è®®ï¼Œ å®ƒå°±æ°¸è¿œä¿æŒè¿™ä¸ªçŠ¶æ€ï¼Œè¿™ä¸ª Promise çš„ then(...) æ³¨å†Œçš„å›è°ƒå°±ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œä¸”åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚è¿™ä¹Ÿç®—è§£å†³äº†å›è°ƒè°ƒç”¨è¿‡å°‘ã€è¿‡å¤šåŠä¸è¢«è°ƒç”¨çš„é—®é¢˜ã€‚å³ä½¿ä¸èƒ½è§£å†³ï¼Œä½†ä¹Ÿå¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå†åšå¤„ç†ã€‚ä½ è¦æ˜¯é—®ä¸ºä»€ä¹ˆï¼Œæˆ‘åªèƒ½è¯´äººå®¶å°±æ˜¯å¹²è¿™ä¸ªçš„ï¼Œä½œä¸ºä¸€ä¸ªå¯ä¿¡ä»»çš„ä¸­é—´åå•†æœºåˆ¶ã€‚è¯´åˆ°ä¸€æ—¦å†³è®®å°±ä¸èƒ½æ”¹å˜ï¼Œè¿™ä¸ªå¾ˆé‡è¦ä¹ˆï¼Œæ˜¯çš„ï¼ŒçœŸçš„å¾ˆé‡è¦ã€‚åœ¨åŸºäºå›è°ƒæ¨¡å¼çš„å¼‚æ­¥å¤„ç†ä¸­ï¼ŒJavaScript ä»£ç æ‰§è¡Œåä¼šä¸€ç›´èµ°ä¸‹å»ï¼Œé‡åˆ°å›è°ƒå°±ç›´æ¥æ‰§è¡Œäº†ã€‚ä½†æ˜¯ Promise å†³è®®åï¼Œå¯ä»¥ä¸€ç›´ä¿ç•™ç€è¿™ä¸ªç»“æœï¼Œé€šè¿‡ .then(..) å½¢å¼æ·»åŠ çš„å›è°ƒå‡½æ•°ï¼Œç”šè‡³åœ¨å¼‚æ­¥æ“ä½œå®Œæˆä¹‹åæ‰æ·»åŠ çš„å›è°ƒå‡½æ•°ï¼Œéƒ½ä¼šè¢«æ‰§è¡Œè°ƒç”¨ã€‚è¿™ä¹Ÿæ˜¯ä¸Šä¸€ä¸ª Promise é‡Œçš„é”™è¯¯åªèƒ½åœ¨ Promise é“¾çš„ä¸‹ä¸€ä¸ªå›è°ƒé‡Œæ•è·çš„åŸå› ã€‚çŸ¥é“äº† Promise çš„å¥½å¤„ï¼Œä¹ŸçŸ¥é“äº†åŸºäºå›è°ƒæ¨¡å¼çš„å¼‚æ­¥å¤„ç†æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°è¯•æŠŠâ€œerror-firsté£æ ¼â€çš„å›è°ƒ Promise åŒ–ã€‚1234567891011// Promise Wrapvar promise_wrap = function(fn)&#123; return function() &#123; let args = Array.from(arguments); return new Promise((resolve, reject) =&gt; &#123; fn.apply(null, args.concat((error, value) =&gt; &#123; error ? reject(error): resolve(value) &#125;)) &#125;) &#125;&#125;åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸ºäº†ç»Ÿä¸€å¤„ç†ç°åœ¨å’Œå°†æ¥ï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬éƒ½å˜æˆäº†å°†æ¥ï¼Œå³æ‰€æœ‰çš„æ“ä½œéƒ½æˆäº†å¼‚æ­¥ï¼ŒåŒæ­¥å›è°ƒä¹Ÿå˜æˆäº†å¼‚æ­¥å›è°ƒã€‚JavaScript å¼‚å¸¸é”™è¯¯ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåœ¨ Promise åˆ›å»ºè¿‡ç¨‹ä¸­æˆ–æŸ¥çœ‹å†³è®®ç»“æœè¿‡ç¨‹ä¸­å‡ºç°çš„å¼‚å¸¸é”™è¯¯ï¼Œè¿™ä¸ªå¼‚å¸¸é”™è¯¯è¢«æ•æ‰éƒ½ä¼šå˜æˆå¼‚æ­¥è¡Œä¸ºã€‚è¿™æ ·åšå‡å°‘äº†ç”±å‡½æ•°é¡ºåºä¸ç¡®å®šæ€§ï¼ˆç«æ€æ¡ä»¶ï¼‰å¸¦æ¥çš„è¯¸å¤šé—®é¢˜ã€‚ä¿æŒæ‰å¹³åŒ–ä»å›è°ƒæ¨¡å¼è·¨åˆ° Promiseï¼Œæ€»ä¼šä¸å°å¿ƒä¿ç•™ç€åŸæ¥çš„é£æ ¼ï¼Œæ¯”å¦‚åµŒå¥—ã€‚Promise é“¾å¼ç¼–ç¨‹æœ€å¥½ä¿æŒæ‰å¹³åŒ–ï¼Œä¸ç„¶ä¸å°±å˜æˆå¦ä¸€ä¸ªå›è°ƒåœ°ç‹±äº†ï¼Ÿå…³é”®æ˜¯è¿˜æ²¡æœ‰è¿”å›æˆ–ç»ˆæ­¢ Promise é“¾ã€‚1234567891011121314151617// parallel Promisevar parallel_promise = (x = Date.now()) =&gt; &#123; Promise.resolve().then(() =&gt; &#123; new Promise(resolve =&gt; &#123; setTimeout(() =&gt; &#123; let interval = Date.now() - x; resolve(`parallel-inner:åœ¨$&#123;interval&#125;æ¯«ç§’åå®Œæˆ`) &#125;, 3000) &#125;).then(res =&gt; &#123; console.log(res) &#125;) &#125;).then(res =&gt; &#123; let interval = Date.now() - x; console.log(`parallel-outer:åœ¨$&#123;interval&#125;æ¯«ç§’åå®Œæˆ; res: $&#123;res&#125;`) &#125;)&#125;parallel_promise(undefined)ä»ä¸Šé¢çš„æ‰§è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼Œparallel-outer å¹¶éåœ¨ parallel-inner åæ‰§è¡Œã€‚è¿™æ˜¯æ²¡æœ‰æ­£ç¡®å°† Promise ç›¸è¿æ¥çš„ç»“æœã€‚å®é™…ä¸Šï¼Œè¿™é‡Œå°±æ˜¯ä¸¤ä¸ªç‹¬ç«‹ç«äº‰çš„ Promiseï¼ˆåŒæ—¶åœ¨æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡è€Œä¸æ˜¯ä¸€ä¸ªæ¥ç€ä¸€ä¸ªï¼‰ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿä¼šæ³¨æ„åˆ°å¤–å±‚ then(...) æ³¨å†Œå›è°ƒä¸­ res ä¸º undefinedï¼Œå› ä¸ºå¯¹äºæ²¡æœ‰ä»»ä½•æ˜¾å¼çš„å†³è®®ï¼Œè¿™ä¸ªå€¼å°±æ˜¯ undefinedã€‚123456789101112131415161718// serial Promisevar serial_promise = (x = Date.now()) =&gt; &#123; Promise.resolve().then(() =&gt; &#123; return new Promise(resolve =&gt; &#123; setTimeout(() =&gt; &#123; let interval = Date.now() - x; resolve(`serial-1:åœ¨$&#123;interval&#125;æ¯«ç§’åå®Œæˆ`) &#125;, 3000) &#125;).then(res =&gt; &#123; console.log(res) return res &#125;) &#125;).then(res =&gt; &#123; let interval = Date.now() - x; console.log(`serial-2:åœ¨$&#123;interval&#125;æ¯«ç§’åå®Œæˆ; res: $&#123;res&#125;`) &#125;)&#125;serial_promise(undefined)æ‰€ä»¥è¯´ï¼Œä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯æ€»æ˜¯è¿”å›æˆ–ç»ˆæ­¢ Promise é“¾ï¼Œå¹¶ä¸”ä¸€æ—¦å¾—åˆ°ä¸€ä¸ªæ–°çš„ Promiseï¼Œè¿”å›å®ƒã€‚å°ç»“ç”¨ Promise æ¥è¡¨è¾¾å¼‚æ­¥å’Œç®¡ç†å¹¶å‘æ— ç–‘æ˜¯ç§è¿›æ­¥ï¼Œå®ƒåœ¨ç¨‹åºçš„é¡ºåºæ€§å’Œå¯ä¿¡ä»»æ€§ä¸Šæä¾›äº†è‡ªå·±çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒä¸æ˜¯å›è°ƒçš„æ›¿ä»£å“ï¼Œåªæ˜¯å¸®ç€å¼‚æ­¥ä»»åŠ¡ç®¡ç†å›è°ƒçš„å¯ä¿¡ä»»çš„ä¸­é—´æœºåˆ¶ã€‚ç›¸å¯¹äºç›´æ¥ç²—æš´çš„å›è°ƒï¼ŒPromise å¹¶ä¸ä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„æå‡ï¼Œä½†æ˜¯å®ƒä¼šè®©æˆ‘ä»¬çš„ç¨‹åºæ›´åŠ å¥å£®ï¼Œä¹Ÿä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ï¼Œæ›´åŠ ç¬¦åˆæˆ‘ä»¬æœ‰åºçš„æ€ç»´æ–¹å¼ã€‚å½“ç„¶ï¼ŒPromise ä¹Ÿæœ‰è‡ªå·±çš„å±€é™æ€§ã€‚åœ¨å¹¶å‘ Promise.race(...) ä¸Šï¼Œæˆ‘ä»¬åªè¦ç¬¬ä¸€ä¸ªå†³è®®å³å¯ã€‚å½“å‡ºç°ç¬¬ä¸€ä¸ªå†³è®®çš„ Promise æ—¶ï¼Œå…¶å®ƒçš„ Promise å°±æ²¡æœ‰å¿…è¦è¿›è¡Œä¸‹å»äº†ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬æ²¡æŠŠæ³•ç»ˆæ­¢ã€‚åœ¨é”™è¯¯å¤„ç†ä¸Šï¼ŒPromise é“¾ä¸­é”™è¯¯æ€»æ˜¯ç”±ä¸‹ä¸€ä¸ª Promise æ•è·ã€‚å¦‚æœé”™è¯¯å‘ç”Ÿåœ¨æœ€åä¸€ä¸ª Promise å‘¢ï¼Ÿè¿˜æœ‰ï¼Œå¯¹äºåµŒå¥—çš„ Promiseï¼Œå†…éƒ¨ Promise å·²ç»è¿›è¡Œäº†é”™è¯¯å¤„ç†ï¼Œä½†æ˜¯å¤–éƒ¨ Promise å´æ•è·ä¸åˆ°ï¼Œè¿™æ ·çœŸçš„å¥½ä¹ˆï¼ŸPromise æ¢å¤äº†å¯ä¿¡ä»»æ€§ï¼Œä½†æˆ‘ä»¬è¿˜æƒ³è®©å¼‚æ­¥æµç¨‹çš„è¡¨è¾¾é£æ ¼æ›´è´´è¿‘åŒæ­¥çš„å½¢å¼ï¼Œé“¾å¼è°ƒç”¨ä¸è¯´ä¸å¥½ï¼Œåªæ˜¯æˆ‘ä»¬å¸¦ç€åŒæ­¥æ“ä½œçš„æƒ¯æ€§ã€‚è¿˜å¥½ï¼ŒES6ã€ES7å·²ç»ç»™å‡ºäº†æ–¹æ¡ˆã€‚]]></content>
      <categories>
        <category>å¾ˆéš¾ä¹ˆ</category>
      </categories>
      <tags>
        <tag>å¼‚æ­¥</tag>
        <tag>Promise</tag>
        <tag>then</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯ç¬”è¯•ä¹‹æ‰‹å†™ä»£ç ]]></title>
    <url>%2F%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AF%95%E4%B9%8B%E6%89%8B%E5%86%99%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[æ‰å¹³åŒ–åµŒå¥—æ•°ç»„/flatå®ç°æè¿°ï¼šå°†åµŒå¥—å¤šå±‚çš„æ•°ç»„å±•å¼€å¹³é“ºæˆåªæœ‰ä¸€å±‚çš„æ•°ç»„ã€‚12let array = [1, [1, 2, 3], [1, [2, &#123;&#125;]] ]handle(array) // [1, 1, 2, 3, 1, 2, &#123;&#125;]æ–¹æ³•ä¸€ï¼š12const handle = array =&gt; JSON.parse(`[$&#123;JSON.stringify(array).replace(/\[|]/g,'')&#125;]`)handle(array) // [ 1, 1, 2, 3, 1, 2, &#123;&#125; ]çŸ¥è¯†ç‚¹ï¼šJSON.parse()/JSON.stringify()ã€String.prototype.replace()æ–¹æ³•äºŒï¼š12const handle = array =&gt; array.reduce((accumulator, currentValue) =&gt; accumulator.concat(Array.isArray(currentValue) ? handle(currentValue): currentValue), [])handle(array) // [ 1, 1, 2, 3, 1, 2, &#123;&#125; ]çŸ¥è¯†ç‚¹ï¼šArray.prototype.reduce()ã€Array.prototype.concat()æ–¹æ³•ä¸‰ï¼š1234567const handle = array =&gt; &#123; while(array.some(item =&gt; Array.isArray(item))) &#123; array = [].concat(...array) &#125; return array&#125;handle(array) // [ 1, 1, 2, 3, 1, 2, &#123;&#125; ]çŸ¥è¯†ç‚¹ï¼šwhileã€Array.prototype.some()ã€å‰©ä½™å‚æ•°å…¶å®ƒæ–¹æ³•ï¼šâ€¦â€¦æ•°ç»„å»é‡æè¿°ï¼šå°†æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ è¿‡æ»¤æ‰ã€‚12let array = [1, 2, 1, '3', '3', 0 , 1]handle(array) // [1, 2, '3', 0]æ–¹æ³•ä¸€ï¼š12const handle = array =&gt; [...new Set(array)]handle(array) // [ 1, 2, '3', 0 ]çŸ¥è¯†ç‚¹ï¼šSetæ–¹æ³•äºŒï¼š12345const handle = array =&gt; array.reduce((accumulator, currentValue) =&gt; &#123; !accumulator.includes(currentValue) &amp;&amp; accumulator.push(currentValue) return accumulator&#125;, [])handle(array) // [ 1, 2, '3', 0 ]çŸ¥è¯†ç‚¹ï¼šArray.prototype.includes()æ–¹æ³•ä¸‰ï¼š12345const handle = array =&gt; &#123; let map = new Map() return array.filter(item =&gt; map.has(item) ? false : map.set(item))&#125;handle(array) // [ 1, 2, '3', 0 ]çŸ¥è¯†ç‚¹ï¼šMapã€Array.prototype.filter()å…¶å®ƒæ–¹æ³•ï¼šâ€¦â€¦æ¨¡æ‹Ÿbindå®ç°123456Function.prototype.bind = function () &#123; let self = this, args = Array.from(arguments), context = args.shift(); return function () &#123; return self.apply(context, args.concat(...arguments)) &#125;;&#125;;çŸ¥è¯†ç‚¹ï¼šapplyã€callã€bindæ¨¡æ‹ŸCallå®ç°1234567Function.prototype.Call = function()&#123; let args = Array.from(arguments), context = args.shift(); context = Object(context); context.fn = this; let result = context.fn(...args); return (delete context.fn) &amp;&amp; result;&#125;;æ¨¡æ‹ŸNewå®ç°123456const handle = function() &#123; let fn = Array.prototype.shift.call(arguments) let obj = Object.create(fn.prototype) let o = fn.apply(obj, arguments) return typeof o === 'object' ? o : obj;&#125;çŸ¥è¯†ç‚¹ï¼šObject.create()æ ¼å¼åŒ–æ•°å­—123const num = 123456789;const handle = num =&gt; String(num).replace(/\B(?=(\d&#123;3&#125;)+(?!\d))/g, ',')handle(num) // 123,456,789çŸ¥è¯†ç‚¹ï¼šæ­£åˆ™è¡¨è¾¾å¼ã€String.prototype.replace()å›æ–‡åˆ¤æ–­123456789const num = 123456654321;const str = 'abababababab';const handle = params =&gt; &#123; let str_1 = String(params).replace(/[^0-9A-Za-z]/g, '').toLowerCase(); let str_2 = str_1.split('').reverse().join(); return str_1 === str_2 ? true : false&#125;handle(num) // truehandle(str) // falseçŸ¥è¯†ç‚¹ï¼šString.prototype.split()ã€Array.prototype.join()å‡½æ•°èŠ‚æµå®šæ—¶å™¨1234567891011const handle = (fn, interval) =&gt; &#123; let timeId = null; return function() &#123; if (!timeId) &#123; timeId = setTimeout(() =&gt; &#123; fn.apply(this, arguments) timeId = null &#125;, interval) &#125; &#125;&#125;çŸ¥è¯†ç‚¹ï¼šwindow.setTimeoutæ—¶é—´æˆ³12345678910const handle = (fn, interval) =&gt; &#123; let lastTime = 0 return function () &#123; let now = Date.now(); if (now - lastTime &gt; interval) &#123; fn.apply(this, arguments) lastTime = now &#125; &#125;&#125;å‡½æ•°é˜²æŠ–123456789const handle = (fn, delay) =&gt; &#123; let timeId; return function() &#123; if (timeId) clearTimeout(timeId) timeId = setTimeout(() =&gt; &#123; fn.apply(this, arguments) &#125;, delay) &#125;&#125;å‡½æ•°èŠ‚æµã€å‡½æ•°é˜²æŠ–åŒºåˆ«ï¼šå‡½æ•°èŠ‚æµå’Œå‡½æ•°é˜²æŠ–è¾ƒå®¹æ˜“æ··æ·†ï¼Œå¯ä»¥è¿™ä¹ˆæ¯”å–»ï¼Œå¯¹äºå‡½æ•°èŠ‚æµï¼Œé—¨å¤–æœ‰äººé¢‘ç¹æ•²é—¨ï¼Œä½†æ˜¯é—¨å«æŒ‰å›ºå®šæ—¶é—´æ¥å†³å®šæ˜¯å¦å¼€é—¨ã€‚å¯¹äºå‡½æ•°é˜²æŠ–ï¼Œé—¨å¤–æœ‰äººé¢‘ç¹æ•²é—¨ï¼Œé—¨å«æŒ‰æœ€åä¸€æ¬¡æ•²é—¨æ¥å†³å®šæ˜¯å¦å¼€é—¨ã€‚çŸ¥è¯†ç‚¹ï¼šwindow.clearTimeoutæ·±æ‹·è´12345678910111213const handle = function deepClone(params) &#123; if (Array.isArray(params)) &#123; return params.reduce((accumulator, currentValue) =&gt; &#123; (typeof currentValue === 'object') ? accumulator.push(deepClone(currentValue)) : accumulator.push(currentValue); return accumulator; &#125;, []) &#125; else &#123; return Reflect.ownKeys(params).reduce((accumulator, currentValue) =&gt; &#123; (typeof params[currentValue] === 'object') ? accumulator[currentValue] = deepClone(params[currentValue]) : accumulator[currentValue] = params[currentValue]; return accumulator; &#125;, &#123;&#125;) &#125;&#125;å‘å¸ƒè®¢é˜…æ¨¡å¼123456789101112131415161718192021222324252627282930class Pubsub &#123; constructor() &#123; this.handles = &#123;&#125; &#125; subscribe(type, handle) &#123; if (!this.handles[type]) &#123; this.handles[type] = [] &#125; this.handles[type].push(handle) &#125; unsubscribe(type, handle) &#123; let pos = this.handles[type].indexOf(handle) if (!handle) &#123; this.handles.length = 0 &#125; else &#123; ~pos &amp;&amp; this.handles[type].splice(pos, 1) &#125; &#125; publish() &#123; let type = Array.prototype.shift.call(arguments) this.handles[type].forEach(handle =&gt; &#123; handle.apply(this, arguments) &#125;) &#125;&#125;const pub = new Pubsub()pub.subscribe('a', function() &#123;console.log('a', ...arguments)&#125;)pub.publish('a', 1, 2, 3)// a 1 2 3åå‡½æ•°1234const partial = (fn, ...presetArgs) =&gt; (...laterArgs) =&gt; fn(...presetArgs, ...laterArgs)æŸ¯é‡ŒåŒ–12345678910111213const curry = (fn, arity = fn.length, nextCurried) =&gt; (nextCurried = prevArgs =&gt; nextArg =&gt; &#123; var args = prevArgs.concat( [nextArg] ); if (args.length &gt;= arity) &#123; return fn( ...args ); &#125; else &#123; return nextCurried( args ); &#125; &#125; )( [] );å‡½æ•°ç»„åˆ123456789var compose = (...fns) =&gt; result =&gt; &#123; var list = fns.slice(); while (list.length &gt; 0) &#123; result = list.pop()( result ); &#125; return result; &#125;;ç®€æ˜“æ¨¡å—ä¾èµ–ç®¡ç†å™¨1234567891011121314const moduleManage = (() =&gt; &#123; let modules = &#123;&#125;; const define = (name, deps, module) =&gt; &#123; deps = deps.map(item =&gt; modules[item]) modules[name] = module(...deps); &#125;; const exports = (name) =&gt; &#123; return modules[name]; &#125; return &#123; define, exports, &#125;&#125;)();PromiseåŒ–123456789101112131415161718192021222324252627282930313233var promise_wrap = fn =&gt; function()&#123; return new Promise((resolve, reject) =&gt; &#123; fn(...[(error, value) =&gt; error ? reject(error): resolve(value), ...arguments]) &#125;)&#125;// ç¤ºä¾‹ï¼švar callback_async = (callback, x = Date.now()) =&gt; &#123; try &#123; console.log('callback_async:åˆå§‹æ—¶é—´æˆ³', x) // do something now // throw 'callback-outer: error' setTimeout(() =&gt; &#123; try &#123; // do something in the future // throw 'callback-inner: error' let interval = Date.now() - x callback &amp;&amp; callback(null, `callback_async:åœ¨$&#123;interval&#125;æ¯«ç§’åå¼‚æ­¥å®Œæˆ`) &#125; catch (error) &#123; console.log(&#123;callback&#125;) callback(error) &#125; &#125;, 1000) &#125; catch (error) &#123; callback(error) &#125;&#125;promise_wrap(callback_async)(1)å¯¹è±¡å¯è¿­ä»£123456789101112Object.prototype.Iteration = function()&#123; let keys = Object.keys(this), index = 0; return&#123; [Symbol.iterator]()&#123;return this&#125;, next: () =&gt; &#123; let current = index++; return current &lt; keys.length? &#123;value: [keys[current], this[keys[current]]], done: false&#125;: &#123;value: undefined, done: true&#125;; &#125; &#125;&#125;ç”Ÿæˆå™¨è‡ªæ‰§è¡Œå™¨123456789101112131415161718192021222324const generator_wrap = function (generator) &#123; const args = [...arguments].slice(1); const gen = generator.apply(this, args); return new Promise((resolve, reject) =&gt; &#123; const handleNext = function handleNext(yield)&#123; let next; try &#123; next = gen.next(yield); &#125; catch (error) &#123; reject(error) &#125; if (next.done) &#123; resolve(next.value) &#125; else &#123; return Promise.resolve(next.value).then(yield =&gt; &#123; handleNext(yield); &#125;, error =&gt; &#123; gen.throw(error); &#125;) &#125; &#125;; handleNext(); &#125;)&#125;;]]></content>
      <categories>
        <category>å†™ç€ç©</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼‚æ­¥çš„JavaScript(å›è°ƒç¯‡)]]></title>
    <url>%2F%E5%BC%82%E6%AD%A5%E7%9A%84JavaScript%2F</url>
    <content type="text"><![CDATA[å”¯ä¸€æ¯”ä¸çŸ¥é“ä»£ç ä¸ºä»€ä¹ˆå´©æºƒæ›´å¯æ€•çš„äº‹æƒ…æ˜¯ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸€å¼€å§‹å®ƒæ˜¯å·¥ä½œçš„ï¼åœ¨ ECMA è§„èŒƒçš„æœ€è¿‘å‡ æ¬¡ç‰ˆæœ¬é‡Œä¸æ–­æœ‰æ–°æˆå‘˜åŠ å…¥ï¼Œå°¤å…¶åœ¨å¤„ç†å¼‚æ­¥çš„é—®é¢˜ä¸Šï¼Œæ›´æ˜¯ä¸æ–­æ¨é™ˆå‡ºæ–°ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬åœ¨äº«å—ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿåº”è¯¥äº†è§£å¼‚æ­¥åˆ°åº•æ˜¯æ€ä¹ˆä¸€å›äº‹ã€‚ç°åœ¨ä¸å°†æ¥JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸€æ¬¡åªèƒ½ä¸“æ³¨äºä¸€ä»¶äº‹ã€‚å¦‚æœæµè§ˆå™¨åªé  JavaScript å¼•æ“çº¿ç¨‹æ¥å®Œæˆæ‰€æœ‰å·¥ä½œï¼Œå…ˆä¸è¯´èƒ½ä¸èƒ½æå®šï¼Œå³ä½¿å¯ä»¥ï¼Œé‚£ä¹Ÿä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚å¹¸å¥½åœ¨æµè§ˆå™¨é‡Œ JavaScript å¼•æ“å¹¶ä¸å­¤å•ï¼Œè¿˜æœ‰ GUI æ¸²æŸ“çº¿ç¨‹ã€äº‹ä»¶è§¦å‘çº¿ç¨‹ã€å®šæ—¶è§¦å‘å™¨çº¿ç¨‹ã€å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹ç­‰å…¶å®ƒçº¿ç¨‹ã€‚è¿™äº›çº¿ç¨‹ä¹‹é—´çš„åä½œæ‰æœ‰äº†æˆ‘ä»¬çœ‹åˆ°çš„æµè§ˆå™¨ç•Œé¢æ•ˆæœï¼ˆè¿œä¸æ­¢è¿™äº›ï¼‰ã€‚(ç›—äº†ä¸€å¼ å›¾)ä¸€ä¸ªç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šæœ‰ç­‰å¾…ç”¨æˆ·è¾“å…¥ã€ä»æ•°æ®åº“æˆ–æ–‡ä»¶ç³»ç»Ÿä¸­è¯·æ±‚æ•°æ®ã€é€šè¿‡ç½‘ç»œå‘é€å¹¶ç­‰å¾…å“åº”ï¼Œæˆ–æ˜¯ä»¥å›ºå®šæ—¶é—´é—´éš”æ‰§è¡Œé‡å¤ä»»åŠ¡ï¼ˆæ¯”å¦‚åŠ¨ç”»ï¼‰ç­‰æƒ…å†µã€‚ï¼ˆè¿™äº›æƒ…å†µï¼Œå½“ä¸‹æ˜¯æ— æ³•å¾—å‡ºç»“æœçš„ï¼Œä½†æ˜¯ä¸€æ—¦æœ‰äº†ç»“æœï¼Œæˆ‘ä»¬çŸ¥é“éœ€è¦å»åšäº›ä»€ä¹ˆã€‚ï¼‰JavaScript å¼•æ“ä¸æ˜¯ä¸€ä¸ªäººåœ¨æˆ˜æ–—ï¼Œå®ƒæŠŠä»¥ä¸Šçš„ä»»åŠ¡äº¤ç»™å…¶å®ƒçº¿ç¨‹ï¼Œå¹¶è®¡åˆ’å¥½ä»»åŠ¡å®Œæˆåè¦åšçš„äº‹ï¼ŒJavaScript å¼•æ“åˆå¯ä»¥ç»§ç»­åšè‡ªå·±çš„äº‹äº†ã€‚ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªç¨‹åºçš„è¿è¡ŒåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œç°åœ¨è¿è¡Œå’Œå°†æ¥è¿è¡Œã€‚è€Œç°åœ¨è¿è¡Œå’Œå°†æ¥è¿è¡Œçš„å…³ç³»æ­£æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒã€‚123let params = &#123;type:'asynchronous'&#125;let response = ajax(params,'http://someURL.com'); // å¼‚æ­¥è¯·æ±‚if (!response) throw 'æ— æ•°æ®ï¼';ä»¥ä¸Šä»£ç è‚¯å®šä¼šæŠ›é”™çš„ï¼Œå¼‚æ­¥è¯·æ±‚ä»»åŠ¡äº¤å‡ºå»ä¹‹åï¼Œç¨‹åºä¼šç»§ç»­è¿è¡Œä¸‹å»ã€‚ç”±äºajax(â€¦) æ˜¯å¼‚æ­¥æ“ä½œï¼Œå³ä½¿ç«‹åˆ»è¿”å›ç»“æœï¼Œå½“ä¸‹çš„ response ä¹Ÿä¸ä¼šè¢«èµ‹å€¼ã€‚ä¸€ä¸ªæ˜¯ç°åœ¨ï¼Œä¸€ä¸ªæ˜¯å°†æ¥ï¼Œä¸¤è€…æœ¬å°±ä¸å±äºä¸€ä¸ªæ—¶ç©ºçš„ã€‚äº‹ä»¶å¾ªç¯ç°åœ¨å’Œå°†æ¥æ˜¯ç›¸å¯¹çš„ï¼Œç­‰å°†æ¥çš„æ—¶åˆ»åˆ°äº†ï¼Œå°†æ¥ä¹Ÿå°±æˆä¸ºäº†ç°åœ¨ã€‚JavaScript å¼•æ“è¿è¡Œåœ¨å®¿ä¸»ç¯å¢ƒä¸­ï¼Œå®¿ä¸»ç¯å¢ƒæä¾›äº†ä¸€ç§æœºåˆ¶æ¥å¤„ç†ç¨‹åºä¸­å¤šä¸ªå—çš„æ‰§è¡Œï¼Œä¸”æ‰§è¡Œæ¯ä¸ªå—æ—¶è°ƒç”¨ JavaScript å¼•æ“ï¼Œè¿™ç§æœºåˆ¶è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚å³ï¼ŒJavaScript å¼•æ“æœ¬èº«å¹¶æ²¡æœ‰æ—¶é—´çš„æ¦‚å¿µï¼Œåªæ˜¯ä¸€ä¸ªæŒ‰éœ€æ‰§è¡Œ JavaScript ä»»æ„ä»£ç ç‰‡æ®µçš„ç¯å¢ƒã€‚â€œäº‹ä»¶â€ï¼ˆJavaScript ä»£ç æ‰§è¡Œï¼‰è°ƒåº¦æ€»æ˜¯ç”±åŒ…å«å®ƒçš„ç¯å¢ƒè¿›è¡Œã€‚ç‚¹å‡»å›¾ç‰‡è¿›å…¥æˆ–ç‚¹æ­¤è¿›å…¥ï¼šä¸€ä¸ª JavaScript è¿è¡Œæ—¶åŒ…å«äº†ä¸€ä¸ªå¾…å¤„ç†çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚æ¯ä¸€ä¸ªæ¶ˆæ¯éƒ½å…³è”ç€ä¸€ä¸ªç”¨ä»¥å¤„ç†è¿™ä¸ªæ¶ˆæ¯çš„å‡½æ•°ã€‚åœ¨äº‹ä»¶å¾ªç¯æœŸé—´çš„æŸä¸ªæ—¶åˆ»ï¼Œè¿è¡Œæ—¶ä»æœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„æ¶ˆæ¯å¼€å§‹å¤„ç†é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚ä¸ºæ­¤ï¼Œè¿™ä¸ªæ¶ˆæ¯ä¼šè¢«ç§»å‡ºé˜Ÿåˆ—ï¼Œå¹¶ä½œä¸ºè¾“å…¥å‚æ•°è°ƒç”¨ä¸ä¹‹å…³è”çš„å‡½æ•°ã€‚123while (queue.waitForMessage()) &#123; queue.processNextMessage();&#125;ä¸€æ—¦æœ‰äº‹ä»¶éœ€è¦è¿›è¡Œï¼Œäº‹ä»¶å¾ªç¯å°±ä¼šè¿è¡Œï¼Œç›´åˆ°é˜Ÿåˆ—æ¸…ç©ºã€‚äº‹ä»¶å¾ªç¯çš„æ¯ä¸€è½®ç§°ä¸ºä¸€ä¸ª tickã€‚ç”¨æˆ·äº¤äº’ï¼ŒIO å’Œå®šæ—¶å™¨ä¼šå‘äº‹ä»¶é˜Ÿåˆ—ä¸­åŠ å…¥äº‹ä»¶ã€‚(åˆç›—äº†ä¸€å¼ å›¾)ä»»åŠ¡é˜Ÿåˆ—ä»»åŠ¡é˜Ÿåˆ—ï¼ˆjob queueï¼‰å»ºç«‹åœ¨äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¹‹ä¸Šã€‚ï¼ˆPromise çš„å¼‚æ­¥ç‰¹æ€§å°±æ˜¯åŸºäºä»»åŠ¡ã€‚ï¼‰æœ€å¥½çš„ç†è§£æ–¹å¼ï¼Œå®ƒæ˜¯æŒ‚åœ¨äº‹ä»¶å¾ªç¯é˜Ÿåˆ—çš„æ¯ä¸ªtickä¹‹åçš„ä¸€ä¸ªé˜Ÿåˆ—ã€‚åœ¨äº‹ä»¶å¾ªç¯çš„æ¯ä¸ªtickä¸­ï¼Œå¯èƒ½å‡ºç°çš„å¼‚æ­¥åŠ¨ä½œä¸ä¼šå¯¼è‡´ä¸€ä¸ªå®Œæ•´çš„æ–°äº‹ä»¶æ·»åŠ åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¸­ï¼Œè€Œä¼šåœ¨å½“å‰ tick çš„ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾æ·»åŠ ä¸€ä¸ªé¡¹ç›®ï¼ˆä¸€ä¸ªä»»åŠ¡ï¼‰ã€‚å³ï¼Œç”± Call Stack ç”Ÿæˆçš„ä»»åŠ¡é˜Ÿåˆ—ä¼šç´§éšå…¶åè¿è¡Œã€‚1234567891011121314151617181920212223242526272829Promise.resolve().then(function promise1 () &#123; console.log('promise1');&#125;)setTimeout(function setTimeout1 ()&#123; console.log('setTimeout1'); Promise.resolve().then(function promise2 () &#123; console.log('promise2'); &#125;)&#125;, 0)setTimeout(function setTimeout2 ()&#123;console.log('setTimeout2'); Promise.resolve().then(function promise3 () &#123; console.log('promise3'); setTimeout(function setTimeout3 () &#123; console.log('setTimeout3'); &#125;) Promise.resolve().then(function promise4 () &#123; console.log('promise4'); &#125;) &#125;)&#125;, 0)// promise1// setTimeout1// promise2// setTimeout2// promise3// promise4// setTimeout3å›è°ƒè¢«ä½œä¸ºå®å‚ä¼ å…¥å¦ä¸€å‡½æ•°ï¼Œå¹¶åœ¨è¯¥å¤–éƒ¨å‡½æ•°å†…è¢«è°ƒç”¨ï¼Œç”¨ä»¥æ¥å®ŒæˆæŸäº›ä»»åŠ¡çš„å‡½æ•°ï¼Œç§°ä¸ºå›è°ƒå‡½æ•°ã€‚å›è°ƒå‡½æ•°ç»å¸¸è¢«ç”¨äºç»§ç»­æ‰§è¡Œä¸€ä¸ªå¼‚æ­¥å®Œæˆåçš„æ“ä½œï¼Œå®ƒä»¬è¢«ç§°ä¸ºå¼‚æ­¥å›è°ƒã€‚ç«‹å³æ‰§è¡Œçš„ç§°ä¹‹ä¸ºåŒæ­¥å›è°ƒã€‚å›è°ƒå‡½æ•°æ˜¯äº‹ä»¶å¾ªç¯â€œå›å¤´è°ƒç”¨â€åˆ°ç¨‹åºä¸­çš„ç›®æ ‡ï¼Œé˜Ÿåˆ—å¤„ç†åˆ°è¿™ä¸ªé¡¹ç›®çš„æ—¶å€™ä¼šè¿è¡Œå®ƒã€‚å›è°ƒæ˜¯ JavaScript è¯­è¨€ä¸­æœ€åŸºç¡€çš„å¼‚æ­¥æ¨¡å¼ã€‚ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬å–œæ¬¢å’Œæœ‰æ¡ç†çš„äººæ‰“äº¤é“ï¼Œå› ä¸ºæˆ‘ä»¬çš„å¤§è„‘ä¹ æƒ¯äº†è¿™ç§æ€ç»´æ¨¡å¼ã€‚ç„¶è€Œå›è°ƒçš„ä½¿ç”¨æ‰“ç ´äº†è¿™ç§æ¨¡å¼ï¼Œå› ä¸ºä»£ç çš„åµŒå¥—ä½¿å¾—æˆ‘ä»¬è¦åœ¨ä¸åŒå—é—´åˆ‡æ¢ã€‚åµŒå¥—è¶Šå¤šï¼Œé€»è¾‘è¶Šå¤æ‚ï¼Œæˆ‘ä»¬ä¹Ÿå°±è¶Šéš¾ç†è§£å’Œå¤„ç†ä»£ç ï¼Œå°¤å…¶åœ¨è¡¨è¾¾å¼‚æ­¥çš„æ–¹å¼ä¸Šã€‚(åˆç›—äº†ä¸€å¼ å›¾)é™¤äº†åµŒå¥—çš„é—®é¢˜ï¼Œå¼‚æ­¥å›è°ƒè¿˜å­˜åœ¨ä¸€äº›ä¿¡ä»»é—®é¢˜ã€‚å›è°ƒæ€§è´¨çš„ä¸ç¡®å®šè°ƒç”¨å›è°ƒæ–¹å¼ä¸ç¡®å®šï¼ˆæ²¡è°ƒç”¨ï¼Œé‡å¤è°ƒç”¨ç­‰ï¼‰â€¦â€¦é’ˆå¯¹ç¬¬ä¸€ç‚¹çš„å»ºè®®æ˜¯ï¼šæ°¸è¿œå¼‚æ­¥è°ƒç”¨å›è°ƒï¼Œå³ä½¿å°±åœ¨äº‹ä»¶å¾ªç¯çš„ä¸‹ä¸€è½®ï¼Œè¿™æ ·ï¼Œæ‰€æœ‰å›è°ƒéƒ½æ˜¯å¯é¢„æµ‹çš„å¼‚æ­¥è°ƒç”¨äº†ã€‚åœ¨ç†è§£è¿™ä¸ªå»ºè®®ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆäº†è§£ä¸‹æ§åˆ¶åè½¬ï¼Œæ§åˆ¶åè½¬å°±æ˜¯æŠŠè‡ªå·±ç¨‹åºä¸€éƒ¨åˆ†çš„æ‰§è¡Œæ§åˆ¶äº¤ä¸ªæŸä¸ªç¬¬ä¸‰æ–¹ã€‚12345let a = 0; // Athirdparty(() =&gt; &#123; console.log('a', a); // B&#125;)a++; // CA å’Œ C æ˜¯ç°åœ¨è¿è¡Œçš„ï¼ŒB è™½ç„¶ä»£ç æ˜¯æˆ‘ä»¬çš„ï¼Œä½†æ˜¯å´å—åˆ¶äºç¬¬ä¸‰æ–¹ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•ç¡®å®šå®ƒæ˜¯ç°åœ¨è¿è¡Œè¿˜æ˜¯å°†æ¥è¿è¡Œçš„ã€‚è¿™é‡Œçš„å›è°ƒå‡½æ•°å¯èƒ½æ˜¯åŒæ­¥å›è°ƒä¹Ÿå¯èƒ½æ˜¯å¼‚æ­¥å›è°ƒã€‚a æ˜¯ 0 è¿˜æ˜¯ 1ï¼Œéƒ½æœ‰å¯èƒ½ã€‚12345678// åŒæ­¥å›è°ƒconst thirdparty = cb =&gt; &#123; cb();&#125;// å¼‚æ­¥å›è°ƒconst thirdparty = cb =&gt; &#123; setTimeout(() =&gt; cb(), 0);&#125;æ‰€ä»¥ï¼Œæ°¸è¿œå¼‚æ­¥è°ƒç”¨å›è°ƒï¼Œå¯é¢„æµ‹ã€‚12345678910111213141516171819202122function asyncify(fn) &#123; let func = fn; let t = setTimeout(() =&gt; &#123; t = null; if (fn) fn(); &#125;, 0); fn = null; return () =&gt; &#123; if (t) &#123; fn = func.bind(this, ...arguments); &#125; else &#123; func.apply(this, arguments); &#125; &#125;&#125;let a = 0;thirdparty(asyncify(() =&gt; &#123; console.log('a', a);&#125;))a++;// 1]]></content>
      <categories>
        <category>å¾ˆéš¾ä¹ˆ</category>
      </categories>
      <tags>
        <tag>å¼‚æ­¥</tag>
        <tag>äº‹ä»¶å¾ªç¯</tag>
        <tag>ä»»åŠ¡é˜Ÿåˆ—</tag>
        <tag>å›è°ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºMVCæ¨¡å¼ç®€å•ä»£ç å®ç°]]></title>
    <url>%2F%E5%85%B3%E4%BA%8EMVC%E6%A8%A1%E5%BC%8F%E7%AE%80%E5%8D%95%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[ç»è¿‡ä¹‹å‰çš„å’¬æ–‡åš¼å­—è¯´ç­–ç•¥ã€åœ¨JavaScriptä¸­å°è¯•ç»„åˆæ¨¡å¼ã€ç™½è¯MVC/MVP/MVVM å’Œ è¾ƒæ—©ä¹‹å‰çš„è¿›å‡»çš„è§‚å¯Ÿè€…æ¨¡å¼ç­‰æ–‡ç« çš„é“ºå«ï¼Œç»ˆäºå¯ä»¥æŠŠè¿™äº›ç†è®ºçš„ä¸œè¥¿ç”¨äºå®è·µäº†ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œç›´å¥”ä¸»é¢˜ã€‚GoF å¹¶ä¸å°† MVC å¼•è¿°ä¸ºä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œè€Œæ˜¯æŠŠå®ƒçœ‹åšæ˜¯æ„å»ºä¸€ä¸ªç”¨æˆ·ç•Œé¢çš„ç±»çš„é›†åˆã€‚æŒ‰ç…§ä»–ä»¬çš„è§‚ç‚¹ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸‰ç§ç»å…¸è®¾è®¡æ¨¡å¼çš„å˜å¼‚ç»„åˆï¼šè§‚å¯Ÿè€…æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼å’Œç»„åˆæ¨¡å¼ã€‚ä¾èµ–äºæ¡†æ¶ä¸­çš„ MVC å¦‚ä½•å®ç°ï¼Œå®ƒä¹Ÿå¯èƒ½ä¼šä½¿ç”¨å·¥å‚å’Œæ¨¡æ¿æ¨¡å¼ã€‚GoF Book æåˆ°è¿™äº›æ¨¡å¼åœ¨ä½¿ç”¨ MVC å·¥ä½œæ—¶æ˜¯éå¸¸æœ‰ç”¨çš„é™„åŠ åŠŸèƒ½ã€‚åŠŸèƒ½ç¤ºæ„:ç”±ä¸€ç»„æ•°æ®å±•ç¤ºä¸‰ç±»è¡¨æ ¼ï¼Œåˆ†åˆ«æ˜¯ã€stuffï¼Œscaleã€‘ã€ã€stuffï¼Œsalaryã€‘ã€ã€stuffï¼Œscaleï¼Œsalaryã€‘ä¸‰ç»„è§†å›¾ã€‚å¦å¤–å¯ä»¥ä¿®æ”¹æŒ‡å®š stuff çš„ scale æˆ– salary ä¿¡æ¯ã€‚stuffs ä¿¡æ¯ï¼š1234567891011121314151617const stuffs = [ &#123; stuff: 'person_1', scale: 'ç”²', salary: '6000' &#125;, &#123; stuff: 'person_2', scale: 'ä¹™', salary: '5000' &#125;, &#123; stuff: 'person_3', scale: 'ä¸™', salary: '9000' &#125;];å¸¸è§„çš„å†™æ³•å¯ä»¥è¿™ä¹ˆæ¥ï¼šSee the Pen tableOrdinary by å¤œæ›‰å®¸ (@yexiaochen)on CodePen.èŒè´£åˆ†é…æ—¢ç„¶è¯´äº† MVC æœ‰é‚£ä¹ˆå¤šå¥½å¤„ï¼Œæˆ‘ä»¬å°±ç”¨ MVC çš„æ¨¡å¼æ¥æ”¹é€ ä¸‹æˆ‘ä»¬çš„ä»£ç ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆåˆ’åˆ†ä¸‹èŒè´£ã€‚Model è´Ÿè´£å¯¹æ•°æ®çš„å¤„ç†å¹¶è¿”å›ç›®æ ‡æ•°æ®ï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸‹æ˜¯ç­›é€‰ stuffã€ä¿®æ”¹stuff ç­‰èŒè´£ã€‚View è´Ÿè´£å¯¹ç›®æ ‡æ•°æ®çš„æ¸²æŸ“å’Œå¤„ç†ç”¨æˆ·çš„å“åº”ï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸‹æ˜¯å„ä¸ªè¡¨æ ¼çš„æ¸²æŸ“ã€change äº‹ä»¶çš„å§”æ‰˜ç­‰èŒè´£ã€‚Control è´Ÿè´£åè°ƒ Model å’Œ Viewï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸‹æ˜¯å¤„ç†å§”æ‰˜ã€å¤„ç†æ•°æ®ç­‰èŒè´£ã€‚æ­¤å¤„çš„ MVC å®ç°æ˜¯é’ˆå¯¹ä¸€ä¸ª Model å¯¹åº”å¤šä¸ª View çš„ä»£ç å®ç° ï¼Œä¹Ÿæ˜¯ä¸ºäº†æŠŠè§‚å¯Ÿè€…æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼å’Œç»„åˆæ¨¡å¼æ¨¡å¼éƒ½ç”¨èµ·æ¥ã€‚Viewã€stuffï¼Œscaleã€‘ã€ã€stuffï¼Œsalaryã€‘ã€ã€stuffï¼Œscaleï¼Œsalaryã€‘ä¸‰ç»„è§†å›¾å°±æ˜¯ä¸‰ä¸ª Viewï¼Œæ¯ä¸ª View éƒ½å¯ä»¥ç‹¬ç«‹æ¸²æŸ“è‡ªå·±çš„ä¸€ç»„è§†å›¾ã€‚ç»“åˆç»„åˆæ¨¡å¼ï¼Œæˆ‘ä»¬æˆ‘ä»¬é€ äº›è§†å›¾çš„å¶å¯¹è±¡å’Œåˆ†æ”¯å¯¹è±¡ã€‚123456789&lt;html&gt; &lt;head&gt;&lt;/head&gt; &lt;body&gt; &lt;div id="app"&gt;&lt;/div&gt; &lt;/body&gt;&lt;/html&gt;&lt;script&gt; const $APP = document.getElementById('app');&lt;/script&gt;å¶å¯¹è±¡ï¼ˆæ­¤å¤„æœ‰ä¸¤ç±»è§†å›¾ï¼‰ï¼š123456789101112131415161718const leafView_1 = () =&gt; &#123;const renderTable = () =&gt; &#123;...&#125;; return &#123; render: renderTable() &#125;;&#125;const leafView_2 = (Control) =&gt; &#123; const $ONE = document.getElementById('one'); let $SCALE; let $SALARY; const renderSearchTable = params =&gt; &#123;...&#125;; const handleModify = e =&gt; &#123;...&#125;; const bindEvent = () =&gt; &#123;...&#125;; return &#123; render: () =&gt; &#123;...&#125; &#125;;&#125;åˆ†æ”¯å¯¹è±¡ï¼š1234567891011121314const branchView = (Control) =&gt; &#123; let $SEARCH, $ALL; const Views = []; const addView = () =&gt; &#123;...&#125;; const render = () =&gt; &#123;...&#125;; const handleSearch = event =&gt; &#123;...&#125;; const bindEvent = () =&gt; &#123;...&#125; const initDOM = () =&gt; &#123;...&#125;; initDOM(); return &#123; render, addView, &#125;;&#125;;ModelModel ä¸»è¦æ˜¯å°†æ•°æ®å¤„ç†æˆç›®æ ‡æ•°æ®ï¼Œå¹¶æä¾› View æ³¨å†Œé€šçŸ¥æ¥å£ã€‚1234567891011121314151617181920const Model = () =&gt; &#123; let stuffData = []; let filterData = []; let Views = &#123;&#125;; const ajaxFun = () =&gt; [...]; // æ¨¡æ‹Ÿåå°è·å–æ•°æ®ï¼› const setStuffData = () =&gt; &#123;&#125;; const filterStuff = () =&gt; &#123;&#125;; const setFilterStuff = () =&gt; &#123;&#125;; const findStuff = () =&gt; &#123;...&#125;; const modifyStuffData = () =&gt; &#123;...&#125;; const register = () =&gt; &#123;...&#125;; const notify = () =&gt; &#123;...&#125;; return &#123; setStuffData, setFilterStuff, modifyStuffData register, notify, &#125;;&#125;Controlé‰´äºæ­¤å¤„æœ‰å¤šç±»è§†å›¾ï¼ŒModel å’Œ View ä¹‹é—´ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å‘å¸ƒè®¢é˜…æ¨¡å¼è€Œä¸æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚Model éœ€è¦æ”¶é›† Viewï¼Œç„¶ååœ¨æ•°æ®æ”¹å˜æ—¶å€™æ›´æ–°è§†å›¾ã€‚12345678910111213const Control = () =&gt; &#123; const ModelInstance = Model(); const View_1 = () =&gt; &#123;...&#125;; const View_2 = () =&gt; &#123;...&#125;; const init = function () &#123;...&#125;; const filter = () =&gt; &#123;...&#125;; const modifyStuffInfo = () =&gt; &#123;...&#125;; return &#123; init, filter, modifyStuffInfo &#125;;&#125;;å®Œæ•´çš„ MVC ä»£ç ï¼šSee the Pen MVC by å¤œæ›‰å®¸ (@yexiaochen)on CodePen.åè¯å°±è¿™ä¹ˆç®€å•çš„ä¸€ä¸ªéœ€æ±‚ï¼Œæ”¹æˆ MVC æ¨¡å¼åå°±å¤šäº† 100 å¤šè¡Œä»£ç ã€‚å°±å¦‚ä¸Šç¯‡æ–‡ç« æ‰€è¯´ä¸€æ ·ï¼Œå¦‚æœæ˜¯ç®€å•çš„éœ€æ±‚å‹æ ¹æ²¡å¿…è¦è¿™ä¹ˆæŠ˜è…¾ã€‚ä¸è¿‡ï¼Œæ”¹æˆ MVC åï¼Œå®ƒä»¬å„è‡ªèŒè´£ä¹Ÿå°±æ›´åŠ æ¸…æ™°äº†ï¼Œå¯¹ä»¥åçš„ç»´æŠ¤ä¹Ÿä¼šå¥½äº›ã€‚]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è§‚å¯Ÿè€…æ¨¡å¼</tag>
        <tag>MVC</tag>
        <tag>ç­–ç•¥æ¨¡å¼</tag>
        <tag>ç»„åˆæ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç™½è¯MVC/MVP/MVVM]]></title>
    <url>%2F%E7%99%BD%E8%AF%9DMVC-MVP-MVVM%2F</url>
    <content type="text"><![CDATA[ä¸€åˆ‡çš†ä¸ºæ•°æ®ï¼ˆ0ï¼Œ1ï¼‰ï¼Œä¸€åˆ‡çš†å¯é‡åŒ–ä¸ç®¡æ‰¿ä¸æ‰¿è®¤ï¼Œé¡µé¢çš„å±•ç¤ºéƒ½æ˜¯æ•°æ®çš„å¯è§†åŒ–ã€‚HTML æ˜¯æ•°æ®ï¼ŒCSS æ˜¯æ•°æ®ï¼ŒJSä¹Ÿæ˜¯æ•°æ®ã€‚åªæ˜¯è¿™äº›æ•°æ®çš„ç»„åˆæœ€ç»ˆå˜æˆäº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚æœ€ä¸ºç›´è§‚çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨å¼€å‘è€…å·¥å…· Console æ§åˆ¶å°ä¸­ï¼Œè¾“å…¥ä»»ä½•å½¢å¼çš„æ•°æ®å¹¶ç‚¹å‡» Enter æ—¶ï¼Œæœ€ç»ˆä¼šåœ¨ä¸‹æ–¹æ˜¾ç¤ºå‡ºæ¥ï¼ˆå‰ææ˜¯è¾“å…¥æ­£ç¡®çš„æ•°æ®ç±»å‹å’Œæ ¼å¼ï¼‰ã€‚åˆæˆ–è€…ï¼Œæˆ‘ä»¬ç”¨æŸäº›å‚æ•°ä»æœåŠ¡è¯·æ±‚ä¸€ä¸ª JSON æ–‡ä»¶ï¼Œæµè§ˆå™¨ä¸Šå°±ä¼šå±•ç¤ºæ–‡ä»¶å†…å®¹ã€‚æ•°æ® =&gt; è§†å›¾ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ç›´æ¥ã€‚MVç„¶è€Œï¼Œå®é™…ä¸Šçš„æƒ…å†µè¿œè¿œæ¯”è¿™å¤æ‚ã€‚ä¸ºäº†æ›´å¥½çš„è§†è§‰äº«å—å’Œç”¨æˆ·ä½“éªŒï¼Œæµè§ˆå™¨ä¸Šçš„é¡µé¢æ•ˆæœè¶Šæ¥è¶Šç‚«ï¼Œäº¤äº’é€»è¾‘ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ã€‚æˆ‘ä»¬æ‹¿åˆ°çš„ç¬¬ä¸€æ‰‹æ•°æ®ï¼ˆæˆ–æ¥è‡ªç”¨æˆ·ï¼Œæˆ–æ¥è‡ªæœåŠ¡ï¼‰å·²ç»ä¸èƒ½ç›´æ¥ç”¨æ¥å±•ç¤ºäº†ï¼Œè€Œæ˜¯è¦ç»è¿‡ç›¸åº”çš„é€»è¾‘å¤„ç†ï¼ˆåœ¨è¿™é‡Œæˆ‘ä»¬ç§°ç¬¬ä¸€æ‰‹æ•°æ®ä¸ºæºæ•°æ®ï¼Œç»è¿‡é€»è¾‘å¤„ç†åçš„æ•°æ®ç§°ä¸ºç›®æ ‡æ•°æ®ï¼‰ã€‚è§†å›¾ä¸Šçš„æ•°æ®å°±æ˜¯ç›®æ ‡æ•°æ®çš„æ˜ å°„ã€‚è€Œå¤„ç†åçš„æ•°æ®åˆè¯¥å¦‚ä½•å±•ç¤ºå‘¢ï¼Ÿæ˜¯åŸºäº DOM åšæ“ä½œï¼Œè¿˜æ˜¯åŸºäºç›®æ ‡æ•°æ®é‡æ–°æ¸²æŸ“å‘¢ï¼Ÿä¸¤è€…éƒ½å¯ï¼Œå‰è€…æ˜¯ä»¥ jQuery ä¸ºä»£è¡¨ï¼Œåè€…åˆ™æ˜¯ä»¥ Vue ç­‰æ–°æ¡†æ¶ä¸ºä¸»ã€‚ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼Œå¯¹äºæŸä¸ª DOM å…ƒç´ çš„æ˜¾éšã€‚1234567891011&lt;!-- jQuery --&gt;&lt;div id='jquery'&gt;&lt;/div&gt;$('#jquery').hide;&lt;!-- Vue --&gt;&lt;div id='jquery' v-show=&#123;id[jquery]&#125;&gt;&lt;/div&gt;data: &#123; id: &#123; jquery: fasle &#125;&#125;åŸºäº DOM æ“ä½œï¼Œ å¦‚æœæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ª DOM éšæ—¶æ”¹å˜æ˜¾éšï¼Œå°±éœ€è¦ä¸æ–­æ“ä½œ DOM æ¥æ›´æ”¹æ ·å¼ã€‚ å¦‚æœåŸºäºæ•°æ®æ“ä½œï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ”¹ jQuery çš„å€¼å³å¯ã€‚æˆ‘ä»¬å†å›åˆ°åˆšæ‰çš„è¯é¢˜ï¼Œå¯¹äºå¤æ‚çš„äº¤äº’é¡µé¢ï¼Œæ•°æ® =&gt; è§†å›¾ çš„å…³ç³»å·²ç»ä¸å†åƒä¹‹å‰é‚£ä¹ˆçº¯å‡€äº†ã€‚ä¸ºäº†åº”ä»˜å¤æ‚çš„åœºæ™¯ï¼Œæ•°æ® å’Œ è§†å›¾ ä¸å†æ˜¯ç‹­ä¹‰ä¸Šçš„æ•°æ®å’Œè§†å›¾ã€‚æ•°æ®åŒ…æ‹¬äº†æ•°æ®å’Œæ•°æ®ç›¸å…³çš„æ“ä½œï¼Œè§†å›¾åŒ…æ‹¬äº†è§†å›¾å’Œå¯¹è§†å›¾ç›¸å…³çš„ä¸€äº›æ“ä½œã€‚MV*æ¨¡å¼å€Ÿç”¨å…¶ä»–é¢†åŸŸ MV* æ¡†æ¶æ¨¡å¼ï¼Œè¿™é‡Œçš„ æ•°æ® å’Œ è§†å›¾ å¯¹åº”ç€ Model å’Œ View. ç®€å•ç‚¹çš„é¡µé¢ï¼ŒModel - View å®Œå…¨èƒ½å¤Ÿåº”ä»˜è¿‡æ¥ã€‚ä½†æ˜¯å¤æ‚çš„åœºæ™¯ï¼ŒModel å’Œ View ä¼šåˆ†æ‹…å¤ªå¤šçš„é€»è¾‘è€Œæ˜¾å¾—è‡ƒè‚¿ï¼Œç”šè‡³å¯èƒ½åŒ…å«äº†ä¸åœ¨è‡ªå·±èŒè´£èŒƒå›´å†…çš„é€»è¾‘ã€‚æ­¤æ—¶æˆ‘ä»¬å°±è¦å€ŸåŠ©ç¬¬ä¸‰è€…æ¥åè°ƒ Model å’Œ View ä¹‹é—´çš„å…³ç³»ã€‚å¦‚ä½•åˆä½œï¼Œå…¶å®ä¹Ÿæ—©æœ‰äº†ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚æ¯”å¦‚ MVCã€MVPã€MVVMã€‚å› ä¸ºé‡ç‚¹å§‹ç»ˆåœ¨äºåè°ƒ Modelå’Œ Viewï¼Œæ‰€ä»¥å®ƒä»¬ç»Ÿç§°ä¸º MV*ã€‚MVC (Model(æ¨¡å‹)-View(è§†å›¾)-Controller(æ§åˆ¶å™¨)), MVP (Model(æ¨¡å‹)-View(è§†å›¾)-Presenter(ä¸­ä»‹è€…)) ä»¥åŠ MVVM (Model(æ¨¡å‹)-View(è§†å›¾)-ViewModel(è§†å›¾æ¨¡å‹))ï¼Œæ˜¯ç§æ¨¡å¼ä¹Ÿæ˜¯ç§æŠ½è±¡çš„æ¦‚å¿µã€‚æ¯ä¸€ç§æ¨¡å¼åœ¨å®è·µä¸­å¯èƒ½å­˜åœ¨ç€ä¸åŒçš„å˜ä½“ï¼Œä½†è¿™ä¸å¦¨ç¢å®ƒä»¬å±äºåŒä¸€ä¸ªæ¨¡å¼ã€‚æ¯ä¸€ç§æ¨¡å¼çš„ä¸åŒå˜ä½“éƒ½æ˜¯ä¸ºäº†è§£å†³ä¸åŒé—®é¢˜è€Œäº§ç”Ÿçš„ï¼Œæ‰€ä»¥å®ƒä»¬æ²¡æœ‰ä»€ä¹ˆä¼˜åŠ£ä¹‹åˆ†ã€‚ç°åœ¨æˆ‘ä»¬å°±æŠŠä¸‰ç§æ¨¡å¼æ‹ŸäººåŒ–æ¥é˜è¿°ä¸åŒæ¨¡å¼çš„è¿ä½œæ–¹å¼ã€‚ç”±å››èŠ‚ç”µæ± é©±åŠ¨çš„J-20æ¨¡å‹:MVCå…¬å¸ï¼šé£æœºæ¨¡å‹åˆ¶é€ å•† =&gt; ç”Ÿäº§çš„é£æœºæ¨¡å‹å¯ä»¥è‡ªä¸»å¡‘å½¢ã€‚æ¨¡å¼ï¼šMVCé£æœºæ¨¡å‹ Vï¼šç”±æ¨¡å‹æ•°æ®ç”Ÿäº§å‡ºçš„æ¨¡å‹ã€‚èŒè´£æœ‰ï¼šç”±æ¨¡å‹æ•°æ®è‡ªä¸»å¡‘å½¢ã€å°†æ”¶é›†ç”¨æˆ·åé¦ˆå¹¶è½¬å‘ã€‚å·¥ç¨‹å¸ˆ Mï¼šè´Ÿè´£å°†å®¢æœçš„éœ€æ±‚å‚æ•°è½¬æ¢æˆæœ€ç»ˆçš„æ¨¡å‹æ•°æ®ã€‚èŒè´£æœ‰ï¼šå¯¹æ•°æ®çš„æ“ä½œã€é€šçŸ¥é£æœºæ¨¡å‹æ›´æ–°ã€‚å·¥ç¨‹å¸ˆ Cï¼šåè°ƒ M å’Œ Vã€‚è´Ÿè´£å“åº”ç”¨æˆ·ã€è°ƒç”¨å·¥ç¨‹å¸ˆMç”Ÿæˆç›®æ ‡æ•°æ®ã€‚é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œå®¢æˆ·æå‡ºäº†æƒ³è¦ä¸€ä¸ª 60cm * 60cm çš„é£æœºæ¨¡å‹ï¼Œè¿™ä¸ªéœ€æ±‚åˆ°äº†åˆ¶é€ å•†é‚£é‡Œè‚¯å®šä¸æ˜¯ç»™å‡ºä¸ª 60cm * 60cm çš„å°æ–¹å—ï¼Œè€Œæ˜¯æ ¹æ®éœ€æ±‚è®¡ç®—å¤„ç†ç”Ÿäº§çœŸæ­£çš„é£æœºæ¨¡å‹ï¼ˆæ¯”å¦‚ä»€ä¹ˆæ ·çš„é€ å‹è®¾è®¡æ‰èƒ½æœ€å¤§å‡å°‘é˜»åŠ›ï¼‰ï¼Œå·¥ç¨‹å¸ˆMçš„å·¥ä½œä¹‹ä¸€å°±æ˜¯æ ¹æ®åŸå§‹æ•°æ®å¹¶ç»“åˆç‰¹å®šçš„é€»è¾‘è§„åˆ™ç»™å‡ºæœ€ç»ˆçš„æ¨¡å‹æ•°æ®ã€‚ç°åœ¨ï¼Œç”¨æˆ·æ‰‹é‡Œæœ‰ä¸€é£æœºæ¨¡å‹Vï¼Œä¸è¿‡è¿™ä¸ªé£æœºæ¨¡å‹çš„é£æœºåŒç¿¼å’Œç”¨æˆ·æƒ³è±¡çš„ä¸ä¸€æ ·ã€‚äºæ˜¯ç”¨æˆ·æ ¹æ®é£æœºæ¨¡å‹ä¸Šæä¾›çš„æ–¹å¼åé¦ˆäº†é—®é¢˜ï¼ˆæ¯”å¦‚é£æœºæ¨¡å‹æä¾›äº†ç•™è¨€åŠŸèƒ½ï¼Œç”¨æ¥æ”¶é›†ç”¨æˆ·åé¦ˆï¼‰ã€‚å·¥ç¨‹å¸ˆCæ”¶åˆ°äº†åé¦ˆåï¼ŒæŠŠå·¥ç¨‹å¸ˆMæ‹‰è¿‡æ¥å¯¹æ•°æ®è¿›è¡Œå¤„ç†å¹¶ç”Ÿæˆæ–°çš„æ¨¡å‹æ•°æ®ï¼Œå¹¶è®©å·¥ç¨‹å¸ˆMé€šçŸ¥åˆ°å…±äº«ç›¸åŒæ•°æ®çš„é£æœºæ¨¡å‹å»æ›´æ–°æ•°æ®è‡ªä¸»è°ƒæ•´ã€‚æ’ä¸€å¥ï¼Œè¯´åˆ°è°ƒæ•´ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼ã€‚ä¸€ä¸ªæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é’ˆå¯¹ç”¨æˆ·ä¸æ»¡æ„çš„åœ°æ–¹ï¼ˆé£æœºåŒç¿¼ï¼‰è¿›è¡Œè°ƒæ•´ã€‚ä¸€ä¸ªæ˜¯ï¼Œæˆ‘ä»¬é£æœºæ¨¡å‹æ ¼å¼åŒ–æŒ‰ç…§æœ€æ–°çš„æ•°æ®æ¨¡å‹é‡æ–°åˆå§‹åŒ–ä¸€ä¸‹ã€‚å‰è€…å¯ä»¥è®¤ä¸ºå°±æ˜¯åŸºäº DOM æ“ä½œçš„æ–¹å¼ï¼Œåè€…å°±æ˜¯åŸºäºæ•°æ®çš„å¤„ç†æ–¹å¼ã€‚åœ¨ MVC ä¸­ï¼ŒModel å’Œ View ä¹‹é—´è€¦åˆï¼Œè§†å›¾çš„æ›´æ–°éœ€è¦ Model å»ç›´æ¥é€šçŸ¥ã€‚Model å†…å› ä¸ºæœ‰ View çš„å¼•ç”¨æ‰èƒ½è®©è§†å›¾æ›´æ–°ã€‚MVPå¦‚æœ Model åªæƒ³åšæ•°æ®ç›¸å…³çš„æ“ä½œï¼ŒæŠŠé€šçŸ¥ View çš„é€»è¾‘æŒªåˆ°äº† Control é‡Œï¼Œè¿™æ—¶ Control æ‘‡èº«ä¸€å˜ç§°ä¸ºäº† Presenterã€‚å› ä¸ºè§£è€¦äº† Model å’Œ Viewï¼Œä¹Ÿä½¿å¾—å®ƒä»¬çš„èŒè´£åˆ’åˆ†æ›´åŠ æ¸…æ™°ã€‚å…¬å¸ï¼šé£æœºæ¨¡å‹åˆ¶é€ å•† =&gt; ç”Ÿäº§çš„é£æœºæ¨¡å‹å¯ä»¥è‡ªä¸»å¡‘å½¢ã€‚æ¨¡å¼ï¼šMVPé£æœºæ¨¡å‹ Vï¼šç”±æ¨¡å‹æ•°æ®ç”Ÿäº§å‡ºçš„æ¨¡å‹ã€‚èŒè´£æœ‰ï¼šç”±æ¨¡å‹æ•°æ®è‡ªä¸»å¡‘å½¢ã€å°†æ”¶é›†ç”¨æˆ·åé¦ˆå¹¶è½¬å‘ã€‚å·¥ç¨‹å¸ˆ Mï¼šè´Ÿè´£å°†å®¢æœçš„éœ€æ±‚å‚æ•°è½¬æ¢æˆæœ€ç»ˆçš„æ¨¡å‹æ•°æ®ã€‚èŒè´£æœ‰ï¼šå¯¹æ•°æ®çš„æ“ä½œã€‚å·¥ç¨‹å¸ˆ Pï¼šåè°ƒ M å’Œ Vã€‚è´Ÿè´£å“åº”ç”¨æˆ·ã€è°ƒç”¨å·¥ç¨‹å¸ˆMç”Ÿæˆç›®æ ‡æ•°æ®ã€æ›´æ–°è§†å›¾ã€‚åœ¨ MVP æ¨¡å¼ä¸­ï¼Œå·¥ç¨‹å¸ˆMçš„å·¥ä½œä¸“æ³¨äºæ•°æ®ï¼Œé€šçŸ¥çš„æ´»ç”©ç»™äº†å·¥ç¨‹å¸ˆPã€‚å’Œ MVC åŒæ ·çš„åœºæ™¯ï¼Œå·¥ç¨‹å¸ˆPæ¥åˆ°åé¦ˆåï¼ŒæŠŠå·¥ç¨‹å¸ˆMæ‹‰è¿‡æ¥å¤„ç†äº†æ•°æ®ï¼Œç„¶ååˆè®©é£æœºæ¨¡å‹ä¾æ®å·²ç»å¤„ç†åçš„æ•°æ®è‡ªä¸»è°ƒæ•´ã€‚æ¯æ¬¡æ•°æ®çš„å˜åŒ–éƒ½è¦ä¸»åŠ¨å»é€šçŸ¥è§†å›¾æ›´æ–°ã€‚MVVMå¦‚æœæ•°æ®å˜åŒ–èƒ½å¤Ÿè‡ªä¸»è§¦å‘è§†å›¾æ›´æ–°ï¼Œå¯¹ Presenter æ¥è¯´ä¹Ÿä¼šè½»æ¾ä¸å°‘ã€‚äºæ˜¯ Presenter å†æ¬¡æ‘‡èº«ä¸€å˜ ç§°ä¸ºäº† ViewModelã€‚å…¬å¸ï¼šé£æœºæ¨¡å‹åˆ¶é€ å•† =&gt; ç”Ÿäº§çš„é£æœºæ¨¡å‹å¯ä»¥è‡ªä¸»å¡‘å½¢ã€‚æ¨¡å¼ï¼šMVVMé£æœºæ¨¡å‹ Vï¼šç”±æ¨¡å‹æ•°æ®ç”Ÿäº§å‡ºçš„æ¨¡å‹ã€‚èŒè´£æœ‰ï¼šç”±æ¨¡å‹æ•°æ®è‡ªä¸»å¡‘å½¢ã€å°†æ”¶é›†ç”¨æˆ·åé¦ˆå¹¶è½¬å‘ã€‚å·¥ç¨‹å¸ˆ Mï¼šè´Ÿè´£å°†å®¢æœçš„éœ€æ±‚å‚æ•°è½¬æ¢æˆæœ€ç»ˆçš„æ¨¡å‹æ•°æ®ã€‚èŒè´£æœ‰ï¼šå¯¹æ•°æ®çš„æ“ä½œã€‚å·¥ç¨‹å¸ˆ VMï¼šåè°ƒ M å’Œ Vã€‚è´Ÿè´£å“åº”ç”¨æˆ·ã€è°ƒç”¨å·¥ç¨‹å¸ˆMç”Ÿæˆç›®æ ‡æ•°æ®å¹¶æ›´æ–°è§†å›¾ã€‚åœ¨ MVVM ä¸­ï¼ŒView å’Œ Model çš„å˜åŒ–ä¼¼ä¹ä¸å¤§ã€‚ä¸ºäº†åœ¨æ•°æ®å˜åŒ–åèƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è§†å›¾ï¼ŒViewModel è¿›è¡Œäº†æ‰€è°“çš„æ•°æ®ç»‘å®šã€‚ViewModel å°† ç›®æ ‡æ•°æ® å’Œè§†å›¾è¿›è¡Œäº†ç»‘å®šï¼Œåœ¨æœ€ç»ˆç”Ÿæˆç›®æ ‡æ•°æ®æ—¶ï¼Œä¼šè§¦å‘è§†å›¾çš„æ›´æ–°ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡æœ‰ä¸¤ä»½æ•°æ®ï¼Œä¸€ä»½æ˜¯æºæ•°æ®ï¼Œä¸€ä»½æ˜¯ç›®æ ‡æ•°æ®ã€‚ç»‘å®šè§†å›¾çš„æ˜¯ç›®æ ‡æ•°æ®ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬ç›´æ¥ä¿®æ”¹ç›®æ ‡æ•°æ®æ—¶ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚å¦‚æœæ˜¯æºæ•°æ®ç»å¤„ç†åèµ‹ç»™ç›®æ ‡æ•°æ®ï¼Œç›®æ ‡æ•°æ®ä¹Ÿä¼šæ”¹å˜ï¼Œä¹Ÿä¼šè§¦å‘è¯•å›¾æ›´æ–°ã€‚æ€»ä¹‹ï¼Œåœ¨ MVVM ä¸­ï¼Œè§†å›¾æ˜¯ç›®æ ‡æ•°æ®çš„å¯è§†åŒ–ï¼Œé€šè¿‡æ”¹å˜è§†å›¾é‡Œçš„æ•°æ®ä¹Ÿå°±ç­‰äºæ”¹å˜äº†ç›®æ ‡æ•°æ®ã€‚å’Œ MVCã€MVP åŒæ ·çš„åœºæ™¯ï¼Œä¸è¿‡ç§‘æŠ€å‘è¾¾äº†ï¼Œå·¥ç¨‹å¸ˆVMæœ‰ä¸ªè‡ªåŠ¨åŒ–å¤„ç†ç¨‹åºã€‚ç”¨æˆ·åé¦ˆäº†é—®é¢˜ï¼Œå·¥ç¨‹å¸ˆVMçš„è¿™ä¸ªè‡ªåŠ¨å¤„ç†ç¨‹åºæ¥åˆ°åé¦ˆè‡ªåŠ¨å¤„ç†å¹¶å°†ç»“æœå‘ç»™é£æœºæ¨¡å‹è®©å…¶è‡ªä¸»è°ƒæ•´ã€‚ä»¥ä¸‹æ˜¯Vueçš„MVVMç¤ºæ„å›¾ï¼šMVCã€MVPå’ŒMVVMå¤§è‡´å°±æ˜¯å¦‚æ­¤ï¼Œæ ¹æ®ä¸‰ç§æ¨¡å¼ä»¥åŠä¸åŒåœºæ™¯ï¼Œæœ€ç»ˆæ¼”å˜å‡ºäº†ä¸åŒçš„å˜ä½“ã€‚ä½†æ˜¯ï¼Œä¸åŒçš„å˜ä½“æ˜¯é’ˆå¯¹ä¸åŒé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼ŒæŒ‡ä¸å®šåæ¥è¿˜ä¼šæœ‰ MVAã€MVBâ€¦, è°çŸ¥é“å‘¢]]></content>
      <categories>
        <category>è¿™ä¸ªæƒ³æ³•ä¸ä¸€å®šå¯¹</category>
      </categories>
      <tags>
        <tag>MVC</tag>
        <tag>MVVM</tag>
        <tag>MVP</tag>
        <tag>MV*</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨JavaScriptä¸­å°è¯•ç»„åˆæ¨¡å¼]]></title>
    <url>%2F%E5%9C%A8JavaScript%E4%B8%AD%E5%B0%9D%E8%AF%95%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ç»„åˆæ¨¡å¼å°±æ˜¯ç”¨å°çš„å­å¯¹è±¡æ¥æ„å»ºæ›´å¤§çš„å¯¹è±¡, å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„, ä»¥è¡¨ç¤º â€œéƒ¨åˆ†-æ•´ä½“â€ çš„å±‚æ¬¡ç»“æ„. ä½äºåº•å±‚æœ€å°çš„å¯¹è±¡, æˆ‘ä»¬åœ¨è¿™é‡Œç§°ä¸ºå¶å¯¹è±¡, ç”±å¶å¯¹è±¡ç»„æˆçš„ç»„åˆå¯¹è±¡æˆ‘ä»¬ç§°ä¸ºåˆ†æ”¯å¯¹è±¡, ä½äºæœ€é¡¶å±‚çš„æ ¹å¯¹è±¡åœ¨è¿™é‡Œæˆ‘ä»¬ä¹Ÿç§°ä¸ºåˆ†æ”¯å¯¹è±¡. ä¸è¿‡å®ƒä»¬åªæ˜¯ç»“æ„ä¸Šå‘ˆç°å‡ºçˆ¶å­å…³ç³». ç»„åˆæ¨¡å¼æœ€å¤§çš„å¥½å¤„å¯ä»¥ä¸€è‡´æ€§åœ°å¯¹å¾…åˆ†æ”¯å¯¹è±¡å’Œå¶å¯¹è±¡, è¿™ä¹Ÿå°±è¦æ±‚äº†å®ƒä»¬æœ‰ç€ç›¸åŒçš„æ¥å£.åœ¨å’¬æ–‡åš¼å­—è¯´ç­–ç•¥ä¸­, æˆ‘ä»¬å¯¹å‘˜å·¥è¿›è¡Œè€ƒæ ¸, åˆ’åˆ†äº†ç”²ä¹™ä¸™ä¸‰ä¸ªç­‰çº§. ç°åœ¨, å…¬å¸å†³å®šç»“åˆç­‰çº§ä»¥èµ„é¼“åŠ±.ä»¥ä¸‹æ‰€æœ‰ä»£ç å‚è§compositeMode.å¼€é”€çš„å æ¯”ç°æœ‰è€ƒæ ¸äººå‘˜:è€ƒæ ¸é¡¹ç›®\è€ƒæ ¸äººç­‰çº§æœˆè–ªperson_1ç”²6kperson_2ä¹™9kperson_3ä¹™4kperson_4ä¹™5kperson_5ä¸™6kperson_6ä¸™5kperson_7ä¸™6kperson_8ä¸™4kperson_9ç”²8k123456789101112const persons = [ &#123;scale:'ç”²', salary: 6000, company: 'JavaScript'&#125;, &#123;scale:'ä¹™', salary: 9000, company: 'JavaScript'&#125;, &#123;scale:'ä¹™', salary: 4000, company: 'JavaScript'&#125;, &#123;scale:'ä¹™', salary: 5000, company: 'JavaScript'&#125;, &#123;scale:'ä¸™', salary: 6000, company: 'JavaScript'&#125;, &#123;scale:'ä¸™', salary: 5000, company: 'JavaScript'&#125;, &#123;scale:'ä¸™', salary: 6000, company: 'JavaScript'&#125;, &#123;scale:'ä¸™', salary: 4000, company: 'JavaScript'&#125;, &#123;scale:'ä¸™', salary: 9000, company: 'JavaScript'&#125;, &#123;scale:'ç”²', salary: 6000, company: 'JavaScript'&#125;,]ç­‰çº§ä¸æœˆè–ªç›¸å…³, åˆ†åˆ«ä¸º3å€æœˆè–ªã€2å€æœˆè–ªã€1å€æœˆè–ª.ç­‰çº§ç”²ä¹™ä¸™æœˆè–ªå€ç‡32112345const scaleMap = &#123; 'ç”²': 3, 'ä¹™': 2, 'ä¸™': 1&#125;åˆ°åº•éœ€è¦æ‹¿å‡ºå¤šå°‘é’±å¥–åŠ±å‘¢? ç”²ä¹™ä¸™ä¸‰ç»„äººåˆ†åˆ«å æ¯”å¤šå°‘å‘¢? é’ˆå¯¹è¿™æ ·çš„éœ€æ±‚, æˆ‘ä»¬å°è¯•ç€ç”¨ç»„åˆæ¨¡å¼è®¡ç®—ä¸€ä¸‹.å¶å¯¹è±¡ä¸åˆ†æ”¯å¯¹è±¡ä¸Šé¢ä¹Ÿæåˆ°äº†, ç»„åˆæ¨¡å¼ä¸­æœ‰ä¸¤ç±»å¯¹è±¡. ä¸€ä¸ªæ˜¯åˆ†æ”¯å¯¹è±¡, ä¸€ä¸ªæ˜¯å¶å¯¹è±¡. åˆ†æ”¯å¯¹è±¡æ˜¯å¶å¯¹è±¡çš„é›†åˆ, ä¿å­˜ç€å¶å¯¹è±¡çš„å¼•ç”¨, å¯ä»¥æ“ä½œå¶å¯¹è±¡(æ¯”å¦‚æ·»åŠ , æ‰§è¡Œ). è€Œå¶å¯¹è±¡åªè¦æš´éœ²æ¥å£å³å¯.ç°åœ¨æˆ‘ä»¬ä»ç®€å•çš„å¼€å§‹, é€ ä¸€ä¸ªç”Ÿäº§å¶å¯¹è±¡çš„å‡½æ•°.12345678const leaf = params =&gt; &#123; return &#123; ...params, expense() &#123; return scaleMap[params.scale]*params.salary &#125; &#125;&#125;;åˆ†æ”¯å¯¹è±¡å°±ç¨å¾®éº»çƒ¦äº›äº†, å› ä¸ºéœ€è¦ç®¡ç†å¶å¯¹è±¡.1234567891011121314const branch = params =&gt; &#123; return &#123; ...params, members: [], add(item) &#123; this.members.push(item) &#125;, expense() &#123; return this.members.reduce((sum, item) =&gt; &#123; return sum + item.expense() &#125;, 0) &#125; &#125;&#125;;expense() çš„æ–¹æ³•ä¸è®ºæ˜¯åœ¨åˆ†æ”¯å¯¹è±¡è¿˜æ˜¯å¶å¯¹è±¡ä¸Š, æˆ–è€…è¯´ä¸æ¸…æ¥šæ˜¯åˆ†æ”¯å¯¹è±¡è¿˜æ˜¯å¶å¯¹è±¡, æˆ‘ä»¬éƒ½å¯ä»¥å¾—åˆ°ç›¸åº”çš„ç»“æœ. åœ¨åˆ†æ”¯å¯¹è±¡é‡Œ, ä¿å­˜ç€å¶å¯¹è±¡çš„å¼•ç”¨, æˆ‘ä»¬å¯ä»¥å¯¹å¶å¯¹è±¡è¿›è¡Œä»»ä½•æ“ä½œ.ä»JSONæ•°æ®åˆ°æ ‘å½¢ç»“æ„ç»„åˆæ¨¡å¼å°±æ˜¯è¿™ä¹ˆç®€å•, å‰©ä¸‹çš„å°±æ˜¯å¦‚ä½• JSON æ•°æ®è½¬æ¢æˆå±‚æ¬¡åˆ†æ˜çš„ç»“æ„äº†.123456789101112131415161718192021222324const convertData = array =&gt; &#123; const branchList = []; const branchObjs = []; array.forEach(item =&gt; &#123; let leafObj = leaf(item); if (!branchList.includes(item.scale))&#123; let params = &#123; scale: item.scale &#125; let branchObj = branch(params) branchObjs.push(branchObj) branchList.push(item.scale) &#125; branchObjs.filter(obj =&gt; obj.scale == item.scale)[0].add(leafObj); &#125;) return branchObjs;&#125;console.log('branchObjs', convertData(persons))const scaleA = convertData(persons)[0];const scaleB = convertData(persons)[1];const scaleC = convertData(persons)[2];console.log('ç”²', scaleA.expense())console.log('ä¹™', scaleB.expense())console.log('ä¸™', scaleC.expense())æœ€ç»ˆç»“æœå±•ç¤ºå¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“å…¬å¸çš„æ€»æ”¯å‡º, ä¹Ÿå¯ä»¥æŠŠ scaleA, scaleB, scaleC ç»„åˆåœ¨ä¸€èµ·ä½œä¸ºå…¬å¸çš„ä¸€å­é›†.12345const company = branch();company.add(scaleA);company.add(scaleB);company.add(scaleC);company.expense()ä¸éš¾å‘ç°, æˆ‘ä»¬å¯ä»¥éšæ„ç»„è£…å¯¹è±¡è€Œä¸ä¼šå½±å“åˆ°å…¶å®ƒèŠ‚ç‚¹, ä»»ä½•ä¸€ä¸ªé›†åˆæˆ–ä¸ªä½“éƒ½èƒ½å¤Ÿå•ç‹¬è¿è¡Œ. æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦å»ç»„åˆæ›´å¤æ‚çš„ç»“æ„. ä½†æ˜¯, å¦‚æœé€šè¿‡ç»„åˆæ¨¡å¼åˆ›å»ºäº†å¤ªå¤šçš„å¯¹è±¡, é‚£ä¹ˆè¿™äº›å¯¹è±¡å¯èƒ½ä¼šè®©ç³»ç»Ÿè´Ÿæ‹…ä¸èµ·.å°ç»“ç»„åˆæ¨¡å¼å¯¹è±¡å½¢å¼ä¸Šè‡³å°‘æœ‰ä¸¤ç§, åˆ†æ”¯å¯¹è±¡å’Œå¶å¯¹è±¡.åˆ†æ”¯å¯¹è±¡å’Œå¶å¯¹è±¡æ‹¥æœ‰ç›¸åŒçš„æ¥å£, ä¸”å¯¹ä¸€ç»„å¶å¯¹è±¡æ“ä½œå…·æœ‰åŒæ­¥ä¸€è‡´æ€§.ç»„åˆæ¨¡å¼æ˜¯ HAS-A (èšåˆ)å…³ç³», ä¸æ˜¯ IS-A.]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>ç»„åˆæ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å’¬æ–‡åš¼å­—è¯´ç­–ç•¥]]></title>
    <url>%2F%E5%92%AC%E6%96%87%E5%9A%BC%E5%AD%97%E8%AF%B4%E7%AD%96%E7%95%A5%2F</url>
    <content type="text"><![CDATA[è®¾è®¡æ¨¡å¼æ˜¯: åœ¨é¢å‘å¯¹è±¡è½¯ä»¶è¿‡ç¨‹ä¸­é’ˆå¯¹ç‰¹å®šé—®é¢˜çš„ç®€æ´è€Œä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ. é€šè¿‡å¯¹å°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€ç»„åˆç­‰æŠ€æœ¯çš„åå¤åˆ©ç”¨, æç‚¼å‡ºå¯é‡å¤ä½¿ç”¨é¢å‘å¯¹è±¡çš„è®¾è®¡æŠ€å·§.JavaScript å¯ä»¥æ¨¡æ‹Ÿå®ç°ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€çš„è®¾è®¡æ¨¡å¼. ç„¶è€Œä»…ä»…æ˜¯ç”Ÿæ¬ç¡¬å¥—, æœªå…ä¼šå¤±å» JavaScript çš„çµæ´»æ€§. ä¸å¦‚æº¯æœ¬æ±‚æº, çœ‹çœ‹è¿™äº›è®¾è®¡æ¨¡å¼åˆ°åº•åœ¨ä¼ è¾¾ä»€ä¹ˆ, ç„¶åéµå¾ªæ­¤ç‚¹.ç­–ç•¥æ¨¡å¼å®šä¹‰ç­–ç•¥æ¨¡å¼: å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•, æŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥, å¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢.å­—é¢æ„æ€, å°±æ˜¯å®šä¹‰å°è£…å¤šç§ç®—æ³•, ä¸”å„ä¸ªç®—æ³•ç›¸äº’ç‹¬ç«‹. å½“ç„¶, ä¹Ÿä¸ä»…ä»…æ˜¯ç®—æ³•. åªè¦å®šä¹‰ä¸€äº›è§„åˆ™, ç»å¤„ç†åè¾“å‡ºæˆ‘ä»¬æƒ³è¦çš„ç»“æœå°±æˆ. åœ¨æ­¤æˆ‘ä»¬ç§°å•ä¸ªå°è£…åçš„ç®—æ³•ä¸ºä¸€ä¸ªç­–ç•¥. ä¸€ç³»åˆ—å°è£…åçš„ç®—æ³•ç§°ä¸ºä¸€ç»„ç­–ç•¥.ä¸€ä¸ªåŸºäºç­–ç•¥æ¨¡å¼çš„ç¨‹åºè‡³å°‘ç”±ä¸¤éƒ¨åˆ†ç»„æˆ. ç¬¬ä¸€éƒ¨åˆ†æ˜¯ä¸€ç»„ç­–ç•¥ç±», ç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•, å¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹. ç¬¬äºŒéƒ¨åˆ†æ˜¯ç¯å¢ƒç±» Context, Context æ¥å—å®¢æˆ·çš„è¯·æ±‚, éšåæŠŠè¯·æ±‚å§”æ‰˜ç»™æŸä¸€ä¸ªç­–ç•¥ç±».è¿™æ˜¯é¢å‘ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„è¯´æ³•. åœ¨é¢å‘å¯¹è±¡æ€æƒ³ä¸­, é€šè¿‡å¯¹ç»„åˆ, å¤šæ€ç­‰æŠ€æœ¯çš„ä½¿ç”¨æ¥å®ç°ä¸€ä¸ªç­–ç•¥æ¨¡å¼. åœ¨ JavaScript ä¸­, å¯¹äºä¸€ä¸ªç®€å•çš„éœ€æ±‚æ¥è¯´, è¿™ä¹ˆåšå°±æœ‰ç‚¹å¤§æå°ç”¨äº†.æ‰€ä»¥, ä¸Šé¢çš„é‚£å¥è¯, æˆ‘ä»¬æ¢ç§è¯´æ³•å°±æ˜¯, ç­–ç•¥æ¨¡å¼éœ€è¦è‡³å°‘ä¸¤éƒ¨åˆ†, ä¸€éƒ¨åˆ†æ˜¯ä¿å­˜ç€ä¸€ç»„ç­–ç•¥. å¦ä¸€éƒ¨åˆ†åˆ™æ˜¯å¦‚ä½•åˆ†é…è¿™äº›ç­–ç•¥, å³å¦‚ä½•æŠŠè¯·æ±‚å§”æ‰˜ç»™æŸä¸ª/äº›ç­–ç•¥. å…¶å®è¿™ä¹Ÿæ˜¯ç­–ç•¥æ¨¡å¼çš„ç›®çš„, å°†ç®—æ³•çš„ä½¿ç”¨ä¸ç®—æ³•çš„å®ç°åˆ†ç¦».è¯„çº§å¿«åˆ°å¹´åº•äº†, å…¬å¸æ‰“ç®—åˆ¶å®šä¸€ä¸ªæ ‡å‡†ç”¨æ¥ç»™å‘˜å·¥è¯„çº§å‘ç¦åˆ©.è€ƒæ ¸é¡¹ç›®\ç­‰çº§ç”²ä¹™ä¸™A100&gt;a&gt;=9090&gt;a&gt;=8080&gt;a&gt;=70B100&gt;b&gt;=9090&gt;b&gt;=8080&gt;b&gt;=70ä»¥Aã€Bè€ƒæ ¸é¡¹ç›®æ¥è¯„å®šç”²ä¹™ä¸™ç­‰çº§.ç°æœ‰è€ƒæ ¸äººå‘˜:è€ƒæ ¸é¡¹ç›®\è€ƒæ ¸äººperson_1person_2person_3A809392B85709012345const persons = [ &#123;A: 80, B: 85&#125;, &#123;A: 93, B: 70&#125;, &#123;A: 92, B: 90&#125;]åœ¨ç­–ç•¥æ¨¡å¼ä¸­ä¸€éƒ¨åˆ†, æˆ‘ä»¬æåˆ°çš„åˆ†é…ç­–ç•¥. è¦æƒ³åˆ†é…ç­–ç•¥, é¦–å…ˆå°±è¦çŸ¥é“æ‰€æœ‰çš„ç­–ç•¥, åªæœ‰è¿™æ ·æˆ‘ä»¬æ‰èƒ½é’ˆå¯¹æ€§çš„å§”æ‰˜ç»™æŸä¸ª/äº›ç­–ç•¥. è¿™, ä¹Ÿæ˜¯ç­–ç•¥æ¨¡å¼çš„ä¸€ä¸ªç¼ºç‚¹.å¸¸è§„æ“ä½œç”²ä¹™ä¸™ç­‰çº§å¯¹ Aã€B çš„åˆ†å€¼è¦æ±‚æ˜¯ä¸ä¸€æ ·çš„. æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåš:1234567891011121314151617181920function rating(person) &#123; let a = person.A; let b = person.B; if (a &gt;= 90 &amp;&amp; b &gt;= 90) &#123; return 'ç”²'; &#125; else if (a &gt;= 80 &amp;&amp; b &gt;= 80) &#123; return 'ä¹™'; &#125; else if (a &gt;= 70 &amp;&amp; b &gt;= 70) &#123; return 'ä¸™' &#125; else &#123; console.log('å‡­å•¥çº§, è¿˜ä¸èµ¶ç´§å·é“ºèµ°äºº'); &#125;&#125;persons.forEach(person =&gt; &#123; person.rate = rating(person);&#125;)// &gt; persons// [ &#123; A: 80, B: 85, rate: 'ä¹™' &#125;,// &#123; A: 93, B: 70, rate: 'ä¸™' &#125;,// &#123; A: 92, B: 90, rate: 'ç”²' &#125; ]ç­–ç•¥æ¨¡å¼ä¸‹çš„è¯„çº§å¦‚æœæ¢æˆç­–ç•¥æ¨¡å¼, ç¬¬ä¸€éƒ¨åˆ†å°±æ˜¯ä¿å­˜ä¸€ç»„ç­–ç•¥. ç°åœ¨æˆ‘ä»¬ä»¥ç”²ä¹™ä¸™ä¸‰ç§å®šçº§æ ‡å‡†æ¥åˆ¶å®šä¸‰ç§ç­–ç•¥, ç”¨å¯¹è±¡æ¥å­˜è´®ç­–ç•¥. è€ƒè™‘åˆ°ä»¥åå¯èƒ½æœ‰ Dã€Eã€F ç­‰è€ƒæ ¸é¡¹ç›®çš„å­˜åœ¨, æˆ‘ä»¬ç¨å¾®æ”¹ä¸€ä¸‹:1234567891011121314151617181920const strategies = &#123; 'ç”²': (person, items) =&gt; &#123; const boolean = items.every(item =&gt; &#123; return person[item] &gt;= 90; &#125;); if (boolean) return 'ç”²'; &#125;, 'ä¹™': (person, items) =&gt; &#123; const boolean = items.every(item =&gt; &#123; return person[item] &gt;= 80; &#125;); if (boolean) return 'ä¹™'; &#125;, 'ä¸™': (person, items) =&gt; &#123; const boolean = items.every(item =&gt; &#123; return person[item] &gt;= 70; &#125;); if (boolean) return 'ä¸™'; &#125;&#125;ç­–ç•¥å°±åˆ¶å®šå¥½äº†. å¯¹è±¡çš„é”®å¯¹åº”ç€ç­–ç•¥çš„åç§°, å¯¹è±¡çš„å€¼å¯¹åº”ç€ç­–ç•¥çš„å®ç°. ç„¶è€Œ, æˆ‘ä»¬å‘ç°, ä»»ä½•ä¸€ä¸ªç­–ç•¥éƒ½ä¸èƒ½å•ç‹¬å®Œæˆç­‰çº§çš„è¯„å®š. å¯æ˜¯, æˆ‘ä»¬æœ‰è¯´ä¸€ç»„ç­–ç•¥åªèƒ½é€‰æ‹©å…¶ä¸­ä¸€ä¸ªä¹ˆ? ä¸ºäº†è¾¾æˆæŸä¸ªç›®çš„, ç­–ç•¥ç»„å°è£…äº†ä¸€ç»„ç›¸äº’ç‹¬ç«‹å¹³ç­‰æ›¿æ¢çš„ç­–ç•¥. ä¸€ä¸ªç­–ç•¥ä¸è¡Œ, é‚£å°±ç»„åˆå‘—. è¿™ä¹Ÿæ˜¯ç­–ç•¥æ¨¡å¼å¦ä¸€éƒ¨åˆ†å­˜åœ¨çš„æ„ä¹‰, å³å¦‚ä½•åˆ†é…ç­–ç•¥.123456789101112function rating(person, items) &#123; return strategies['ç”²'](person, items) || strategies['ä¹™'](person, items) || strategies['ä¸™'](person, items)&#125;persons.forEach(person =&gt; &#123; person.rate = rating(person, ['A', 'B'])&#125;)// &gt; persons// [ &#123; A: 80, B: 85, rate: 'ä¹™' &#125;,// &#123; A: 93, B: 70, rate: 'ä¸™' &#125;,// &#123; A: 92, B: 90, rate: 'ç”²' &#125; ]é€»è¾‘çš„è½¬ç§»æ‰€æœ‰çš„è®¾è®¡æ¨¡å¼éƒ½éµå¾ªä¸€æ¡åŸåˆ™. å³ â€œæ‰¾å‡ºç¨‹åºä¸­å˜åŒ–çš„åœ°æ–¹, å¹¶å°†å˜åŒ–å°è£…èµ·æ¥â€.å°†ä¸å˜çš„éš”ç¦»å¼€æ¥, å˜åŒ–çš„å°è£…èµ·æ¥. ç­–ç•¥æ¨¡å¼ä¸­, ç­–ç•¥ç»„å¯¹åº”ç€ç¨‹åºä¸­ä¸å˜çš„åœ°æ–¹. å°†ç­–ç•¥ç»„åˆ¶å®šå¥½å­˜è´®èµ·æ¥, ç„¶åæƒ³ç€å¦‚ä½•å»åˆ†é…ä½¿ç”¨ç­–ç•¥.å½“ç„¶, å¦‚ä½•åˆ¶å®šç­–ç•¥å’Œå¦‚ä½•åˆ†é…ç­–ç•¥ä¹‹é—´çš„å…³ç³»ååˆ†ç´§å¯†, å¯ä»¥è¯´ä¸¤è€…ç›¸äº’å½±å“.å†æ¬¡çœ‹çœ‹åˆ¶å®šçš„ç­–ç•¥, â€œæ‰¾å‡ºç¨‹åºä¸­å˜åŒ–çš„åœ°æ–¹, å¹¶å°†å˜åŒ–å°è£…èµ·æ¥â€, æˆ‘ä»¬å¯ä»¥å†æ¬¡æ”¹é€ ä¸€ä¸‹.1234567891011121314151617181920212223242526const strategies = &#123;'ç”²': 90,'ä¹™': 80,'ä¸™': 70,&#125;function rating(person, items)&#123; const level = value =&gt; &#123; return (person, items) =&gt; &#123; const boolean = items.every(item =&gt; &#123; return person[item] &gt;= strategies[value]; &#125;); if (boolean) return value; &#125; &#125; return level('ç”²')(person, items) || level('ä¹™')(person, items) || level('ä¸™')(person, items)&#125;persons.forEach(person =&gt; &#123; person.rate = rating(person, ['A', 'B'])&#125;)// &gt; persons// [ &#123; A: 80, B: 85, rate: 'ä¹™' &#125;,// &#123; A: 93, B: 70, rate: 'ä¸™' &#125;,// &#123; A: 92, B: 90, rate: 'ç”²' &#125; ]åœ¨ä¸Šé¢çš„è¿™ç§åšæ³•ä¸­, æˆ‘ä»¬æŠŠåˆ¶å®šç­–ç•¥çš„é€»è¾‘æŒªåˆ°äº†åˆ†é…ç­–ç•¥é‡Œäº†. æ‰€ä»¥è¯´, å¦‚ä½•åˆ¶å®šç­–ç•¥å’Œå¦‚ä½•åˆ†é…ç­–ç•¥, ä¾æƒ…å†µè€Œå®š.ä¸è¿‡å›å¤´åœ¨çœ‹ä¸€çœ‹è¿™æ®µä»£ç , æ˜¯ä¸æ˜¯å’Œå¹³æ—¶ç”¨å¯¹è±¡æ˜ å°„çš„åšæ³•å¾ˆç›¸ä¼¼.å½“ç„¶, ç­–ç•¥æ¨¡å¼çš„ç”¨æ³•è¿˜æœ‰å¾ˆå¤š, æœ€å¸¸è§çš„æ˜¯è§„åˆ™æ ¡éªŒ.å°ç»“æ€»ç»“ä¸€ä¸‹:ç­–ç•¥æ¨¡å¼è‡³å°‘åŒ…æ‹¬ä¸¤éƒ¨åˆ†, åˆ¶å®šç­–ç•¥å’Œåˆ†é…ç­–ç•¥.ç­–ç•¥æ¨¡å¼çš„ç›®çš„åœ¨äº, å°†ç­–ç•¥åˆ¶å®šå’Œç­–ç•¥åˆ†é…éš”ç¦»å¼€æ¥.ç­–ç•¥åˆ¶å®šå’Œç­–ç•¥åˆ†é…å…³ç³»å¯†åˆ‡, ç›¸äº’å½±å“.]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>ç­–ç•¥æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆå§‹åŒ–ç©ºå¯¹è±¡æ•°ç»„]]></title>
    <url>%2F%E5%88%9D%E5%A7%8B%E5%8C%96%E7%A9%BA%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84%2F</url>
    <content type="text"><![CDATA[åˆå§‹åŒ–ç©ºå¯¹è±¡æ•°ç»„åœ¨ç»™å¯¹è±¡è®¾ç½®å±æ€§æ—¶, å¦‚æœå¯¹è±¡ä¸å­˜åœ¨å¾ˆå®¹æ˜“æŠ¥é”™.æœ‰äº›åœºæ™¯, åœ¨å¯¹å¯¹è±¡æ•°ç»„å¤„ç†æ—¶, è®¾ç½®å¯¹è±¡å±æ€§å‰åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨. ä¸å…¶è¿™æ ·, è¿˜ä¸å¦‚ç›´æ¥åˆå§‹åŒ–ä¸ºç©ºå¯¹è±¡æ•°ç»„.9ä¸ªè€ƒç”Ÿå°±æ¥äº†6ä¸ªè€ƒè¯•æ—¶, æ¯ä¸ªè€ƒç”Ÿéƒ½æœ‰è‡ªå·±ä½ç½®. è€ƒç”Ÿå¯¹ç…§ç€å¯ä»¥å¾ˆå®¹æ˜“åœ¨è€ƒåœºé‡Œæ‰¾åˆ°è‡ªå·±çš„åº§ä½. ç§‰ç€å…¬å¹³ã€å…¬æ­£ã€å…¬å¼€çš„åŸåˆ™, è€ƒç”Ÿè¢«ç¨€ç–åœ°æ•£å¸ƒåœ¨è€ƒåœºçš„å„ä¸ªè§’è½. å‡è®¾è€ƒåœº 3*3 æ’åˆ—, è€ƒç”Ÿçš„ä¿¡æ¯:123456[&#123;"row":1,"col":1,"name":"Ada"&#125;, &#123;"row":3,"col":3,"name":"Aaron"&#125;, &#123;"row":1,"col":2,"name":"Aditi"&#125;, &#123;"row":3,"col":2,"name":"Aditi"&#125;, &#123;"row":1,"col":3,"name":"Aditi"&#125;, &#123;"row":3,"col":1,"name":"Abbott"&#125;]å°†è€ƒåœºä½ç½®åšæˆä¸€ä¸ªè¡¨æ ¼, å¯¹è€ƒç”Ÿä½ç½®æŒ‰æ’ç»Ÿè®¡, æ¥æ ‡æ³¨è€ƒç”Ÿå‡ºå‹¤æƒ…å†µ.123[&#123;"row":1,"col_1":"Ada","col_2":"Aditi","col_3":"Aditi"&#125;, &#123;&#125;, &#123;"row":3,"col_3":"Aaron","col_2":"Aditi","col_1":"Abbott"&#125;](ä¸ºå˜›æ²¡æœ‰ç¬¬äºŒæ’? è‡ªçŸ¥è€ƒä¸è¿‡, ç¼ºè€ƒäº†å‘—ğŸ™)å¼€å‘ä¸­, å¯¹åŸå§‹æ•°æ®è¿›è¡Œå¤„ç†æ˜¯ä¸€ä»¶å¾ˆå¹³å¸¸çš„äº‹. so, è¿™ä¸ªæ•°æ®çš„å¤„ç†åº”è¯¥å¾ˆç®€å•â€¦å§ğŸ˜…Array(3).fill({}) è¯•ä¸€æ³¢å¦‚ä½•åˆå§‹åŒ–ç©ºå¯¹è±¡æ•°ç»„?åŸå§‹æ•°æ®æ˜¯ä»¥å­¦ç”Ÿä¸ªä½“çš„ä¿¡æ¯å­˜å‚¨å±•ç¤ºçš„, ç°åœ¨åˆ™æŒ‰æ’ä¸ºå•ä½å¯¹æ•°æ®è¿›è¡Œå¤„ç†. ç†æ‰€å½“ç„¶çš„ä¼šæƒ³åˆ°å…ˆåˆå§‹åŒ–ä¸‰ä¸ªç©ºå¯¹è±¡æ•°ç»„.123let studentRow = Array(3).fill(&#123;&#125;)// &gt; studentRow// [ &#123;&#125;, &#123;&#125;, &#123;&#125; ]åŠ¨ä½œå¾ˆå¿«å§¿åŠ¿å¾ˆå¸…. ä¸è¿‡, è¿™æ ·çœŸçš„å¯ä»¥ä¹ˆ? é•¿å¾—å€’æ˜¯åƒé‚£ä¹ˆä¸€å›äº‹, å¯å®é™…ä¸Šå®Œå…¨è¡Œä¸é€š. Array.prototype.fill() çš„ç”¨æ³•æ˜¯, æŒ‡å®šæŸä¸ªå€¼æ¥å¡«å……æ•°ç»„.ä¹Ÿå°±æ˜¯è¯´, {} åœ¨ studentRow é‡Œå¤åˆ¶äº†ä¸‰æ¬¡. å¦‚æœæ˜¯ç®€å•ç±»å‹å€¼å€’ä¹Ÿç½¢äº†, ä½†æ˜¯æ¢åšå¤æ‚ç±»å‹å€¼, ä¿®æ”¹æ¯ä¸€ä¸ª {} , éƒ½ä¼šå½±å“å…¶å®ƒçš„ {}. å› ä¸ºå®ƒä»¬éƒ½æ˜¯å¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨.1234567891011121314151617let studentRow = Array(3).fill(&#123;&#125;);studentRow[0].name = 'tony';// &gt; studentRow// [ &#123; name: 'tony' &#125;,// &#123; name: 'tony' &#125;,// &#123; name: 'tony' &#125; ]// ç­‰åŒäºlet obj = &#123;&#125;;let studentRow = Array(3).fill(obj);// &gt; studentRow// &#123;obj, obj, obj&#125;studentRow[0].name = 'tony';// &gt; studentRow// [ &#123; name: 'tony' &#125;,// &#123; name: 'tony' &#125;,// &#123; name: 'tony' &#125; ]çŸ¥è¯†ç‚¹:å°†ä¸€ä¸ªå€¼èµ‹äºˆå˜é‡æ—¶, è§£æå™¨å¿…é¡»ç¡®å®šè¿™ä¸ªå€¼æ˜¯åŸºæœ¬ç±»å‹å€¼è¿˜æ˜¯å¤æ‚ç±»å‹å€¼.å½“æ˜¯å¤æ‚ç±»å‹å€¼æ—¶, å˜é‡é‡Œä¿å­˜çš„æ˜¯è¯¥å¤æ‚ç±»å‹å€¼åœ¨å †ä¸­çš„ä¸€ä¸ªæŒ‡é’ˆ. å¤åˆ¶çš„æ˜¯å˜é‡çš„æŒ‡é’ˆ, æ“ä½œçš„å´æ˜¯å®é™…çš„å¯¹è±¡.Array(3) å’Œ map(() =&gt; {}) ç»“åˆæœ‰é—®é¢˜Array(3).fill({}) è¡Œä¸é€š. é‚£ä¹ˆ, Array(3).map(() =&gt; {})?å¦‚æœè¯´ Array(3).fill({}) ä¸å¯è¡Œ, æ˜¯å› ä¸ºä¸‰ä¸ªç©ºå¯¹è±¡æ˜¯å¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨. é‚£ä¹ˆæˆ‘ä»¬å°±è®¾æ³•è¿”å›ä¸‰ä¸ªä¸åŒçš„ç©ºå¯¹è±¡.123let studentRow = Array(3).map(() =&gt; &#123;&#125;);// &gt; studentRow// [ &lt;3 empty items&gt; ]ç»“æœå¾ˆå¤±æœ›, è¿™ä¸ªè¡¨è¾¾å¼å°±å¹²äº†ä¸¤ä»¶äº‹, Array(3) å’Œ map(() =&gt; {}). æ‰€ä»¥é—®é¢˜å¾ˆå¥½æ’æŸ¥.123let arr = Array(3);// &gt; arr// [ &lt;3 empty items&gt; ]å¯¹äºæ•°ç»„ä¸­å¹¶ä¸å­˜åœ¨çš„å•å…ƒ, map() ä¹Ÿæ˜¯æŸæ‰‹æ— ç­–.æˆ‘è¯´: è‚šé‡Œè¦æœ‰è´§ğŸ™è‚šé‡Œæ²¡è´§, æˆ‘ä»¬å°±é€ ä¸€äº›. Array.prototype.fill() åˆæœ‰å‡ºå¤´ä¹‹æ—¥äº†.123let studentRow = Array(3).fill(undefined);// &gt; studentRow// [ undefined, undefined, undefined ]è­¦å‘Š:å¦‚è‹¥ä¸€ä¸ªæ•°ç»„æ²¡æœ‰ä»»ä½•å•å…ƒ, ä½†å®ƒçš„ length å±æ€§ä¸­å´æ˜¾ç¤ºæœ‰å•å…ƒæ•°é‡, è¿™æ ·å¥‡ç‰¹çš„æ•°æ®ç»“æ„ä¼šå¯¼è‡´ä¸€äº›æ€ªå¼‚çš„è¡Œä¸º. æˆ‘ä»¬å°†åŒ…å«è‡³å°‘ä¸€ä¸ª â€œç©ºå•å…ƒâ€ çš„æ•°ç»„ç§°ä¹‹ä¸º â€œç¨€ç–æ•°ç»„â€. undefined å•å…ƒé â€œç©ºå•å…ƒâ€.æ°¸è¿œä¸è¦åˆ›å»ºå’Œä½¿ç”¨ç©ºå•å…ƒæ•°ç»„.ç®­å¤´å‡½æ•°ä¸­çš„ returnä½ ä»¥ä¸º Array(3).fill(undefined).map(() =&gt; {}) å°±å®Œäº‹äº†? å›¾æ ·å›¾æ£®ç ´ ğŸ‘¼123let studentRow = Array(3).fill(undefined).map(() =&gt; &#123;&#125;);// &gt; studentRow// [ undefined, undefined, undefined ]å“¦, æˆ‘çŸ¥é“äº†, ä½ æ²¡æœ‰ return å•Šé¢, è¿™å’Œ return æ²¡æœ‰å…³ç³». ä¸ä¿¡ä½ å¯ä»¥åŠ ä¸€ä¸ªè¯•è¯•ğŸ˜å…¶å®, {} åœ¨è¿™é‡Œè¢«è§†ä½œè¯­æ³•å—äº†, æ²¡æœ‰ä»»ä½•æ„ä¹‰. å¯æ¨å°±å¯æ¨åœ¨, å®ƒå’Œç©ºå¯¹è±¡é•¿å¾—ä¸€æ‘¸ä¸€æ ·.æ—¢ç„¶è¿™æ ·, é‚£æˆ‘ä»¬å°±ä¸ç”¨å­—é¢é‡å®šä¹‰ä¸€ä¸ªç©ºå¯¹è±¡äº†.1234let studentRow = Array(3).fill(undefined).map(() =&gt; Object.create(null));studentRow[0].name = 'tony';// &gt; studentRow// [ &#123; name: 'tony' &#125;, &#123;&#125;, &#123;&#125; ]è¿™æ ·å°±è¾¾åˆ°åˆå§‹åŒ–å¯¹è±¡æ•°ç»„çš„ç›®çš„äº†. å¯æ˜¯, Array(3).fill(undefined).map(() =&gt; {}) ä¸ºä»€ä¹ˆè¡Œä¸é€š, å¦‚ä½•è¡¥æ•‘?è§„é¿é—®é¢˜åœ¨æŸç§æ„ä¹‰ä¸Šä¸ç­‰äºè§£å†³é—®é¢˜.{...} é‡Œé¢çš„ä»£ç ä¼šè¢«è§£æä¸ºä¸€ç³»åˆ—è¯­å¥. {} ä¹Ÿå› æ­¤ä¸èƒ½è¾¾åˆ°æˆ‘ä»¬é¢„æœŸçš„ç»“æœ. æ‰€ä»¥, æˆ‘ä»¬å¯ä»¥ç”¨ (...) å°† {} åŒ…è£…æˆè¡¨è¾¾å¼, å³ ({}).1234let studentRow = Array(3).fill(undefined).map(() =&gt; (&#123;&#125;));studentRow[0].name = 'tony';// &gt; studentRow// [ &#123; name: 'tony' &#125;, &#123;&#125;, &#123;&#125; ]çŸ¥è¯†ç‚¹:è‹¥å‡½æ•°ä½“çš„è¡¨è¾¾å¼ä¸ªæ•°å¤šäºä¸€ä¸ª, æˆ–è€…å‡½æ•°é¢˜åŒ…å«éè¡¨è¾¾å¼è¯­å¥çš„æ—¶å€™æ‰éœ€è¦ç”¨ {...} åŒ…è£¹.å¦‚æœåªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼, å¹¶ä¸”çœç•¥äº† {...} çš„è¯, åˆ™é™„åŠ ä¸€ä¸ªéšå¼ return. è‹¥åœ¨å—ä½“å†…éœ€è¦æŒ‡å®šè¿”å›å€¼, åˆ™éœ€è¦æ˜ç¡®çš„ return.ç®­å¤´å‡½æ•°æä¾›äº†ç®€ç»ƒçš„è¯­æ³•, ä½†ä¸æ˜¯æ™®é€šå‡½æ•°çš„æ›¿ä»£å“. ç®­å¤´å‡½æ•°çš„ä¸»è¦è®¾è®¡ç›®çš„æ˜¯æ”¹å˜ this çš„è¡Œä¸º. æ™®é€šå‡½æ•°å†…çš„ this æ˜¯åŠ¨æ€ç»‘å®š, this æŒ‡å‘è°å–å†³äºè°ƒç”¨è€…. è€Œç®­å¤´å‡½æ•°é‡Œçš„ this æ˜¯åŸºäºä½œç”¨åŸŸçš„, æ˜¯å¯é¢„æµ‹çš„.(å¯å‚è€ƒä»æ¸¸æˆè§’åº¦è¯´ä½œç”¨åŸŸ).ä»¤äººç»æœ›çš„Array.prototype.fill()ä½ ä»¥ä¸ºç»“æŸäº†, å…¶å®æ‰åˆšåˆšå¼€å§‹è¿™æ˜¯çœŸæ­£çš„å¼€å§‹, æ²¡çœ‹é”™, æ˜¯çš„, æˆ‘ä»¬ä¹‹å‰æ‰€åšçš„å¯èƒ½éƒ½æ˜¯æ— ç”¨åŠŸ.æ˜¯çš„, IE æ˜¯é­”é¬¼. è´¹å°½äº†å‘¨æŠ˜, æ‰å‘ç°ä¸€åˆ‡éƒ½æ˜¯å¾’åŠ³.éš¾é“å°±è¿™ä¹ˆæ”¾å¼ƒäº†?â€˜æ”¾å¼ƒâ€™èƒ½åƒä¹ˆ? èƒ½åƒå°±åƒäº†å®ƒ, å•¥? ä¸èƒ½åƒ?!? æå®ƒä½œç”š!!!Array.prototype.fill() æ–¹ä¾¿ä¹‹å¤„å°±æ˜¯èƒ½å¤Ÿç®€ä¾¿å¡«å……æ•°ç»„. æ­¤æ³•ä¸è¡Œ, å¦å¯»ä»–æ³•.Function.prototype.apply() äº†è§£ä¸€ä¸‹Function.prototype.apply() å…¥å‚æœ‰ä¸¤ä¸ª. ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ å‡½æ•°æ–¹æ³• çš„è°ƒç”¨è€…, ç¬¬äºŒä¸ªå‚æ•°æ˜¯ å‡½æ•°æ–¹æ³• çš„å…¥å‚(è¦åŒºåˆ†å…¥å‚å’Œå…¥å‚çš„ä¸åŒ). å‡½æ•°æ–¹æ³• çš„å…¥å‚å¯ä»¥æ˜¯æ•°ç»„ä¹Ÿå¯ä»¥æ˜¯ç±»æ•°ç»„. æˆ‘ä»¬çš„ç›®çš„å°±æ˜¯å¡«å……æ•°ç»„, æ‰€ä»¥æˆ‘ä»¬è¦åœ¨ç±»æ•°ç»„ä¸Šåšæ–‡ç« . å°±æ‹¿ console.log åšä¾‹å­ğŸŒ°. (ç›´æ¥å¤åˆ¶æˆ‘ä¹‹å‰çš„åšå®¢å†…å®¹ğŸ˜Œ).1234567891011121314151617function log_1(arg) &#123;console.log(arg)&#125;log_1(1);log_1(1,2,3);// 1// 1// æ”¹é€ ä¸‹function log_2() &#123; const log = console.log; log.apply(null, arguments)&#125;log_2(1);log_2(1, 2, 3)// 1// 1 2 3è¿™æ˜¯ Function.prototype.apply() ä½¿ç”¨çš„æ–¹æ³•. å¦‚æœæˆ‘ä»¬æŠŠ log_2 é‡Œçš„ arguments æ¢æˆ {length: 3},123456function log_2() &#123; const log = console.log; log.apply(null, &#123;length: 3&#125;)&#125;log_2()// undefined undefined undefined{length: 3} å’Œ [undefined, undefined, undefined] åœ¨ä¼ å…¥ apply(null;...) å, åœ¨å‚æ•°çš„å¤„ç†ä¸Š, æœ€åçš„ç»“æœæ˜¯ä¸€æ ·çš„.é‚£ä¹ˆ, Array(3).fill(undefined).map(() =&gt; ({})) å¯æ”¹é€ æˆ,1234let studentRow = Array.apply(null, &#123;length: 3&#125;).map(() =&gt; (&#123;&#125;));studentRow[0].name = 'tony';// &gt; studentRow// [ &#123; name: 'tony' &#125;, &#123;&#125;, &#123;&#125; ]åœ¨è¿™é‡Œ Array ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨, ä»¥ä¸Šç­‰åŒäº123let studentRow = Array(undefined, undefined, undefined);// &gt; studentRow// [ undefined, undefined, undefined ]æ”¶å°¾åªæ˜¯åˆå§‹åŒ–ä¸€ä¸ªç©ºå¯¹è±¡æ•°ç»„, ç»“æœæ•´å‡ºè¿™ä¹ˆå¤šå¹ºè›¾å­.å¤„ç†æ•°æ®å…¶å®å°±é‚£ä¹ˆå‡ è¡Œä»£ç . å¤§è‡´é•¿è¿™æ¨¡æ ·,12345678function handleData(params) &#123; const studentRow = Array.apply(null, &#123;length: 3&#125;).map(() =&gt; (&#123;&#125;)); params.forEach(item =&gt; &#123; studentRow[item.row-1][`row`] = item.row; studentRow[item.row-1][`col_$&#123;item.col&#125;`] = item.name; &#125;) return studentRow;&#125;]]></content>
      <categories>
        <category>å¤©å‘ä¹Ÿå¡«å‘</category>
      </categories>
      <tags>
        <tag>ç©ºå¯¹è±¡æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»æ¸¸æˆè§’åº¦è¯´ä½œç”¨åŸŸ]]></title>
    <url>%2F%E4%BB%8E%E6%B8%B8%E6%88%8F%E8%A7%92%E5%BA%A6%E8%AF%B4%E4%BD%9C%E7%94%A8%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[ä½œç”¨åŸŸä½œç”¨åŸŸæ˜¯ JavaScript é‡Œçš„ä¸€ä¸ªéå¸¸é‡è¦å’ŒåŸºç¡€çš„æ¦‚å¿µ. å¾ˆå¤šäººè®¤ä¸ºè‡ªå·±ç†è§£äº†ä½œç”¨åŸŸ, ä½†æ˜¯åœ¨é‡åˆ°é—­åŒ…æ—¶å´è¯´ä¸å‡ºä¸ªæ‰€ä»¥ç„¶, ç”šè‡³ä¸èƒ½è¯†åˆ«å‡ºæ¥.é—­åŒ…ä¹Ÿæ˜¯ä¸ªéå¸¸é‡è¦, ä¸”ç»å¸¸è¢«è¯¯è§£çš„æ¦‚å¿µ. ç„¶è€Œé—­åŒ…å°±æ˜¯åŸºäºä½œç”¨åŸŸä¹¦å†™ä»£ç æ—¶æ‰€äº§ç”Ÿçš„è‡ªç„¶ç»“æœ. å€˜è‹¥æŠ›å¼€ä½œç”¨åŸŸè®²é—­åŒ…, é‚£éƒ½æ˜¯è€æµæ°“. é—­åŒ…å¯ä»¥è¯´åœ¨å¹³æ—¶çš„ä»£ç é‡Œéšå¤„å¯è§, ä½†çœŸæ­£è®©é—­åŒ…å‘æŒ¥ç§¯æä½œç”¨çš„åšæ³•æ˜¯éš”ç¦»ä½œç”¨åŸŸã€æ¨¡å—å‡½æ•°ç­‰.ä½œç”¨åŸŸæœºåˆ¶æ˜¯ä¸èƒ½ç›´æ¥æŸ¥çœ‹çš„, æˆ‘ä»¬é¦–å…ˆæ¨¡æ‹Ÿä¸€ä¸ªåœºæ™¯æ¥å°½å¯èƒ½çš„è¯´æ˜ä½œç”¨åŸŸè¿™å¥—è§„åˆ™, ç„¶åé€šè¿‡ä»£ç ç‰‡æ®µå’Œå¼€å‘è€…å·¥å…·è¿›è¡ŒéªŒè¯.æ¸¸æˆå­˜æ¡£æƒ³å¿…å¤§å®¶éƒ½æœ‰ç©è¿‡æ¸¸æˆçš„ç»éªŒ. åˆšå¼€å§‹çš„æ—¶å€™, ä¹Ÿå°±æ˜¯ç¬¬ä¸€å…³, éš¾åº¦æ¯”è¾ƒç®€å•. åˆ°äº†ç¬¬äºŒå…³çš„æ—¶å€™, å°±åœ¨ç¬¬ä¸€å…³çš„åŸºç¡€ä¸ŠåŠ äº›éš¾ç¼ çš„è§’è‰², éš¾åº¦ç›¸åº”åœ°åŠ å¤§äº†. å…³å¡è¶Šæ˜¯å¾€å, éš¾ç¼ çš„è§’è‰²ä¹Ÿå°±ä¼šè¶Šæ¥è¶Šå¤š.å¯åœ¨æ¸¸æˆçš„æ—¶å€™, ç”±äºå„ç§åŸå› , å¾€å¾€æˆ‘ä»¬ä¸å¯èƒ½ä¸€ä¸‹å­é€šè¿‡æ‰€æœ‰çš„å…³å¡, æ‰€ä»¥æ¸¸æˆæä¾›äº†å­˜æ¡£çš„åŠŸèƒ½. ä¸‹æ¬¡å†ç©çš„æ—¶å€™å¯ä»¥ä»å­˜æ¡£é‡Œç»­ä¸Š. å¦‚æœä¸æƒ³è¿™æ ·, å®Œå…¨å¯ä»¥ä»å¤´ç©èµ·.ä¸ºä»€ä¹ˆæˆ‘ä»¬èƒ½ä»å­˜æ¡£é‡Œç›´æ¥è·³åˆ°ä¸Šæ¬¡çš„å…³å¡, å¾ˆæ˜¾ç„¶, è¿™é‡Œæ˜¯æœ‰è®°å½•å­˜å‚¨çš„. æ¯”å¦‚ç¬¬ä¸€å…³æœ‰ä¸ªåœºæ™¯é£ŸäººèŠ±å’Œæµ·ç‹, ç¬¬äºŒå…³åˆå¤šäº†ä¸ªé‚ªæ¶äººç­‰ç­‰. æ¯ä¸ªå…³å¡éƒ½ä¼šè®°å½•è¯¥å…³å¡æ–°å¢çš„è§’è‰²æˆ–åœºæ™¯åŒæ—¶ä¹Ÿä¼šå­˜å‚¨ä¹‹å‰å…³å¡çš„è®°å½•. è¿™æ ·å°±ä¿è¯äº†ä¸åŒçš„å­˜æ¡£çš„ç‹¬ç«‹æ€§, æ— è®ºåœ¨å“ªä¸ªå…³å¡å­˜æ¡£, ä¸‹æ¬¡ä¹Ÿå®šä¼šç»­ä¸Šä¹‹å‰çš„åœ°æ–¹. å½“ç„¶äº†, æˆ‘ä»¬ä¹Ÿå¯ä»¥å›åˆ°ä¸Šä¸€ä¸ªå…³å¡.(æµ·ç‹ä¹‹é›„é£&amp;æ•Œäººä¹‹é‚ªæ¶)å‡ ä¸ªçŸ¥è¯†ç‚¹ç»“åˆä¸Šé¢çš„åœºæ™¯, æˆ‘ä»¬å†å›å¤´çœ‹çœ‹ä»¥ä¸‹å‡ ä¸ªçŸ¥è¯†ç‚¹.æ ‡è¯†ç¬¦: å˜é‡ã€å‡½æ•°ã€å±æ€§çš„åå­—, æˆ–è€…å‡½æ•°çš„å‚æ•°.æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒ. å½“æ‰§è¡Œæµè¿›å…¥ä¸€ä¸ªå‡½æ•°æ—¶, å‡½æ•°çš„ç¯å¢ƒå°±ä¼šè¢«æ¨å…¥ä¸€ä¸ªç¯å¢ƒæ ˆä¸­. è€Œåœ¨å‡½æ•°æ‰§è¡Œå, æ ˆå°†å…¶ç¯å¢ƒå¼¹å‡º, æŠŠæ§åˆ¶æƒè¿”å›ä¹‹å‰çš„æ‰§è¡Œç¯å¢ƒ.æ‰§è¡Œç¯å¢ƒå®šä¹‰äº†å˜é‡æˆ–å‡½æ•°æœ‰æƒè®¿é—®çš„å…¶å®ƒæ•°æ®. æ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡, ç¯å¢ƒä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­. æŸä¸ªæ‰§è¡Œç¯å¢ƒä¸­çš„æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•å, è¯¥ç¯å¢ƒè¢«é”€æ¯, ä¿å­˜åœ¨å…¶ä¸­çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å®šä¹‰ä¹Ÿéšä¹‹é”€æ¯.å½“ä»£ç åœ¨ä¸€ä¸ªç¯å¢ƒä¸­æ‰§è¡Œæ—¶, ä¼šåˆ›å»ºå˜é‡å¯¹è±¡çš„ä¸€ä¸ªä½œç”¨åŸŸé“¾.ä½œç”¨åŸŸé“¾æ˜¯ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®. ä½œç”¨åŸŸçš„å‰ç«¯å§‹ç»ˆéƒ½æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç æ‰€åœ¨çš„å˜é‡å¯¹è±¡. å¦‚æœè¿™ä¸ªç¯å¢ƒæ˜¯å‡½æ•°, åˆ™å°†å…¶æ´»åŠ¨å¯¹è±¡ä½œä¸ºå˜é‡å¯¹è±¡. æ´»åŠ¨å¯¹è±¡åœ¨æœ€å¼€å§‹åªåŒ…å«ä¸€ä¸ªå˜é‡, å³ arguments å¯¹è±¡. ä½œç”¨åŸŸé“¾ä¸­çš„ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡æ¥è‡ªåŒ…å«(å¤–éƒ¨)ç¯å¢ƒ. å…¨å±€æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆéƒ½æ˜¯ä½œç”¨åŸŸé“¾çš„æœ€åä¸€ä¸ªå¯¹è±¡.å½“æŸä¸ªç¯å¢ƒä¸­ä¸ºäº†è¯»å–æˆ–å†™å…¥è€Œå¼•å…¥ä¸€ä¸ªæ ‡è¯†ç¬¦æ—¶, å¿…é¡»é€šè¿‡æœç´¢æ¥ç¡®å®šè¯¥æ ‡è¯†ç¬¦æ¥ç¡®å®šè¯¥æ ‡è¯†ç¬¦å®é™…ä»£è¡¨ä»€ä¹ˆ. æœç´¢è¿‡ç¨‹ä»ä½œç”¨åŸŸé“¾çš„å‰ç«¯å¼€å§‹, å‘ä¸Šé€çº§æŸ¥è¯¢ä¸ç»™å®šåå­—åŒ¹é…çš„æ ‡è¯†ç¬¦. å¦‚æœåœ¨å±€éƒ¨ç¯å¢ƒä¸­æ‰¾åˆ°äº†è¯¥æ ‡è¯†ç¬¦, æœç´¢è¿‡ç¨‹åœæ­¢, å˜é‡å°±ç»ª. å¦‚æœåœ¨å±€éƒ¨ç¯å¢ƒä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥å˜é‡å, åˆ™ç»§ç»­æ²¿ä½œç”¨åŸŸé“¾å‘ä¸Šæœç´¢. æœç´¢è¿‡ç¨‹å°†ä¸€ç›´è¿½æº¯åˆ°å…¨å±€ç¯å¢ƒçš„å˜é‡å¯¹è±¡. å¦‚æœåœ¨å…¨å±€ç¯å¢ƒä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ ‡è¯†ç¬¦, åˆ™æ„å‘³ç€è¯¥å˜é‡å°šæœªå£°æ˜.ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šæ—¶ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨, å®ƒåªå¼•ç”¨ä½†å®é™…ä¸åŒ…å«å˜é‡å¯¹è±¡.å¦‚æœæˆ‘ä»¬æŠŠä»¥ä¸Šçš„å‡ ä¸ªçŸ¥è¯†ç‚¹ä¸²èµ·æ¥, è¿™å°±æ˜¯æ‰€è°“çš„ä½œç”¨åŸŸé“¾è§„åˆ™äº†. ä¸Šå›¾è§£é‡Šä¸€æ³¢.(arguments åº”è¯¥åŠ åˆ°å˜é‡å¯¹è±¡é‡Œçš„, å›¾ä¸­æ²¡ä½“ç°, ç–å¿½)ç°åœ¨æˆ‘ä»¬ä»æœ€åä¸¤è¡Œè¯´èµ·,12var outer = outerFn(10);var inner = outer(10);æ‰§è¡Œ outer = outerFn(10) å, outer æ‹¥æœ‰äº†è¿”å›å‡½æ•°çš„å¼•ç”¨. outer(10) åœ¨æ‰§è¡Œçš„æ—¶å€™å®ƒä¼šåˆ›å»º å±äºå®ƒè‡ªå·± çš„ä½œç”¨åŸŸé“¾, è¿™é‡ŒåŒ…å«å‡½æ•°æ‰€å¤„å¤–éƒ¨ç¯å¢ƒçš„å˜é‡å¯¹è±¡.åœ¨è¯»å– initial å˜é‡æ—¶, åœ¨ Inner å˜é‡å¯¹è±¡ä¸­æ²¡æœ‰æ£€ç´¢åˆ°, å®ƒä¼šæ²¿ç€ä½œç”¨åŸŸé“¾å‘ä¸Šæœç´¢, åœ¨ outer å˜é‡å¯¹è±¡é‡Œæ‰¾åˆ°äº†è¯¥æ ‡è¯†ç¬¦, æœç´¢è¿‡ç¨‹åœæ­¢, å˜é‡å°±ç»ª.å‡½æ•°åœ¨å®šä¹‰çš„æ—¶å€™å°±å·²ç»å†³å®šäº†ä¹‹åæ‰§è¡Œæ—¶, ä½œç”¨åŸŸé‡Œå°†åŒ…å«ä»€ä¹ˆ. è¿™ä¹Ÿè§£é‡Šäº†, å³ä½¿æˆ‘ä»¬æŠŠå®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å‡½æ•°æ‰”åœ¨å¤–è¾¹æ‰§è¡Œä¹Ÿèƒ½è®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡. è¿™å’Œå†…éƒ¨å‡½æ•°åœ¨å“ªæ‰§è¡Œæ²¡æœ‰åŠæ¯›é’±å…³ç³».ä¸ºä»€ä¹ˆå¼ºè°ƒ å±äºå®ƒè‡ªå·± çš„å‘¢?12345678910111213function outer() &#123; var num = 0; return function inner() &#123; return num++; &#125;&#125;let innerFn_1 = outer();let a_1 = innerFn_1()let innerFn_2 = outer();let a_2 = innerFn_2();let a_1_1 = innerFn_1();let a_2_2 = innerFn_2();innerFn_1 å’Œ innerFn_2 éƒ½å±äºè‡ªå·±çš„ä½œç”¨åŸŸé“¾, è€Œ a_1 å’Œ a_2 åˆ™åˆ†åˆ«åœ¨ innerFn_1 å’Œ innerFn_2 ä¸Šåˆ›å»ºäº†å±äºè‡ªå·±çš„ä½œç”¨åŸŸé“¾. æ‰€ä»¥å®ƒä»¬å‡½æ•°é‡Œçš„ num æ˜¯å±äºä¸åŒä½œç”¨åŸŸé“¾é‡Œçš„å˜é‡. ä½†å¯¹äº a_1 å’Œ a_1_1 æ¥è¯´å®ƒä»¬éƒ½æ˜¯åŸºäº innerFn_1, æ‹¥æœ‰åŒä¸€ outer å˜é‡å¯¹è±¡, num è‡ªç„¶ä¹Ÿæ˜¯åŒä¸€ä¸ª, æ‰€ä»¥ä¼šç´¯åŠ . åŒç† a_2 å’Œ a_2_2.å¦‚æœç†è§£äº†è¿™ä¸ª, é‚£ä¹ˆé¢è¯•å¸¸è€ƒçš„ä¸€é¢˜å°±å°èœä¸€ç¢Ÿäº†.12345for(var i = 1; i &lt;= 5; i++) &#123; setTimeout(function timer() &#123; console.log(i); &#125;, i*1000)&#125;é‡ç‚¹æ˜¯æ‰§è¡Œçš„æ—¶å€™æ‰ä¼šåˆ›å»ºå˜é‡å¯¹è±¡çš„ä¸€ä¸ªä½œç”¨åŸŸé“¾.é—­åŒ…æ˜¯ä»€ä¹ˆ?å¦‚æœç†è§£äº†ä»¥ä¸Šçš„æ¦‚å¿µ, å°±ä¼šè§‰å¾—é—­åŒ…æ˜¯ä½œç”¨åŸŸåŸ‹çš„ä¸€ä¸ªå½©è›‹, ç”¨çš„å¥½å°±æ˜¯æƒŠå–œ, ç”¨çš„ä¸å¥½å°±æˆæƒŠå“äº†.å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„ä½œç”¨åŸŸ, å³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œ, è¿™æ—¶å°±äº§ç”Ÿäº†é—­åŒ…. è¿™å°±å’Œä¹‹å‰æåˆ°çš„æ¸¸æˆå­˜æ¡£å·®ä¸å¤š.å¥½äº†, æ‰”å‡ ä¸ªé—­åŒ…å‡ºæ¥å·©å›ºä¸€ä¸‹.12345678910function outer_1() &#123; var a = 'hello world'; function inner() &#123; console.log(a) &#125; outer_2(inner)&#125;function outer_2(fn) &#123; fn()&#125;è¿™é‡Œä¹Ÿæœ‰é—­åŒ….12345678var a = new array(99999999);function b() &#123; console.log(b)&#125;b()body.addEventListener('click', function() &#123; console.log('hello world')&#125;)è¿˜æœ‰å¼€å¤´æ‰€è¯´çš„å¯ä»¥ç»“åˆå¼€å‘è€…å·¥å…·ç›´è§‚åœ°çœ‹ä¸€ä¸‹, ä¸€å¼ åŠ¨æ€å›¾è§£é‡Šä¸€åˆ‡.å†…å­˜æ³„æ¼é—­åŒ…ä¹‹æ‰€ä»¥èƒ½æˆä¸ºé—­åŒ…, æ˜¯å› ä¸ºå®ƒè®°å½•äº†å‡½æ•°æ‰€åœ¨çš„ä½œç”¨åŸŸ. ç°ä¸»æµçš„è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶æ­£å› ä¸ºé—­åŒ…çš„è¿™ä¸ªç‰¹ç‚¹è€Œä¸èƒ½é‡Šæ”¾å†…å­˜. é—­åŒ…çš„æ»¥ç”¨ä¼šå¯¼è‡´å¯¼è‡´å†…å­˜èƒ½åˆ†é…çš„ç©ºé—´å˜å°‘, æœ€ç»ˆå´©æºƒ.æ­£å¸¸æ¥è¯´, å‡½æ•°åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­, å±€éƒ¨å˜é‡ä¼šè¢«åˆ†é…ç›¸åº”çš„å†…å­˜ç©ºé—´, ä»¥ä¾¿å­˜å‚¨å®ƒä»¬çš„å€¼, ç›´è‡³å‡½æ•°æ‰§è¡Œç»“æŸ. æ­¤æ—¶å±€éƒ¨å˜é‡å æœ‰çš„ç©ºé—´ä¼šè¢«é‡Šæ”¾ä»¥ä¾›å°†æ¥ä½¿ç”¨.å¸¸è¯´çš„å›æ”¶æœºåˆ¶ä¹‹ä¸€, æ ‡è®°æ¸…é™¤, å®ƒçš„å·¥ä½œåŸç†æ˜¯, å½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶, å‚¨å­˜åœ¨å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡éƒ½ä¼šè¢«åŠ ä¸Šæ ‡è®°(è‡³äºä»€ä¹ˆæ ‡è®°æˆ‘ä»¬ä¸å…³å¿ƒ), ç„¶åæ‰¾åˆ° ç¯å¢ƒä¸­çš„å˜é‡ ä»¥åŠ è¢«ç¯å¢ƒä¸­å¼•ç”¨çš„å˜é‡, æŠŠå®ƒä»¬ä¹‹å‰åŠ çš„æ ‡è®°ç»™å»æ‰. è€Œå‰©ä¸‹çš„è¢«æ ‡è®°çš„å˜é‡å°†è¢«è§†ä¸º å‡†å¤‡ åˆ é™¤çš„å˜é‡. æœ€å, åƒåœ¾æ”¶é›†å™¨æ‰¾å‡ºä¸å†ç»§ç»­ä½¿ç”¨çš„å˜é‡, é‡Šæ”¾å…¶å ç”¨çš„å†…å­˜. æ‰€ä»¥, ä¸€æ—¦æ•°æ®ä¸å†è¢«éœ€è¦, åº”è§£é™¤å¼•ç”¨, å°†å…¶å€¼è®¾ç½®ä¸ºnull.12outer = null;inner = null;å†…éƒ¨å‡½æ•°çš„æ‰§è¡Œç¯å¢ƒä¼šä¿å­˜ç€å¤–éƒ¨ç¯å¢ƒæ´»åŠ¨å¯¹è±¡çš„å¼•ç”¨, å†…éƒ¨å‡½æ•°è¢«æ‰”å‡ºå»å, å°±æ„å‘³ç€å¤–éƒ¨ç¯å¢ƒä¸èƒ½è¢«é”€æ¯äº†.thisæ‰§è¡Œç¯å¢ƒé‡Œè®°å½•çš„ä¸åªæ˜¯è¿™äº›, å®ƒä¹Ÿè®°å½•äº†å‡½æ•°è°ƒç”¨æ ˆã€å‡½æ•°è°ƒç”¨æ–¹å¼ç­‰. this å’Œä½œç”¨åŸŸæœ‰å…³ç³», ä½†ä¸æ˜¯ä½ ä»¬æƒ³è±¡çš„é‚£ç§å…³ç³». æ¯ä¸ªå‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶éƒ½ä¼šè‡ªåŠ¨å–å¾—ä¸¤ä¸ªç‰¹æ®Šå˜é‡: this å’Œ arguments. å†…éƒ¨å‡½æ•°åœ¨æœç´¢è¿™ä¸¤ä¸ªå˜é‡æ—¶, åªä¼šæœç´¢åˆ°å…¶æ´»åŠ¨å¯¹è±¡ä¸ºæ­¢(å³å½“å‰å˜é‡å¯¹è±¡). å› æ­¤æ°¸è¿œä¸å¯èƒ½ç›´æ¥è®¿é—®åˆ°å¤–éƒ¨å‡½æ•°ä¸­çš„è¿™ä¸¤ä¸ªå˜é‡. é™¤éæˆ‘ä»¬æŠŠå¤–éƒ¨ä½œç”¨åŸŸä¸­çš„ this å¯¹è±¡ä¿å­˜åœ¨ä¸€ä¸ªé—­åŒ…èƒ½å¤Ÿè®¿é—®åˆ°çš„å˜é‡é‡Œ.123456789// å¾ˆå¸¸è§æ˜¯ä¸æ˜¯ğŸ˜‚let obj = &#123; a: function() &#123; var self = this; return function() &#123; console.log(self) &#125; &#125;&#125;å‡½æ•°å†…éƒ¨çš„ this åœ¨å‡½æ•°æ‰§è¡Œæ—¶æ‰æ­£å¼è¢«èµ‹äºˆç›¸åº”çš„å€¼, æ‰€ä»¥è¯´å‡½æ•°çš„è°ƒç”¨ä½ç½®å¾ˆå…³é”®. å¯ä»¥è¿™ä¹ˆè¯´, è° ç›´æ¥ è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°, this å°±æŒ‡å‘äº†è°. å¦‚æœä¸æ˜¯å¯¹è±¡åœ¨ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°, æˆ‘ä»¬å¯ç»Ÿç»Ÿè®¤ä¸ºæ˜¯ undefined, éä¸¥æ ¼æ¨¡å¼æµè§ˆå™¨ç¯å¢ƒä¸‹å°±æ˜¯ window. å¦‚æœçœŸæƒ³çŸ¥é“ä¸ºä»€ä¹ˆ, å¯ä»¥ç›´æ¥çœ‹è§„èŒƒ(ç¥çƒ¦).1234567891011121314151617181920'use strict'function a() &#123; console.log(this)&#125;var b = &#123; a: function() &#123; console.log(this); &#125;, b: function() &#123; return a; &#125;&#125;let b_a = b.a;a(); //1. undefined;b_a(); //2. undefined;b.a(); //3. &#123;a: f, b: f&#125;;b.b()(); //4. undefined;(true &amp;&amp; b.a)() //5. undefined;new a(); //6. &#123;&#125;b.call(b); //7. &#123;a: f, b: f&#125;;ä» 1~6, æˆ‘ä»¬çœ‹çœ‹å“ªä¸ªå¯¹è±¡ç›´æ¥è°ƒç”¨äº†è¯¥å‡½æ•°. ç¬¬ 1 ä¸ªæ²¡æ‰¾åˆ°è°ƒç”¨å¯¹è±¡, å°±æ˜¯ä¸ªæ™®é€šå‡½æ•°è°ƒç”¨. ç¬¬ 2 ä¸ªç»è¿‡ b_a = b.a èµ‹å€¼æ“ä½œå, è¿”å›çš„å°±æ˜¯é‚£ä¸ªæ™®é€šå‡½æ•°, å°±æ˜¯ä¸€æ™®é€šçš„å‡½æ•°è°ƒç”¨. ç¬¬ 3 ä¸ªå¾ˆç›´æ¥, å°±æ˜¯ b è¿™ä¸ªå¯¹è±¡äº†. ç¬¬ 4 ä¸ªæ˜¯ä¸ªé—­åŒ…, é¦–å…ˆ this åªåœ¨å½“å‰æ´»åŠ¨å¯¹è±¡é‡Œæ‰¾ this å¯¹è±¡, ä¸çŸ¥é“æ˜¯å“ªä¸ªå¯¹è±¡, ä½†è‚¯å®šä¸ä¼šæ˜¯ b. ç¬¬ 5 ä¸ªå’Œç¬¬ 2 ä¸ªæ˜¯ä¸€ä¸ªé“ç†. ç¬¬ 6 ä¸ªå§, è²Œä¼¼ä¸ç®—æ˜¯å‡½æ•°è°ƒç”¨äº†å§, ä¸è¿‡æˆ‘ä»¬çŸ¥é“, this æ˜¯æŒ‡å‘æ–°åˆ›å»ºçš„ç©ºå¯¹è±¡. ç¬¬ 7ä¸ªå°±æ›´ç›´æ¥äº†, äººå®¶éƒ½æŒ‡åé“å§“å°±å·®å–Šå‡ºæ¥äº†.this ç»‘å®šå¯¹è±¡çš„å‡ æ¡å‡†åˆ™è²Œä¼¼åœ¨æˆ‘è¿™é‡Œå°±åªå‰©ä¸€æ¡äº†ğŸ˜Œ.]]></content>
      <categories>
        <category>å¾ˆéš¾ä¹ˆ</category>
      </categories>
      <tags>
        <tag>é—­åŒ…</tag>
        <tag>ä½œç”¨åŸŸ</tag>
        <tag>this</tag>
        <tag>å†…å­˜æ³„æ¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectåŸå‹æ–¹æ³•]]></title>
    <url>%2FObject%E5%8E%9F%E5%9E%8B%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ObjectObject æ„é€ å‡½æ•°ç”¨æ¥åŒ…è£…æˆå¯¹è±¡.æ¦‚è¿°Object æ„é€ å‡½æ•°ä¸ºç»™å®šå€¼åˆ›å»ºä¸€ä¸ªå¯¹è±¡åŒ…è£…å™¨. å¦‚æœç»™å®šå€¼æ˜¯ null æˆ– undefined, å°†ä¼šåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡. å¦åˆ™, å°†è¿”å›ä¸€ä¸ªä¸ç»™å®šå€¼å¯¹åº”ç±»å‹çš„å¯¹è±¡.å½“ä»¥éæ„é€ å‡½æ•°å½¢å¼è¢«è°ƒç”¨æ—¶, Object ç­‰åŒäº new Object().åŸå‹æ–¹æ³•Object.prototype.hasOwnProperty()æè¿° : åˆ¤æ–­è‡ªèº«å±æ€§ä¸­æ˜¯å¦æœ‰æŒ‡å®šçš„å±æ€§.è¯­æ³• :target.prototype.hasOwnProperty(prop)target : ç›®æ ‡å¯¹è±¡.prop : è¦æ£€æµ‹çš„å±æ€§.123456789101112function Person(name) &#123; this.name = name&#125;Person.prototype.age = 18let person = new Person('yexiaochen')let boolean_1 = person.hasOwnProperty('name')let boolean_2 = person.hasOwnProperty('age')// &gt; boolean_1// true// &gt; boolean_2// falseObject.prototype.isPrototypeOf()æè¿° : åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Š.è¯­æ³• :prototypeObject.isPrototypeOf(obj)obj : æä¾›åŸå‹é“¾çš„å¯¹è±¡.prototypeObject : å¾…æ£€æµ‹çš„å¯¹è±¡.123456789101112function Person() &#123;&#125;function Man()&#123;&#125;Man.prototype = Object.create(Person.prototype)let man = new Man()let boolean_1 = Person.prototype.isPrototypeOf(man)let boolean_2 = Man.prototype.isPrototypeOf(man)// &gt; boolean_1// true// &gt; boolean_2// trueObject.prototype.propertyIsEnumerable()æè¿° : åˆ¤æ–­å¯¹è±¡çš„æŒ‡å®šå±æ€§æ˜¯å¦å¯æšä¸¾. åŸå‹é“¾ä¸Šç»§æ‰¿æ¥çš„å±æ€§é™¤å¤–. å¦‚æœå¯¹è±¡æ²¡æœ‰æŒ‡å®šçš„å±æ€§ï¼Œåˆ™æ­¤æ–¹æ³•è¿”å›falseè¯­æ³• :target.propertyIsEnumerable(prop)target : ç›®æ ‡å¯¹è±¡.sources : å¾…æ£€æµ‹çš„å±æ€§.123456789101112function Person(name) &#123; this.name = name&#125;Person.prototype.age = 18let person = new Person('yexiaochen')let boolean_1 = person.propertyIsEnumerable('name')let boolean_2 = person.propertyIsEnumerable('age')// &gt; boolean_1// true// &gt; boolean_2// falseObject.prototype.toString()æè¿° : ä¸€ä¸ªè¡¨ç¤ºè¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²è¯­æ³• :target.toString()target : ç›®æ ‡å¯¹è±¡.1234567891011function Person() &#123;&#125;let person = new Person()let str_1 = person.toString();let str_2 = Object.prototype.toString.call(person)let str_3 = Object.prototype.toString.call(Person)// &gt; str_1// '[object Object]'// &gt; str_2// '[object Object]'// &gt; str_3// '[object Function]'Object.prototype.valueOf()æè¿° : å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼. å¦‚æœå¯¹è±¡æ²¡æœ‰åŸå§‹å€¼, è¿”å›å¯¹è±¡æœ¬èº«.è¯­æ³• :target.valueOf()target : ç›®æ ‡å¯¹è±¡.123456789101112131415161718192021222324let str = new String('hello world')let num = new Number(0)let boolean = new Boolean(true)let arr = [1,2,3]let func = function a()&#123;&#125;let obj = &#123;a: 'hello'&#125;str.valueOf()num.valueOf()boolean.valueOf()arr.valueOf()func.valueOf()obj.valueOf()// &gt; str.valueOf()// 'hello world'// &gt; num.valueOf()// 0// &gt; boolean.valueOf()// true// &gt; arr.valueOf()// [ 1, 2, 3 ]// &gt; func.valueOf()// [Function: a]// &gt; obj.valueOf()// &#123; a: 'hello' &#125;]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>Object</tag>
        <tag>å¯¹è±¡åŸå‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯¹è±¡å±æ€§çš„å±æ€§]]></title>
    <url>%2F%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E5%B1%9E%E6%80%A7%2F</url>
    <content type="text"><![CDATA[å¼•å­vue çš„å¤§è¡Œå…¶é“, ä½¿å¾— Object.defineProperty è¢«æ›´å¤šäººæ‰€è®¤è¯†. vue åˆ©ç”¨ Object.defineProperty æä¾›çš„ç‰¹æ€§å®ç°äº†æ•°æ®ç»‘å®š. æˆ‘ä»¬ä¹Ÿå¯ä»¥æ®æ­¤åŠ¨æ‰‹å®ç°ä¸€ä¸ªç®€å•çš„æ•°æ®ç»‘å®š(å¯å‚ç…§è¿›å‡»çš„è§‚å¯Ÿè€…æ¨¡å¼).éš¾é“ Object.defineProperty èƒ½åšçš„åªæœ‰è¿™äº›ä¹ˆ? å¾ˆæ˜¾ç„¶ä¸æ˜¯.å±æ€§æè¿°ç¬¦The Property Descriptor type is used to explain the manipulation and reification of Object property attributes.å±æ€§æè¿°ç¬¦åˆ°åº•æ˜¯ä»€ä¹ˆ? è¯´ç™½äº†å°±æ˜¯å¯¹è±¡å±æ€§çš„å±æ€§è§£é‡Šä¸å…·åŒ–, å°±æ˜¯å¯¹è±¡å±æ€§æœ¬èº«å…·æœ‰å“ªäº›å±æ€§.å¹³æ—¶æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶ä¸ºå¯¹è±¡æ·»åŠ å±æ€§æ—¶, å¯ä»¥è¿™æ ·12let obj = new Object()obj.a = 'hello world'æœ‰äº†å¯¹è±¡å­—é¢é‡å, æƒ³è¦è¾¾åˆ°åŒæ ·çš„æ•ˆæœå°±æ›´åŠ çœäº‹äº†. ç°åœ¨ä¹Ÿéƒ½æå€¡ä½¿ç”¨å­—é¢é‡æ¥åˆ›å»ºå¯¹è±¡.123let obj = &#123; a: 'hello world'&#125;æ‰€ä»¥è¯´ç¨‹åºå‘˜éƒ½æ˜¯æ‡’äººå˜›, æ€ä¹ˆç®€å•æ€ä¹ˆæ¥. é€šè¿‡ Object.defineProperty ä¸ºå¯¹è±¡æ·»åŠ å±æ€§çš„æ–¹å¼ä¹Ÿå°±æ·¡å‡ºäººä»¬çš„è§†é‡.åŒæ ·æ˜¯ä¸ºå¯¹è±¡æ·»åŠ å±æ€§, å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?ç¨‹åºå‘˜èº«ä½“å¯ä»¥æ‡’, ä½†è„‘å­è¦å‹¤å¿«, è¦å§‹ç»ˆä¿æŒä¸€é¢—å¥½å¥‡å¿ƒ.å…¶å®ä¸è®ºæ˜¯é€šè¿‡èµ‹å€¼, è¿˜æ˜¯é€šè¿‡å­—é¢é‡, è¿˜æ˜¯é€šè¿‡ Object.defineProperty, æœ€ç»ˆè¿˜æ˜¯æ®Šé€”åŒå½’.è®²çœŸ, å¹³æ—¶çš„å¼€å‘ä¸­, ä½¿ç”¨å¯¹è±¡å­—é¢é‡åˆ›å»ºå¯¹è±¡å¹¶æ·»åŠ å±æ€§æ—¶,å‹æ ¹å°±ä¸ä¼šè€ƒè™‘åˆ°å¯¹è±¡å±æ€§éä¸ªäººæ„æ„¿çš„æ”¹å˜äº†. åœ¨æˆ‘ä»¬çœ‹æ¥, å¯¹è±¡å°±æ˜¯å­˜å‚¨ç€é”®å€¼ã€é”®å€¼æ˜ å°„ç”¨çš„. æˆ‘ä»¬å¯ä»¥ä»»æ„æ·»åŠ , åˆ é™¤, æ›´æ”¹å¯¹è±¡å±æ€§, æˆ‘ä»¬è®¤ä¸ºè¿™æ˜¯ç†æ‰€å½“ç„¶çš„. ç°å®ä¹Ÿçš„ç¡®å¦‚æ­¤, ä½ æœ‰å¯¹å®ƒä¸ºæ‰€æ¬²ä¸ºçš„æƒåˆ©.æ·»åŠ å±æ€§çš„å·®å¼‚å¯æ˜¯ä¸ºä»€ä¹ˆå‘¢?ğŸ§ğŸ˜ ä½ å“ªæ¥çš„é‚£ä¹ˆå¤šä¸ºä»€ä¹ˆ? ä½ ä¸ºä»€ä¹ˆä¸ºä»€ä¹ˆå‘¢!!!ğŸ˜ å¦‚æœä½ ç¨å¾®å¯¹ Object.defineProperty æœ‰ç‚¹äº†è§£, åº”è¯¥çŸ¥é“é€šè¿‡è¿™ç§æ–¹å¼å®šä¹‰çš„ç¹ç. ä½ ä¹Ÿåº”è¯¥çŸ¥é“å¯¹è±¡å±æ€§çš„æ“ä½œä¹Ÿæ˜¯æœ‰é™åˆ¶çš„. æƒ³è¦æ”¾å¼€æƒé™, æˆ‘ä»¬éœ€è¦è¿™æ ·åš1234567let obj = &#123;&#125;Object.defineProperty(obj, 'a', &#123; value: 'hello world', configurable: true, enumerable: true, writable: true&#125;)å¯¹è±¡å­—é¢é‡æ·»åŠ å±æ€§åªæ˜¯é»˜è®¤éƒ½ä¸º true. æ‰€ä»¥æˆ‘ä»¬æ‰å¯ä»¥ä¸ºæ‰€æ¬²ä¸º. ä¸ç›¸ä¿¡ä¹ˆ? æˆ‘ä»¬å¯ä»¥é€šè¿‡ Object.getOwnPropertyDescriptor éªŒè¯ä¸€ä¸‹12345678let obj = &#123;&#125;obj.a = 'hello world'let property = Object.getOwnPropertyDescriptor(obj, 'a')// &gt; property// &#123; value: 'hello world',// writable: true,// enumerable: true,// configurable: true &#125;é€šè¿‡ Object.getOwnPropertyDescriptor æ·»åŠ çš„å±æ€§, å¯ä»¥è‡ªç”±çµæ´»åœ°è®¾ç½®å±æ€§æè¿°ç¬¦. å¦‚æœæˆ‘ä¸æƒ³é…ç½®çš„è¯, å®ƒä¹Ÿæœ‰è‡ªå·±çš„é»˜è®¤å€¼. éœ€è¦æ³¨æ„çš„æ˜¯, è¿™é‡Œçš„é»˜è®¤å€¼å’Œå¯¹è±¡å­—é¢é‡æ·»åŠ å±æ€§ä¸èµ‹å€¼å±æ€§ä¸åŒ, é»˜è®¤å€¼ä¸º false.12345678910let obj = &#123;&#125;Object.defineProperty(obj, 'a', &#123; value: 'hello world'&#125;)let property = Object.getOwnPropertyDescriptor(obj, 'a')// &gt; property// &#123; value: 'hello world',// writable: false,// enumerable: false,// configurable: false &#125;å±æ€§æè¿°ç¬¦ç­‰ä½æ•°æ®æè¿°ç¬¦å’Œè®¿é—®æè¿°ç¬¦. ä»¥ä¸Šè¯´çš„éƒ½æ˜¯æ•°æ®æè¿°ç¬¦.ä¼ é—»ä¸­çš„Vueä¼˜åŒ–æ–¹æ¡ˆé“ç†æˆ‘éƒ½æ‡‚, é‚£ä½ è¿™å¥è¯æ˜¯å•¥ä¸ªæ„æ€?å‹æ ¹å°±ä¸ä¼šè€ƒè™‘åˆ°å¯¹è±¡å±æ€§éä¸ªäººæ„æ„¿çš„æ”¹å˜äº†.åœ¨ Vue çš„ data é€‰é¡¹ä¸­ï¼ŒVue å°†éå†æ­¤å¯¹è±¡æ‰€æœ‰çš„å±æ€§ï¼Œå¹¶ä½¿ç”¨ Object.defineProperty ä¸­çš„è®¿é—®æè¿°ç¬¦ get/set è®¿é—®æè¿°ç¬¦é‡æ–°å®šä¹‰ä¸€é. å†ç»“åˆè§‚å¯Ÿè€…æ¨¡å¼, æ¯æ¬¡å±æ€§å˜åŒ–æ—¶éƒ½ä¼šæ”¶åˆ°é€šçŸ¥, ä»è€Œè¾¾åˆ°æ•°æ®ç»‘å®šçš„æ•ˆæœ. æ˜¾ç„¶å¹¶ä¸æ˜¯æ‰€æœ‰çš„å±æ€§éƒ½éœ€è¦è¢«è½¬æ¢ç›‘å¬.å¯¹äºå±•ç¤ºå‹çš„æ•°æ®, å°±æ²¡æœ‰å¿…è¦ä¹Ÿä¸ä¼šå‡ºç°æ•°æ®å†…éƒ¨å±æ€§çš„å˜åŒ–, æ‰€ä»¥æ²¡å¿…è¦åšä»¥ä¸Šçš„å¤„ç†. Object.freeze (ç”¨æ³•å¯è§Objectæ„é€ å‡½æ•°)å¤„ç†åçš„å¯¹è±¡, å°±å¯ä»¥ä½¿å¾—å¯¹è±¡å±æ€§æ·»åŠ ã€ä¿®æ”¹ç­‰æ“ä½œå¤±æ•ˆ. è¿™æ ·ä¸å»è½¬æ¢ä¹Ÿä¸ç”¨å»ç›‘å¬, æ€§èƒ½è‡ªç„¶ä¹Ÿå°±æé«˜äº†.å±æ€§æè¿°ç¬¦é”®å€¼æ¯ç‡¥çš„æè¿°å¼€å§‹â€¦æ•°æ®æè¿°ç¬¦å’Œè®¿é—®æè¿°ç¬¦åŒäº‹å…·æœ‰çš„é”®å€¼configurable : è‹¥ä¸º false, ä¸èƒ½åˆ é™¤è¯¥å±æ€§, ä¸èƒ½åˆ‡æ¢å±æ€§æè¿°ç¬¦(æ•°æ®æè¿°ç¬¦åˆ‡åˆ°è®¿é—®æè¿°ç¬¦,æˆ–è®¿é—®æè¿°ç¬¦åˆ‡åˆ°æ•°æ®æè¿°ç¬¦), ä¸èƒ½æ›´æ”¹è¯¥å±æ€§çš„å±æ€§(å¯¹äºæ•°æ®æè¿°ç¬¦æ¥è¯´, value å±æ€§é™¤å¤–, Writable å±æ€§ä» true ç½®ä¸º false é™¤å¤–). è¯´ç™½äº†å°±æ˜¯å±æ€§æè¿°ç¬¦çš„å¼€å…³, ç®¡ç†ç€è¯¥å±æ€§çš„å±æ€§.123456789101112131415161718192021222324252627282930313233let obj = &#123;&#125;Object.defineProperty(obj, 'a', &#123; value: 'hello world', configurable: false, enumerable: true, writable: true&#125;)Object.defineProperty(obj, 'a', &#123; value: 'hi world',&#125;)let property_1 = Object.getOwnPropertyDescriptor(obj, 'a')Object.defineProperty(obj, 'a', &#123; value: 'hi world', writable: false&#125;)let property_2 = Object.getOwnPropertyDescriptor(obj, 'a')// &gt; property_1// &#123; value: 'hi world',// writable: true,// enumerable: true,// configurable: false &#125;// &gt; property_2// &#123; value: 'hi world',// writable: false,// enumerable: true,// configurable: false &#125;Object.defineProperty(obj, 'a', &#123; value: 'hi world', configurable: false, enumerable: false&#125;)// TypeErrorenumerable : è‹¥ä¸º true, åˆ™åœ¨ forâ€¦in æšä¸¾ä¸­å¯è¢«æšä¸¾åˆ°.1234567891011let obj = &#123; a: 'hello world', b: 'hi world'&#125;Object.defineProperty(obj, 'c', &#123; value: 'hey world', enumerable: false&#125;)let propertyArray = Object.keys(obj)// &gt; propertyArray// [ 'a', 'b' ]ä»…æ•°æ®æè¿°ç¬¦å…·æœ‰çš„é”®å€¼value : å¯¹è±¡çš„è¯¥å±æ€§å¯¹åº”çš„å€¼. å¯ä»¥ä¸ºä»»ä½•æœ‰æ•ˆçš„ JavaScript å€¼.writable : è‹¥ä¸ºfalse, æ›´æ”¹ value å°†ä¼šå¤±è´¥.12345678910111213141516171819202122let obj = &#123;&#125;Object.defineProperty(obj, 'a', &#123; value: 'hello world', writable: false, configurable: true&#125;)obj.a = 'hi world'let property_1 = Object.getOwnPropertyDescriptor(obj, 'a')Object.defineProperty(obj, 'a', &#123; value: 'hey world'&#125;)let property_2 = Object.getOwnPropertyDescriptor(obj, 'a')// &gt; property_1// &#123; value: 'hello world',// writable: false,// enumerable: false,// configurable: true &#125;// &gt; property_2// &#123; value: 'hey world',// writable: false,// enumerable: false,// configurable: true &#125;ä»è¿è¡Œç»“æœå¯ä»¥çœ‹å‡º, é€šè¿‡èµ‹å€¼æ›´æ”¹å±æ€§å€¼æ—¶, ä¼šæ›´æ”¹æ— æ•ˆ.ä½†æ˜¯é€šè¿‡ Object.defineProperty æ›´æ”¹æ—¶, å°†ä¼šæˆåŠŸæ›´æ”¹å±æ€§å€¼. å¯¹æ­¤, è§„èŒƒæœ‰æåˆ°, å½“å¯é…ç½®ä¸å¯å†™æ—¶æ›´æ”¹å±æ€§å€¼,ä¼šæœ‰ Writable ç½®ä¸º true, =&gt; è®¾ç½® value =&gt; Writable ç½®ä¸º false.Step 8.b allows any field of Desc to be different from the corresponding field of current if currentâ€™s [[Configurable]] field is true. This even permits changing the [[Value]] of a property whose [[Writable]] attribute is false. This is allowed because a true [[Configurable]] attribute would permit an equivalent sequence of calls where [[Writable]] is first set to true, a new [[Value]] is set, and then [[Writable]] is set to false.é€šè¿‡èµ‹å€¼å’Œ Object.defineProperty æ–¹å¼ä¿®æ”¹ value, å¯ä»¥çœ‹å‡ºå®ƒä»¬å†…éƒ¨æ“ä½œè¿˜æ˜¯å­˜åœ¨ç€å·®å¼‚.ä»…è®¿é—®æè¿°ç¬¦å…·æœ‰çš„é”®å€¼get : è®¿é—®è¯¥å±æ€§æ—¶, è¯¥æ–¹æ³•éƒ½ä¼šè¢«æ‰§è¡Œ.set : ä¿®æ”¹è¯¥å±æ€§æ—¶, è¯¥æ–¹æ³•éƒ½ä¼šè¢«æ‰§è¡Œ.vue å°±æ˜¯åˆ©ç”¨äº†è®¿é—®æè¿°ç¬¦çš„è¿™äº›ç‰¹æ€§, å®ç°äº†æ•°æ®ç»‘å®š.12345678910111213141516171819202122let obj = &#123;&#125;let valObject.defineProperty(obj, 'a', &#123; set(value) &#123; val = value console.log('set =&gt; value', val) &#125;, get() &#123; console.log('get =&gt; value', val) return val &#125;, configurable: true, enumerable: true&#125;)// &gt; obj// &#123; a: [Getter/Setter] &#125;// &gt; obj.a = 'hello world'// set =&gt; value hello world// 'hello world'// &gt; obj.a// get =&gt; value hello world// 'hello world']]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>å±æ€§æè¿°ç¬¦</tag>
        <tag>defineProperty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Objectæ„é€ å‡½æ•°]]></title>
    <url>%2FObject%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[ObjectObject æ„é€ å‡½æ•°ç”¨æ¥åŒ…è£…æˆå¯¹è±¡.æ¦‚è¿°Object æ„é€ å‡½æ•°ä¸ºç»™å®šå€¼åˆ›å»ºä¸€ä¸ªå¯¹è±¡åŒ…è£…å™¨. å¦‚æœç»™å®šå€¼æ˜¯ null æˆ– *undefined, å°†ä¼šåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡. å¦åˆ™, å°†è¿”å›ä¸€ä¸ªä¸ç»™å®šå€¼å¯¹åº”ç±»å‹çš„å¯¹è±¡.å½“ä»¥éæ„é€ å‡½æ•°å½¢å¼è¢«è°ƒç”¨æ—¶, Object ç­‰åŒäº new Object().æ„é€ å‡½æ•°æ–¹æ³•Object.keys()æè¿° :è·å–ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§(å­—ç¬¦ä¸²)ç»„æˆçš„æ•°ç»„.Object.keys(target)target : ç›®æ ‡å¯¹è±¡.12345678910111213141516171819let obj = &#123; a: 'hello'&#125;Object.defineProperty(obj, 'b', &#123;value: 'world'&#125;)let property_1 = Object.getOwnPropertyDescriptor(obj, 'a')let property_2 = Object.getOwnPropertyDescriptor(obj, 'b')let propertyArray = Object.keys(obj);// &gt; property_1// &#123; value: 'hello',// writable: true,// enumerable: true,// configurable: true &#125;// &gt; property_2// &#123; value: 'world',// writable: false,// enumerable: false,// configurable: false &#125;// &gt; propertyArray// [ 'a' ]Object.values()æè¿° :è·å–ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§å€¼ç»„æˆçš„æ•°ç»„.Object.values(target)target : ç›®æ ‡å¯¹è±¡.12345678910111213141516171819202122let obj = &#123; a: 'hello', b: () =&gt; &#123; console.log('hello') &#125;&#125;Object.defineProperty(obj, 'c', &#123;value: 'world'&#125;)let property_1 = Object.getOwnPropertyDescriptor(obj, 'a')let property_2 = Object.getOwnPropertyDescriptor(obj, 'c')let valuesArray = Object.values(obj);// &gt; property_1// &#123; value: 'hello',// writable: true,// enumerable: true,// configurable: true &#125;// &gt; property_2// &#123; value: 'world',// writable: false,// enumerable: false,// configurable: false &#125;// &gt; valuesArray// [ 'hello', [Function: b] ]Object.entries()æè¿° :ç”±ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ç»„æˆçš„æ•°ç»„. å±æ€§çš„é¡ºåºä¸é€šè¿‡ for...in å¾ªç¯å¯¹è±¡çš„å±æ€§å€¼æ‰€ç»™å‡ºçš„é¡ºåºç›¸åŒ.è¯­æ³• :Object.entries(target)target : ç›®æ ‡å¯¹è±¡.1234567891011let obj_1 = &#123; a: 'hello', b: 'word'&#125;let obj_2 = Object.entries(obj_1)// &gt; obj_2// [ [ 'a', 'hello' ], [ 'b', 'word' ] ]let map = new Map(obj_2)// &gt; map// Map &#123; 'a' =&gt; 'hello', 'b' =&gt; 'word' &#125;Object.create()æè¿° :åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, å¹¶å°†å†…éƒ¨å±æ€§ [[Prototype]] æŒ‡å‘æºå¯¹è±¡.è¯­æ³• :Object.create(sources[, Properties])sources : æä¾›åŸå‹çš„æºå¯¹è±¡.Properties : ä¸ºæ–°å¯¹è±¡æ·»åŠ å±æ€§, è§„åˆ™å¦‚åŒ Object.defineProperties(obj, Prototype).1234567let obj_1 = &#123; a: 'hello', b: 'word'&#125;let obj_2 = Object.create(obj_1, &#123;name: &#123;value: 'obj_2'&#125;&#125;)&gt;obj_2// &#123;name: 'obj_2', _proto_: &#123;a: 'hello', b: 'word'&#125;&#125;Object.assign()æè¿° :å°†æºç›®æ ‡(ä¸€ä¸ªæˆ–å¤šä¸ª)å¯¹è±¡ä¸­çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å€¼å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­. å¦‚æœç›®æ ‡å¯¹è±¡å’Œæºå¯¹è±¡ä¸­å­˜åœ¨ç›¸åŒçš„å±æ€§(é”®), åè€…çš„å±æ€§å°†è¦†ç›–å‰è€…çš„å±æ€§. æœ€ç»ˆè¿”å›ç›®æ ‡å¯¹è±¡.è¯­æ³• :Object.assign(target, ..sources)target : ç›®æ ‡å¯¹è±¡.sources : æºå¯¹è±¡.1234567891011121314151617181920212223let obj_1 = &#123; a: 'hello', b: 'word'&#125;let copy = Object.assign(&#123;&#125;, obj)// &gt; copy// &#123; a: 'hello', b: 'word' &#125;// &gt; obj_1// &#123; a: 'hello', b: 'word' &#125;// &gt; copy === obj_1// falselet obj_2 = &#123; a: 'hi', b: 'world'&#125;let obj_3 = &#123; a: 'hello', b: 'world'&#125;Object.assign(obj_2, obj_3)// &gt; obj_2// &#123; a: 'hello', b: 'world' &#125;Object.defineProperty()æè¿° :ä¸ºå¯¹è±¡å®šä¹‰ä¸€ä¸ªæ–°å±æ€§æˆ–ä¿®æ”¹ç°æœ‰å±æ€§.è¯­æ³• :Object.defineProperty(target, prop, descriptor)target : è¦åœ¨å…¶ä¸Šå®šä¹‰æˆ–ä¿®æ”¹å±æ€§çš„ç›®æ ‡å¯¹è±¡.prop : è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§å±æ€§åç§°.descriptor : å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦.123456789101112131415let obj = &#123;&#125;Object.defineProperty(obj, 'a', &#123; value: 'hello world', configurable: false, enumerable: true, writable: true&#125;)let property = Object.getOwnPropertyDescriptor(obj, 'a')// &gt; obj// &#123; a: 'hello world' &#125;// &gt; property// &#123; value: 'hello world',// writable: true,// enumerable: true,// configurable: false &#125;Object.defineProperties()æè¿° :ä¸ºå¯¹è±¡å®šä¹‰ä¸€ä¸ªæ–°å±æ€§æˆ–ä¿®æ”¹ç°æœ‰å±æ€§.è¯­æ³• :Object.defineProperties(target, propsDescriptor)target : è¦åœ¨å…¶ä¸Šå®šä¹‰æˆ–ä¿®æ”¹å±æ€§çš„ç›®æ ‡å¯¹è±¡.propsDescriptor : å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦å¯¹è±¡.1234567891011121314151617181920212223242526272829let obj = &#123;&#125;Object.defineProperties(obj, &#123; 'a': &#123; value: 'hello world', configurable: false, enumerable: true, writable: true &#125;, 'b': &#123; value: 'hi world', configurable: false, enumerable: true, writable: true &#125;&#125;)let property_a = Object.getOwnPropertyDescriptor(obj, 'a')let property_b = Object.getOwnPropertyDescriptor(obj, 'b')// &gt; obj// &#123; a: 'hello world', b: 'hi world' &#125;// &gt; property_a// &#123; value: 'hello world',// writable: true,// enumerable: true,// configurable: false &#125;// &gt; property_b// &#123; value: 'hi world',// writable: true,// enumerable: true,// configurable: false &#125;Object.getOwnPropertyDescriptor()æè¿° :è·å–æŒ‡å®šå¯¹è±¡ä¸ŠæŸä¸ªè‡ªæœ‰å±æ€§å¯¹åº”çš„å±æ€§æè¿°ç¬¦.(è‡ªæœ‰å±æ€§å³ç›´æ¥èµ‹äºˆè¯¥å¯¹è±¡çš„å±æ€§, éåŸå‹é“¾ç»§ä¸ŠæŸ¥æ‰¾åˆ°çš„å±æ€§)è¯­æ³• :Object.getOwnPropertyDescriptor(target, prop)target : ç›®æ ‡å¯¹è±¡.prop : ç›®æ ‡å¯¹è±¡çš„å±æ€§åç§°.123456789101112131415161718192021let obj_1 = &#123; a: 'hello', b: &#123; c: 'world' &#125;, get c() &#123; return 'c' &#125;&#125;let obj_2 = Object.getOwnPropertyDescriptor(obj_1, 'a')let obj_3 = Object.getOwnPropertyDescriptor(obj_1, 'c')// &gt; obj_2// &#123; value: 'hello',// writable: true,// enumerable: true,// configurable: true &#125;// &gt; obj_3// &#123; get: [Function: get c],// set: undefined,// enumerable: true,// configurable: true &#125;Object.getOwnPropertyNames()æè¿° :è·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰è‡ªæœ‰å±æ€§çš„å±æ€§å(åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ä½†ä¸åŒ…æ‹¬ Symbol å€¼ä½œä¸ºåç§°çš„å±æ€§)ç»„æˆçš„æ•°ç»„.è¯­æ³• :Object.getOwnPropertyNames(target)target : ç›®æ ‡å¯¹è±¡.prop : ç›®æ ‡å¯¹è±¡çš„å±æ€§åç§°.123456789101112let obj_1 = &#123; a: 'hello', b: &#123; c: 'world' &#125;, get c() &#123; return 'c' &#125;&#125;let arr = Object.getOwnPropertyNames(obj_1)// &gt; arr// [ 'a', 'b', 'c' ]Object.getOwnPropertySymbols()æè¿° :è·å–ç»™å®šå¯¹è±¡æ‰€æœ‰çš„ Symbol å±æ€§çš„æ•°ç»„.è¯­æ³• :Object.getOwnPropertyNames(target)target : ç›®æ ‡å¯¹è±¡.123456let obj = &#123;&#125;let a = Symbol('a')obj[a] = 'hello'var arr = Object.getOwnPropertySymbols(obj)// &gt; arr// [ Symbol(a) ]Object.preventExtensions()æè¿° :ä½¿å¾—å¯¹è±¡å˜å¾—ä¸å¯æ‰©å±•. å³è®¾ç½®å¯¹è±¡å†…éƒ¨ [[Extensible]] å€¼ä¸º false.Object.preventExtensions(target)target : ç›®æ ‡å¯¹è±¡.12345678910111213141516171819202122232425let obj_1 = &#123; a: 'hello', b: &#123; c: 'world' &#125;&#125;let property_1 = Object.getOwnPropertyDescriptor(obj_1, 'a')let boolean_1 = Object.isExtensible(obj_1)Object.preventExtensions(obj_1)let property_2 = Object.getOwnPropertyDescriptor(obj_1, 'a')let boolean_2 = Object.isExtensible(obj_1)// &gt; property_1// &#123; value: 'hello',// writable: true,// enumerable: true,// configurable: true &#125;// &gt; property_2// &#123; value: 'hello',// writable: true,// enumerable: true,// configurable: true &#125;// &gt; boolean_1// true// &gt; boolean_2// falseObject.seal()æè¿° :ä½¿å¾—å¯¹è±¡å˜å¾—ä¸å¯æ‰©å±•. å³è®¾ç½®å¯¹è±¡å†…éƒ¨ [[Extensible]] å€¼ä¸º false. å¯¹è±¡å±æ€§çš„ [[Configurable]] ä¸º false.Object.seal(target)target : ç›®æ ‡å¯¹è±¡.12345678910111213141516171819202122232425let obj_1 = &#123; a: 'hello', b: &#123; c: 'world' &#125;&#125;let property_1 = Object.getOwnPropertyDescriptor(obj_1, 'a')let boolean_1 = Object.isExtensible(obj_1)Object.seal(obj_1)let property_2 = Object.getOwnPropertyDescriptor(obj_1, 'a')let boolean_2 = Object.isExtensible(obj_1)// &gt; property_1// &#123; value: 'hello',// writable: true,// enumerable: true,// configurable: true &#125;// &gt; property_2// &#123; value: 'hello',// writable: true,// enumerable: true,// configurable: false &#125;// &gt; boolean_1// true// &gt; boolean_2// falseObject.freeze()æè¿° :å†»ç»“ä¸€ä¸ªå¯¹è±¡, å°†ä¸èƒ½å‘è¯¥å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§, ä¸èƒ½ä¿®æ”¹ã€åˆ é™¤å·²æœ‰å±æ€§, ä»¥åŠä¸èƒ½ä¿®æ”¹å·²æœ‰å±æ€§çš„å¯æšä¸¾æ€§ã€å¯é…ç½®æ€§ã€å¯å†™æ€§. å¦‚æœå±æ€§æ˜¯å¯¹è±¡, é™¤éè¢«å†»ç»“, å¦åˆ™ä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹çš„. æ•°ç»„ä½œä¸ºå¯¹è±¡, è¢«å†»ç»“å, å…ƒç´ ä¸å¯è¢«ä¿®æ”¹. [[Extensible]] å†…éƒ¨å±æ€§ä¸º false. å¯¹è±¡å±æ€§çš„ [[Configurable]] ä¸º false. è‹¥æ˜¯å¯¹è±¡å±æ€§æè¿°ç¬¦ä¸ºæ•°æ®æè¿°ç¬¦, åˆ™å¯¹è±¡å±æ€§çš„ [[Writable]] ä¸º false.è¯­æ³• :Object.freeze(target)target : ç›®æ ‡å¯¹è±¡.1234567891011121314151617181920212223242526272829let obj_1 = &#123; a: 'hello', b: &#123; c: 'world' &#125;&#125;let property_1 = Object.getOwnPropertyDescriptor(obj_1, 'a')let boolean_1 = Object.isExtensible(obj_1)Object.freeze(obj_1)let property_2 = Object.getOwnPropertyDescriptor(obj_1, 'a')let boolean_2 = Objct.isExtensible(obj_1)obj_1.a = 'hi'obj_1.b.c = 'ä¸–ç•Œ'// &gt; obj_1// &#123; a: 'hello', b: &#123; c: 'ä¸–ç•Œ' &#125; &#125;// &gt; property_1// &#123; value: 'hello',// writable: true,// enumerable: true,// configurable: true &#125;// &gt; property_2// &#123; value: 'hello',// writable: false,// enumerable: true,// configurable: false &#125;// &gt; boolean_2// true// &gt; boolean_2// falseObject.isExtensible()æè¿° :åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯æ‰©å±•çš„. å³æ˜¯å¦å¯æ·»åŠ æ–°çš„å±æ€§. æ–°å¯¹è±¡ [[Extensible]] é»˜è®¤ä¸º true . Object.preventExtensions(target), Object.seal(target) æˆ– Object.freeze(target) å¯å°†ç›®æ ‡å¯¹è±¡å†…éƒ¨å±æ€§ [[Extensible]] ç½®ä¸º false.è¯­æ³• :Object.isExtensible(target)target : ç›®æ ‡å¯¹è±¡.12345678let obj = &#123;&#125;let boolean_1 = Object.isExtensible(obj)Object.freeze(obj)let boolean_2 = Object.isExtensible(obj)// &gt; boolean_1// true// &gt; boolean_2// falseOObject.isSealed()æè¿° :åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¢«å¯†å°. è‹¥å¯¹è±¡çš„å†…éƒ¨å±æ€§ [[Extensible]] ä¸º false, è¿”å› true. è‹¥å¯¹è±¡å±æ€§çš„ [[Configurable]] ä¸º true, è¿”å› false. å¦åˆ™, è¿”å› false.è¯­æ³• :Object.isSealed(target)target : ç›®æ ‡å¯¹è±¡.123456789101112let obj = &#123;&#125;let boolean_1 = Object.isFrozen(obj)Object.defineProperty(obj, 'a', &#123;configurable: false&#125;)let boolean_2 = Object.isFrozen(obj)Object.preventExtensions(obj)let boolean_3 = Object.isFrozen(obj)// &gt; boolean_1// false// &gt; boolean_2// false// &gt; boolean_3// trueObject.isFrozen()æè¿° :åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¢«å†»ç»“. è‹¥å¯¹è±¡çš„å†…éƒ¨å±æ€§ [[Extensible]] ä¸º false, è¿”å› true. è‹¥å¯¹è±¡å±æ€§çš„ [[Configurable]] ä¸º true, è¿”å› false. è‹¥æ˜¯å¯¹è±¡å±æ€§æè¿°ç¬¦ä¸ºæ•°æ®æè¿°ç¬¦, å¯¹è±¡å±æ€§çš„ [[Writable]] ä¸º true, è¿”å› false. å¦åˆ™, è¿”å› false.è¯­æ³• :Object.isFrozen(target)target : ç›®æ ‡å¯¹è±¡.12345678910111213141516171819202122232425let obj = &#123;&#125;let boolean_1 = Object.isFrozen(obj)Object.freeze(obj)let boolean_2 = Object.isFrozen(obj)// &gt; boolean_1// true// &gt; boolean_2// falselet obj = &#123;&#125;let boolean_1 = Object.isFrozen(obj)Object.defineProperty(obj, 'a', &#123;writable: false&#125;)let boolean_2 = Object.isFrozen(obj)Object.defineProperty(obj, 'a', &#123;configurable: false&#125;)let boolean_3 = Object.isFrozen(obj)Object.preventExtensions(obj)let boolean_4 = Object.isFrozen(obj)// &gt; boolean_1// false// &gt; boolean_2// false// &gt; boolean_3// false// &gt; boolean_4// trueObject.setPrototypeOf()æè¿° :ä½¿å¾—å¯¹è±¡å˜å¾—ä¸å¯æ‰©å±•. å³è®¾ç½®å¯¹è±¡å†…éƒ¨ [[Extensible]] å€¼ä¸º false. å¯¹è±¡å±æ€§çš„ [[Configurable]] ä¸º false.Object.setPrototypeOf(target, prototype)target : ç›®æ ‡å¯¹è±¡.prototype : åŸå‹å¯¹è±¡(å¯¹è±¡æˆ– null).123456let obj_1 = &#123;a: 1&#125;let obj_2 = &#123;b: 2&#125;Object.setPrototypeOf(obj_2, obj_1)let proto_1 = Object.getPrototypeOf(obj_2)// &gt; proto_1// &#123; a: 1 &#125;Object.getPrototypeOf()æè¿° :è·å–ç»™å®šå¯¹è±¡çš„åŸå‹(å†…éƒ¨ [[Prototype]] å±æ€§çš„å€¼). è‹¥æ²¡æœ‰å³æˆå±æ€§, åˆ™è¿”å› null.è¯­æ³• :Object.getOwnPropertyNames(target)target : ç›®æ ‡å¯¹è±¡.12345678910111213function Person() &#123;&#125;let person = new Person()let a = Object.getPrototypeOf(person)// &gt; a// Person &#123;&#125;let obj = &#123;&#125;let obj_1 = Object.create(obj)let obj_2 = Object.getPrototypeOf(obj_1)// &gt; obj_2// &#123;&#125;// &gt; obj_2 === obj// trueObject.is()æè¿° :åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰. è§„åˆ™å’ŒæŠ½è±¡ç›¸ç­‰ã€ä¸¥æ ¼ç›¸ç­‰ä¸ä¸€æ ·.è¯­æ³• :Object.is(target1, target2)target : éœ€è¦æ¯”è¾ƒçš„ä¸¤ä¸ªå€¼.1234567Object.is(undefined, undefined) // trueObject.is(null, null) // trueObject.is(true, true) // trueObject.is(false, false) // trueObject.is(+0, +0) // trueObject.is(NaN, NaN) // true *Object.is(-0, -0) //true]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>æ„é€ å‡½æ•°</tag>
        <tag>Object</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°ä¸ä½çš„ç»§æ‰¿æ–¹å¼]]></title>
    <url>%2F%E8%AE%B0%E4%B8%8D%E4%BD%8F%E7%9A%84%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[è®°ä¸ä½çš„ç»§æ‰¿æ–¹å¼éƒ½è¯´ç¨‹åºå‘˜æ˜¯è¿™ä¸ªä¸–ç•Œä¸Šæœ€æ‡’çš„äºº, èƒ½èººç€ç»ä¸åç€, å…¨å¹²ç€å¤åˆ¶é»è´´çš„æ´».â€˜ä»€ä¹ˆ, ä½ è¯´è¿™å¥—é€»è¾‘ä¹‹å‰å†™è¿‡?!?! é€Ÿé€ŸæŠŠä»£ç å‘ˆä¸Šæ¥!!!â€™.æœ€æ‡’çš„äººå¾€å¾€ä¿¡å¥‰ç€â€˜æ‹¿æ¥ä¸»ä¹‰â€™. è‹¥åªæ˜¯ç®€å•çš„å¤åˆ¶é»è´´, å°±ä¼šæ˜¾å¾—æ²¡æœ‰é€¼æ ¼.åœ¨ JavaScript ä¸­, é‡å¤ç”¨åˆ°çš„é€»è¾‘æˆ‘ä»¬ä¼šç”¨å‡½æ•°åŒ…è£…èµ·æ¥, åœ¨åˆé€‚ä¸”éœ€è¦çš„æƒ…å†µä¸‹, è°ƒç”¨è¯¥å‡½æ•°å³å¯. è€Œ apply, call, new ç­‰æ–¹æ³•ä¹Ÿæ‹“å®½äº†å‡½æ•°çš„ä½¿ç”¨åœºæ™¯.é™¤äº†è¿™ç§å€Ÿæ¥çš„, æˆ‘ä»¬è¿˜æœ‰ç»§æ‰¿æ¥çš„. è¿™å°±æ˜¯å¸¸è¯´çš„åŸå‹ç»§æ‰¿. å½“å¯¹è±¡æœ¬èº«æ²¡æœ‰è¦æŸ¥è¯¢çš„å±æ€§æˆ–æ–¹æ³•æ—¶, å®ƒä¼šæ²¿ç€åŸå‹é“¾æŸ¥æ‰¾, æ‰¾åˆ°äº†å°±ä¼šæ‹¿æ¥ä½¿ç”¨. è¿™ç§â€™æ— â€™ä¸­ç”Ÿæœ‰çš„äº‹, ä¸å¦¨äº†è§£ä¸€ä¸‹.é¢„å¤‡çŸ¥è¯†é»˜è®¤æƒ…å†µä¸‹, æ‰€æœ‰çš„åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª constructor (æ„é€ å‡½æ•°)å±æ€§, è¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡å‘ prototype å±æ€§æ‰€åœ¨å‡½æ•°çš„æŒ‡é’ˆ. æ„é€ å‡½æ•°çš„åŸå‹ prototype ä¸Š constructor çš„åˆå§‹å€¼æ˜¯æ„é€ å‡½æ•°æœ¬èº«. å³,1Function.prototype.constructor === Function // trueç”±æ„é€ å‡½æ•°æ„é€ å‡ºæ¥çš„å®ä¾‹æœ¬èº«æ²¡æœ‰ constructor å±æ€§, ä¸è¿‡å¯ä»¥é€šè¿‡åŸå‹é“¾ç»§æ‰¿è¿™ä¸ªå±æ€§.1234567// ä»¥ä¸‹personçš„constructorå±æ€§ç»§æ‰¿è‡ªPerson.prototypefunction Person() &#123;&#125;Person.prototype.constructor === Person // truelet person = new Person();person.constructor === Person // trueperson.hasOwnProperty('constructor') === false // trueperson_1.constructor === Person.prototype.constructor // trueç®€å•æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹èµ‹å€¼ä¼ å‚çš„åŒºåˆ«.JavaScript ä¸­å˜é‡ä¸å¯èƒ½æˆä¸ºåªæƒ³å¦ä¸€ä¸ªå˜é‡çš„å¼•ç”¨. å¼•ç”¨æŒ‡å‘çš„æ˜¯å€¼. å¤æ‚æ•°æ®ç±»å‹çš„å¼•ç”¨æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªå€¼.å®ƒä»¬ç›¸äº’ä¹‹é—´æ²¡æœ‰å¼•ç”¨/æŒ‡å‘å…³ç³». ä¸€æ—¦å€¼å‘ç”Ÿå˜åŒ–, æŒ‡å‘è¯¥å€¼çš„å¤šä¸ªå¼•ç”¨å°†å…±äº«è¿™ä¸ªå˜åŒ–.new, apply, call çš„å‡½æ•°è°ƒç”¨æ¨¡å¼.ä¸‰è€…çš„å…±åŒç‚¹éƒ½æ˜¯éƒ½æ˜¯æŒ‡å®šè°ƒç”¨å‡½æ•°çš„ this å€¼. è¿™ä½¿å¾—åŒä¸€ä¸ªå‡½æ•°å¯ä»¥åœ¨ä¸åŒçš„è¯­å¢ƒä¸‹æ­£ç¡®æ‰§è¡Œ. new æ›´ä¸ºå¤æ‚ä¸€äº›. å¯å¤§è‡´æ¨¡æ‹Ÿä¸º,12345function new(constructor, arguments) &#123; let instance = Object.create(constructor.prototype) // å§‘ä¸”ç§°ä¹‹ä¸º new çš„ç‰¹æ€§ä¸€ constructor.apply(instance, arguments) // å§‘ä¸”ç§°ä¹‹ä¸º new çš„ç‰¹æ€§äºŒ return instance&#125;å¾ˆæ˜æ˜¾, new çš„æ“ä½œä¸­åŒ…æ¶µäº† apply, call è¦åšçš„äº‹. åœ¨æ­¤å¤§èƒ†çŒœæµ‹ä¸€ä¸‹, åœ¨å®ç°ç»§æ‰¿çš„è¿‡ç¨‹ä¸­, ä¸€æ—¦åŒæ—¶å‡ºç° new å’Œ apply æˆ– call, å°±ä¼šæœ‰é‡å¤äº¤é›†çš„å¯èƒ½, è¿™æ—¶å°±éœ€è¦æƒ³æƒ³æ˜¯å¦æœ‰å¯ä»¥æ”¹è¿›çš„åœ°æ–¹.ä¸ç€ç—•è¿¹çš„æ‹¿æ¥ä¸»ä¹‰â€˜å„å•ä½è¯·æ³¨æ„, ä¸‹é¢åˆ°æˆ‘è¡¨æ¼”åœ°æ—¶å€™äº†â€™â€˜ä¸Šé“å…·!â€™12345function Animal(name) &#123; this.name = name&#125;Animal.prototype.species = 'animal'function Leo() &#123;&#125; // æˆ‘æ˜¯å¤´å°ç‹®å­æƒ³è¦æ— ä¸­ç”Ÿæœ‰, é‚£æ˜¯ä¸å¯èƒ½çš„ğŸ˜, æ‰€ä»¥æˆ‘ä»¬å‡†å¤‡äº†æ¨¡æ¿ Animal. Animal æœ‰çš„ä¸œè¥¿, Leo ä¹Ÿæƒ³æ‹¥æœ‰.è€Œä¸” Animal èƒ½ç”¨åœ°ä¸œè¥¿ä¹ŸåŒæ ·é€‚ç”¨äº Leo.æ‰€ä»¥, æˆ‘ä»¬æœŸå¾… Leo æœ€ç»ˆé•¿æˆè¿™ä¸ªæ ·å­.1234function Leo(name) &#123; this.name = name&#125;Leo.prototype.species = 'animal'â€˜å°±é•¿è¿™å‰¯ç†Šæ ·!? è¿™å’Œç®€å•çš„å¤åˆ¶é»è´´æœ‰ä»€ä¹ˆåŒºåˆ«!? è¿™å’Œå’¸é±¼åˆæœ‰ä»€ä¹ˆåŒºåˆ«!ï¼Ÿ è¯´å¥½çš„é€¼æ ¼å‘¢ï¼ï¼Ÿâ€™è§‚å¯Ÿä¸€ä¸‹ Leo, Leo æ„é€ å‡½æ•°å†…éƒ¨é€»è¾‘å’Œ Animal æ„é€ å‡½æ•°çš„å†…éƒ¨é€»è¾‘å¦‚å‡ºä¸€è¾™. æ—¢ç„¶éƒ½æ˜¯ä¸€æ ·çš„, ä¸ºä»€ä¹ˆä¸èƒ½å€Ÿæ¥ç”¨ç”¨å‘¢? æ”¹é€ ä¸€ä¸‹,12345678function Animal(name) &#123; this.name = name&#125;Animal.prototype.species = 'animal'function Leo(name) &#123; Animal.call(this, name)&#125;è¿™ç§åœ¨æ„é€ å‡½æ•°å†…éƒ¨å€Ÿå‡½æ•°è€Œä¸å€ŸåŠ©åŸå‹ç»§æ‰¿çš„æ–¹å¼è¢«ç§°ä¹‹ä¸º å€Ÿç”¨æ„é€ å‡½æ•°å¼ç»§æ‰¿.æŠŠå±æ€§å’Œæ–¹æ³•æ”¾åœ¨æ„é€ å‡½æ•°å†…éƒ¨çš„å®šä¹‰, ä½¿å¾—æ¯ä¸ªæ„é€ å‡ºæ¥çš„å®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•. è€Œå¯¹ä¸€äº›éœ€è¦å®ä¾‹é—´å…±äº«çš„å±æ€§æˆ–æ–¹æ³•å´æ˜¯æ²¡è¾™.å½“ç„¶äº†, æˆ‘ä»¬æœ¬æ¥å°±æ²¡æ‰“ç®—æ­¢æ­¥äºæ­¤. æ„é€ å‡½æ•°å†…éƒ¨å¯ä»¥é å€Ÿ, é‚£åŸå‹ä¸Šå‘¢? å¦‚ä½•è®© Leo çš„åŸå‹ä¸Šèƒ½å’Œ Animal çš„åŸå‹ä¿æŒä¸€è‡´å‘¢?â€˜è¿™ä¸æ˜¯åºŸè¯ä¹ˆ? æˆ‘é™¤äº†ä¼šå€Ÿ, æˆ‘è¿˜ä¼šç»§æ‰¿å•Š, åŸå‹ç»§æ‰¿å•Š!!!â€™å…³äºåŸå‹é“¾, æˆ‘ä»¬å·²ç»çŸ¥é“æ˜¯æ€ä¹ˆä¸€å›äº‹äº†(ä¸çŸ¥é“çš„å¯å‚è€ƒä»Functionå…¥æ‰‹åŸå‹é“¾).åŸå‹ç»§æ‰¿å°±æ˜¯é€šè¿‡åŸå‹é“¾å®ç°äº†å¯¹è±¡æœ¬èº«æ²¡æœ‰çš„å±æ€§è®¿é—®å’Œæ–¹æ³•è°ƒç”¨. åˆ©ç”¨è¿™ä¸ªç‰¹æ€§, æˆ‘ä»¬å¯ä»¥åœ¨åŸå‹ä¸Šåšäº›æ‰‹è„š.æ€è·¯ä¸€: å¯ä»¥ä½¿å¾— Leo çš„ prototype ç›´æ¥æŒ‡å‘ Animal çš„ prototype.123456789function Animal(name) &#123; this.name = name&#125;Animal.prototype.species = 'animal'function Leo(name) &#123; Animal.call(this, name)&#125;Leo.prototype = Animal.prototypeè¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„, Leo.prototype = Animal.prototype è¿™ç§å†™æ³•å°±ç­‰äºå®Œå…¨è¦†å†™äº† Leo çš„åŸå‹, Leo.prototype.constructor å°†å’Œ Animal.prototype.constructor ä¿æŒä¸€è‡´, è¿™ä¼šä½¿å¾—ä¸€äº›ç­‰å¼æ˜¾å¾—è¯¡å¼‚.ä¸ä¿¡, è¯·çœ‹:1Leo.prototype.constructor === Animal.prototype.constructor === Animalé’ˆå¯¹è¿™ç§æƒ…å†µ, æˆ‘ä»¬å¾€å¾€ä¼šåšä¸€äº›ä¿®æ­£:123// æ¥ä¸Šä¾‹ä»£ç çœç•¥Leo.prototype = Animal.prototypeLeo.prototype.constructor = Leoå³ä½¿ä¿®æ­£å¥½äº†, å¯æ˜¯è¿˜æœ‰ä¸ªå¤§é—®é¢˜.é‚£å°±æ˜¯, å¦‚æœæƒ³ç»™ Leo åŸå‹æ·»åŠ å±æ€§æˆ–æ–¹æ³•, å°†ä¼šå½±å“åˆ° Animal, è¿›è€Œä¼šå½±å“åˆ°æ‰€æœ‰ Animal çš„å®ä¾‹. æ¯•ç«Ÿå®ƒä»¬çš„åŸå‹ä¹‹é—´å·²ç»ç”»äº†ç­‰å·.1234567// æ¥ä¸Šä¾‹ä»£ç çœç•¥let Dog = new Animal('dog')Dog.sayName // undefinedLeo.prototype.sayName = function() &#123; console.log(this.name)&#125;Dog.sayName() // dogâ€˜æˆ‘åªæƒ³å·ä¸ªæ‡’, æ²¡æƒ³è¿‡è¦æ£ä¹±å•ŠğŸ˜²!!!â€™ä¸ºäº†æ¶ˆé™¤è¿™ç§å½±å“, æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸­é—´çº½å¸¦è¿‡æ¸¡. è¿˜å¥½æˆ‘ä»¬çŸ¥é“ new å¯ä»¥ç”¨æ¥ä¿®æ”¹åŸå‹é“¾.æ€è·¯äºŒ: Leo çš„ prototype æŒ‡å‘ Animal çš„å®ä¾‹.12345678910function Animal(name) &#123; this.name = name&#125;Animal.prototype.species = 'animal'function Leo(name) &#123; Animal.call(this, name)&#125;Leo.prototype = new Animal()Leo.prototype.contructor = Leoè¿™ç§åœ¨æ„é€ å‡½æ•°å†…éƒ¨å€Ÿå‡½æ•°åŒæ—¶åˆå€ŸåŠ©åŸå‹ç»§æ‰¿çš„æ–¹å¼è¢«ç§°ä¹‹ä¸º ç»„åˆç»§æ‰¿. Leo æ¢ä¸ªè§’åº¦å…¶å®é•¿è¿™æ ·:12345678function Leo(name) &#123; this.name = name&#125;Leo.prototype = &#123; constructor: Leo, name: undefined, __proto__: Animal.prototype&#125;åœ¨è¿™ç§ç»§æ‰¿æ¨¡å¼ä¸­, Leo çš„å®ä¾‹å¯ä»¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•, å®ä¾‹ä¹‹é—´åˆå¯ä»¥é€šè¿‡ prototype æ¥å…±äº«å±æ€§å’Œæ–¹æ³•å´ä¸ä¼šå½±å“ Animal, è¿˜å¯ä»¥é€šè¿‡ _proto_ è¿½æº¯åˆ° Animal.prototype.ä¸€åˆ‡éƒ½å¾ˆå®Œç¾ğŸ‘. ä¸è¿‡è¿˜è®°å¾—æ–‡ç« å¼€å§‹æ—¶æ‰€è¯´çš„ä¹ˆåœ¨å®ç°ç»§æ‰¿çš„è¿‡ç¨‹ä¸­, ä¸€æ—¦åŒæ—¶å‡ºç° new å’Œ apply æˆ– call, å°±ä¼šæœ‰é‡å¤äº¤é›†çš„å¯èƒ½, è¿™æ—¶å°±éœ€è¦æƒ³æƒ³æ˜¯å¦æœ‰å¯ä»¥æ”¹è¿›çš„åœ°æ–¹.Animal è¢«è°ƒç”¨äº†ä¸¤æ¬¡, ç¬¬ä¸€æ¬¡æ˜¯ Leo æ„é€ å‡½æ•°å†…éƒ¨ä½œä¸ºä¸€ä¸ªæ™®é€šå‡½æ•°è¢«è°ƒç”¨, ç¬¬äºŒæ¬¡æ˜¯è¢«ä½œä¸ºæ„é€ å‡½æ•°æ„é€ ä¸€ä¸ªå®ä¾‹å……å½“ Leo çš„åŸå‹.Animal å†…éƒ¨å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•åŒæ—¶å‡ºç°åœ¨ Leo çš„åŸå‹å’Œ Leo çš„å®ä¾‹ä¸Š. å®ä¾‹ä¸Šæœ‰çš„ä¸œè¥¿å°±ä¸ä¼šå†åˆ°åŸå‹ä¸ŠæŸ¥æ‰¾. åä¹‹, å®ä¾‹ä¸Šæ²¡æœ‰çš„ä¸œè¥¿æ‰ä¼šåˆ°åŸå‹ä¸ŠæŸ¥æ‰¾. æ˜¾ç„¶, æœ‰å¤šä½™çš„å­˜åœ¨.â€˜è¿™ä¸æ˜¯æœ€ä¼˜è§£, æˆ‘è¦æœ€å¥½çš„! ä¸‹ä¸€ä¸ª!â€™æ€è·¯ä¸‰: æ—¢ç„¶æœ‰é‡å¤, é‚£å°±å»å…¶ä¸€å‘—. æ—¢ç„¶ new æ¯” call å’Œ apply å‰å®³, é‚£å°±ç•™ç€ new å§.12345678function Animal(name) &#123; this.name = name&#125;Animal.prototype.species = 'animal'function Leo(name) &#123;&#125;Leo.prototype = new Animal()Leo.prototype.contructor = Leoè¿™ç§åœ¨æ„é€ å‡½æ•°å†…éƒ¨ä¸å€Ÿå‡½æ•°åªå€ŸåŠ©åŸå‹ç»§æ‰¿çš„æ–¹å¼è¢«ç§°ä¹‹ä¸º åŸå‹é“¾ç»§æ‰¿.ç»è¿‡è¿™ä¹ˆä¸€æŠ˜è…¾, å‘ç°ä¸å¥½çš„åœ°æ–¹æœ‰å¢æ— å‡. å®ä¾‹æ²¡äº†è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•äº†, è¿ Animal æ„é€ å‡½æ•°å†…éƒ¨å®šä¹‰çš„å±æ€§æ–¹æ³•éƒ½å¯ä»¥åœ¨å®ä¾‹é—´å…±äº«äº†(æ€è·¯äºŒä¹Ÿå­˜åœ¨è¿™ä¸ªé—®é¢˜), è€Œä¸”å‚æ•°ä¹Ÿä¸ç»™ä¼ äº†.â€˜æˆ‘è¦çš„ä¸å¤š, èƒ½è½»ç‚¹æŠ˜è…¾ä¸, å¿ƒè„ä¸å¥½â€™å›åˆ° æ€è·¯äºŒ, é‚£å°±åˆ äº† new å§.æ€è·¯å››: æ¥ä¸Š æ€è·¯äºŒ, åˆ äº† new, é‚£åªèƒ½åœ¨åŸå‹ä¸Šåšè°ƒæ•´äº†.æˆ‘ä»¬ä»ä¸€å¼€å§‹å°±åªæ˜¯å¸Œæœ› Leo çš„ prototype æŒ‡å‘ Animal çš„ prototype, ä¸å¤šä¸å°‘ä¸”ä¸ä¼šå‡ºç° æ€è·¯ä¸€ çš„åå½±å“.æ—¢ç„¶ä¸èƒ½ç›´æ¥åœ¨ä¸¤è€…ä¹‹é—´ç”»ç­‰å·, å°±é€ ä¸€ä¸ªè¿‡æ¸¡çº½å¸¦å‘—. èƒ½å¤Ÿå…³è”èµ·åŸå‹é“¾çš„ä¸åªæœ‰ new, Object.create() ä¹Ÿæ˜¯å¯ä»¥çš„.åˆ›å»ºä¸€ä¸ª _proto_ æŒ‡å‘ Animal.prototype çš„å¯¹è±¡å……å½“ Leo çš„åŸå‹ä¸å°±è§£å†³é—®é¢˜äº†ä¹ˆ.12345678910function Animal(name) &#123; this.name = name&#125;Animal.prototype.species = 'animal'function Leo(name) &#123; Animal.call(this, name)&#125;Leo.prototype = Object.create(Animal.prototype)Leo.prototype.contructor = Leoè¿™ç§åœ¨æ„é€ å‡½æ•°å†…éƒ¨å€Ÿå‡½æ•°åŒæ—¶åˆé—´æ¥å€ŸåŠ©åŸå‹ç»§æ‰¿çš„æ–¹å¼è¢«ç§°ä¹‹ä¸º å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿.è¿™ç§æ¨¡å¼å®Œç¾è§£å†³äº† æ€è·¯äºŒ çš„å¼Šç«¯. ç®—æ˜¯è¾ƒä¸ºç†æƒ³çš„ç»§æ‰¿æ¨¡å¼å§.â€˜ç¡®è®¤è¿‡çœ¼ç¥, ä½ æ‰æˆ‘æƒ³è¦çš„!â€™ä»¥ä¸Šè¿˜æ˜¯åªæ˜¯æ„é€ å‡½æ•°é—´çš„ç»§æ‰¿, è¿˜æœ‰åŸºäºå·²å­˜åœ¨å¯¹è±¡çš„ç»§æ‰¿, è­¬å¦‚, åŸå‹å¼ç»§æ‰¿ å’Œ å¯„ç”Ÿå¼ç»§æ‰¿ç­‰.è®²çœŸ, è¯´äº†è¾£ä¹ˆå¤š, æˆ‘è¿˜çœŸæ²¡è®°ä½ å€Ÿç”¨æ„é€ å‡½æ•°å¼ç»§æ‰¿, ç»„åˆç»§æ‰¿, åŸå‹é“¾ç»§æ‰¿, å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿, åŸå‹å¼ç»§æ‰¿, å¯„ç”Ÿå¼ç»§æ‰¿ç­‰.â€˜ä½ æ²¡è®°ä½è¿™ä¹ˆå¤šæ¨¡å¼, é‚£ä½ éƒ½è®°ä½ä»€ä¹ˆäº†â€™ç­”æ›°: è¦æƒ³å¾ˆå¥½å¾—ç»§æ‰¿, ä¸€é æœ‹å‹, äºŒé æ‹¼çˆ¹.â€˜è¿™å­©å­æ˜¯ä¸æ˜¯å‚»? è¿™éƒ½ä»€ä¹ˆå¹´ä»£äº†? å†è¯´äº†, å°±æ²¡äººå‘Šè¯‰ä½ ä½ å®¶é‡Œæœ‰çŸ¿???â€™æ€è·¯äº”: ES6 å¼•å…¥äº† Classï¼ˆç±»ï¼‰è¿™ä¸ªæ¦‚å¿µï¼Œé€šè¿‡ class å…³é”®å­—ï¼Œå¯ä»¥å®šä¹‰ç±», Class å®è´¨ä¸Šæ˜¯ JavaScript ç°æœ‰çš„åŸºäºåŸå‹çš„ç»§æ‰¿çš„è¯­æ³•ç³–. Class å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿. æˆ‘ä»¬å¯ä»¥å¯¹ æ€è·¯å›› æ¥ä¸ªåä¸½å˜èº«.123456789101112class Animal &#123; constructor(name) &#123; this.name = name &#125;&#125;Animal.prototype.species = 'animal'class Leo extends Animal &#123; constructor(name) &#123; super(name) &#125;&#125;ç»è¿‡è¿™ä¹ˆä¸€å¤„ç†åè¡Œä¸ºä¸Šå’Œ æ€è·¯å›› åŸºæœ¬æ²¡ä»€ä¹ˆåŒºåˆ«, constructor(){} å……å½“äº†ä¹‹å‰çš„æ„é€ å‡½æ•°, super() ä½œä¸ºå‡½æ•°è°ƒç”¨æ‰®æ¼”ç€ Animal.call(this, name) çš„è§’è‰²(è¿˜å¯ä»¥è¡¨ç¤ºçˆ¶ç±»). æœ€é‡è¦çš„æ˜¯ Leo çš„ _proto_ ä¹ŸæŒ‡å‘äº† Animal.â€˜çŸ¿å¤šåŸºå› å¥½, å•§å•§å•§, æˆ‘éƒ½å¿«è¦å–œæ¬¢ä¸Šæˆ‘è‡ªå·±äº†ğŸ˜â€™]]></content>
      <categories>
        <category>å¾ˆéš¾ä¹ˆ</category>
      </categories>
      <tags>
        <tag>JavaScriptç»§æ‰¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®©Pythonæ¼«æ­¥åœ¨æµè§ˆå™¨ä¸Š]]></title>
    <url>%2F%E8%AE%A9Python%E6%BC%AB%E6%AD%A5%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8A%2F</url>
    <content type="text"><![CDATA[éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„æ™®åŠï¼Œè¶Šæ¥è¶Šå¤šçš„å‰ç«¯ç¨‹åºå‘˜å¼€å§‹å…³æ³¨ç›¸å…³æŠ€æœ¯ã€‚Python ä½œä¸ºäººå·¥æ™ºèƒ½é¢†åŸŸæœ€å¸¸ç”¨çš„è¯­è¨€ï¼Œä¸å‰ç«¯ç¨‹åºå‘˜æ—¥å¸¸ä½¿ç”¨çš„è¯­è¨€ JavaScript åŒå±è„šæœ¬è¯­è¨€ï¼Œä¸”åœ¨ä¸¤è€…å‘å±•è¿‡ç¨‹ä¸­ï¼Œç¤¾åŒºä¹Ÿå¤šæœ‰ç›¸äº’å€Ÿé‰´ä¹‹å¤„ï¼Œå› æ­¤æœ‰å¾ˆå¤šç›¸ä¼¼ã€‚ä¸€ä¸ªç†Ÿæ‚‰ JavaScript è¯­è¨€çš„å‰ç«¯ç¨‹åºå‘˜ï¼Œé€šè¿‡æŒæ¡äº†ä»–ä»¬ä¹‹é—´çš„ä¸åŒä¹‹å¤„ï¼Œå¯ä»¥å¿«é€Ÿä¸Šæ‰‹ Python.å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹? å¯¹äºä¸€ä¸ªå‰ç«¯ç¨‹åºå‘˜æ¥è¯´, å¦‚æœèƒ½å¤Ÿåœ¨ç†Ÿæ‚‰çš„æµè§ˆå™¨ç¯å¢ƒä¸‹å­¦ä¹ , æœ€å¥½ä¸è¿‡äº†. æ‰€ä»¥, é‚£å°±æ‰‹æ’¸ä¸€ä¸ª Pathon åœ¨çº¿ç¼–ç¨‹. è€Œæœ¬æ–‡çš„é‡ç‚¹åˆ™æ˜¯æœ¬åœ°æ–‡ä»¶çš„æ“ä½œ, ä»¥ä¸‹æ‰€æœ‰ä»£ç å¯è§åœ¨çº¿demo.File APIFileReaderå°† File å’Œ Blob ç±»å‹çš„æ–‡ä»¶æˆ–æ•°æ®å¼‚æ­¥è¯»å…¥å†…å­˜.InstanceOfFileReader PropertiesinstanceOfFileReader.error(åªè¯») : åœ¨è¯»å–æ—¶çš„å‡ºç°çš„é”™è¯¯.instanceOfFileReader.readyState(åªè¯») : æä¾›è¯»å–æ“ä½œæ—¶çš„çŠ¶æ€.Value(readyState)State(FileReader)Description0EMPTYæœªåŠ è½½ä»»ä½•æ•°æ®1LOADINGåŠ è½½æ•°æ®ä¸­2DONEå·²å®Œæˆæ•°æ®è¯»å–instanceOfFileReader.result(åªè¯») : è¯»å–çš„ç»“æœ, è¦ä¹ˆæ˜¯ String, è¦ä¹ˆæ˜¯ ArrayBuffer, è¿™å–å†³äºè¯»å–çš„æ–¹æ³•, ä¸”ä»…åœ¨ load äº‹ä»¶è§¦å‘åå¯ç”¨.InstanceOfFileReader MethodsinstanceOfFileReader.abort() : ç»ˆæ­¢è¯»å–æ“ä½œ.instanceOfFileReader.readAsArrayBuffer() : ä»¥ ArrayBuffer ç±»å‹ä¸ºè¾“å‡ºç»“æœè¿›è¡Œè¯»å–.instanceOfFileReader.readAsDataURL() : ä»¥ Data URLs ç±»å‹ä¸ºè¾“å‡ºç»“æœè¿›è¡Œè¯»å–.instanceOfFileReader.readAsText() : ä»¥ String ç±»å‹ä¸ºè¾“å‡ºç»“æœè¿›è¡Œè¯»å–.InstanceOfFileReader Eventsonloadstart/loadstart : åœ¨è¯»å–æ“ä½œå¼€å§‹æ—¶è§¦å‘.onprogress/progress : åœ¨è¯»å–è¿‡ç¨‹ä¸­è§¦å‘ä»¥æ±‡æŠ¥å½“å‰è¯»å–è¿›åº¦.onload/load : åœ¨è¯»å–æ“ä½œæˆåŠŸå®Œæˆæ—¶è§¦å‘.onabort/abort : å› è°ƒç”¨ abort() è€Œç»ˆæ­¢è¯»å–æ—¶è§¦å‘.onerror/error : åœ¨è¯»å–æ—¶é‡åˆ°é”™è¯¯æ—¶è§¦å‘.onloadend/loadend : åœ¨è¯»å–æ“ä½œå®Œæˆæ—¶è§¦å‘(æ— è®ºæˆåŠŸæˆ–å¤±è´¥).12&lt;!-- html --&gt;&lt;input type='file' onchange='openFile(event)'&gt;123456789101112131415161718192021222324252627282930313233343536373839404142// jsconst stateNames = &#123; [FileReader.EMPTY] : 'EMPTY', [FileReader.LOADING] : 'LOADING', [FileReader.DONE] : 'DONE'&#125;;let openFile = function(event) &#123; let input = event.target; let reader = new FileReader(); // æ‰“å¼€æ³¨è§£å³å¯æŸ¥çœ‹éšè—å±æ€§ // reader.onloadstart = function() &#123; // reader.abort(); // &#125;; reader.onprogress = function(e) &#123; console.log('Event: ', e.type) &#125;; reader.onload = function(e) &#123; console.log('Event: ', e.type) &#125;; reader.onloadend = function(e) &#123; console.log('Event: ', e.type) console.log(reader.error.message); &#125;; reader.onabort = function(e) &#123; console.log('Event: ', e.type) &#125; reader.onerror = function(e) &#123; console.log('Event: ', e.type) console.log(reader.error.message); &#125; reader.onload = function()&#123; let dataURL = reader.result; console.log('ReadyState: ' + stateNames[reader.readyState]); console.log('Result: ', dataURL) &#125;; console.log('ReadyState: ' + stateNames[reader.readyState]); // æ‰“å¼€æ³¨è§£å³å¯æŸ¥çœ‹éšè—å±æ€§ // reader.readAsDataURL(input.files[0]); // reader.readAsArrayBuffer(input.files[0]) reader.readAsText(input.files[0]) console.log('ReadyState: ' + stateNames[reader.readyState]);&#125;;BlobåŸå§‹æ•°æ®çš„ä¸å¯å˜å¯¹è±¡. File å°±æ˜¯è¡ç”Ÿäº Blob.å½“ Blob ä½œä¸ºæ„é€ å‡½æ•°æ—¶, new Blob(blobParts, blobPropertyBag) æ¥å—ä¸¤ä¸ªå‚æ•° :=&gt; blobParts : ArrayBuffer, ArrayBufferView, Blob, æˆ– String å¯¹è±¡ç±»å‹ä¹‹ä¸€.=&gt; blobPropertyBag({type, endings}) : type=&gt; MIMEç±»å‹. endings(transparent|native) =&gt; ç”¨äºæŒ‡å®šåŒ…å«è¡Œç»“æŸç¬¦ \n çš„å­—ç¬¦ä¸²å¦‚ä½•è¢«å†™å…¥.InstanceOfBlob PropertiesinstanceOfBlob.size(åªè¯») : æ‰€åŒ…å«æ•°æ®çš„å¤§å°(ä»¥å­—èŠ‚ä¸ºå•ä½).instanceOfBlob.type(åªè¯») : æ‰€åŒ…å«æ•°æ®çš„MIMEç±»å‹, å¦‚æœç±»å‹æœªçŸ¥ï¼Œåˆ™è¯¥å€¼ä¸ºç©ºå­—ç¬¦ä¸².InstanceOfBlob MethodsinstanceOfBlob.slice([start, [end, [contentType]]]) : åˆ›å»ºåŸºäºåŸ Blob å¯¹è±¡æŒ‡å®šå­—èŠ‚èŒƒå›´å†…çš„æ•°æ®çš„æ–° Blob å¯¹è±¡, å¹¶èµ‹äºˆæ–° Blob å¯¹è±¡æŒ‡å®šç±»å‹. å¼‚äº Array.slice() å’Œ String.slice()12345678// jslet blob = new Blob( new String('hello world'), &#123;type: 'plain/text',endings: 'native'&#125;);let reader_1 = new FileReader();reader_1.onload = function() &#123; let result = reader_1.result; console.log('result: ', result, 'type: ', blob.type, 'size: ', blob.size)&#125;reader_1.readAsText(blob);FileFile æ˜¯ Blob çš„ä¸€ç§ç‰¹æ®Šç±»å‹, æ‰€ä»¥é€‚ç”¨ Blob çš„åœºæ™¯ä¹ŸåŒæ ·é€‚ç”¨äº File.File å¯¹è±¡å¯ä»¥æ˜¯æ¥è‡ªç”¨æˆ·åœ¨ä¸€ä¸ª &lt;input&gt; å…ƒç´ ä¸Šé€‰æ‹©æ–‡ä»¶åè¿”å›çš„ FileList å¯¹è±¡, ä¹Ÿå¯ä»¥æ¥è‡ªæ‹–æ”¾æ“ä½œç”Ÿæˆçš„ DataTransfer å¯¹è±¡, è¿˜å¯ä»¥æ˜¯æ¥è‡ªåœ¨ä¸€ä¸ª HTMLCanvasElement ä¸Šæ‰§è¡Œ mozGetAsFile() æ–¹æ³•åè¿”å›ç»“æœ.å½“ File ä½œä¸ºæ„é€ å‡½æ•°æ—¶, è¾ƒç±»ä¼¼äº Blob.new File(fileParts[, name[, filePropertyBag]]) æ¥å—ä¸¤ä¸ªå‚æ•° :=&gt; fileParts : ArrayBuffer, ArrayBufferView, Blob, æˆ– String å¯¹è±¡ç±»å‹ä¹‹ä¸€.=&gt; name : æ–‡ä»¶åç§°æˆ–æ–‡ä»¶è·¯å¾„.=&gt; blobPropertyBag({type, endings}) : type=&gt; MIMEç±»å‹. endings(transparent|native) =&gt; ç”¨äºæŒ‡å®šåŒ…å«è¡Œç»“æŸç¬¦ \n çš„å­—ç¬¦ä¸²å¦‚ä½•è¢«å†™å…¥.InstanceOfFile PropertiesinstanceOfFile.lastModified(åªè¯») : å½“å‰æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´, è‡ª 1970å¹´1æœˆ1æ—¥0:00 ä»¥æ¥çš„æ¯«ç§’æ•°.instanceOfFile.lastModifiedDate(åªè¯») : å½“å‰æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´.instanceOfFile.name(åªè¯») : å½“å‰æ–‡ä»¶çš„åç§°.instanceOfFile.webkitRelativePath(åªè¯») : å½“å‰æ–‡ä»¶çš„è·¯å¾„.instanceOfFile.size(åªè¯») : å½“å‰æ–‡ä»¶çš„å¤§å°(ä»¥å­—èŠ‚ä¸ºå•ä½).instanceOfFile.type(åªè¯») : å½“å‰æ–‡ä»¶çš„MIMEç±»å‹.InstanceOfFile Methodsç»§æ‰¿ä½¿ç”¨ Blob çš„æ–¹æ³•.FileReaderSyncä»¥åŒæ­¥çš„æ–¹å¼è¯»å– File æˆ– Blob å¯¹è±¡ä¸­çš„å†…å®¹, ä»…åœ¨ workers é‡Œå¯ç”¨, å› ä¸ºåœ¨ä¸»çº¿ç¨‹é‡Œè¿›è¡ŒåŒæ­¥ I/O æ“ä½œå¯èƒ½ä¼šé˜»å¡ç”¨æˆ·ç•Œé¢. æœ‰ç€å’Œ FileReader ç›¸åŒçš„è¯»å–æ–¹æ³•.URLæä¾›äº†å°† Blob ç”Ÿæˆ url çš„æ–¹æ³•, å¯ä½¿æœ¬åœ°å†…å®¹ç”Ÿæˆ url ä¼ ç»™æ¥å— url çš„ API.URL MethodsURL.createObjectURL() : ä¸ºæŒ‡å®šçš„ File æˆ– Blob æˆ– MediaSource å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ url.Lifetime of blob URLsURL.revokeObjectURL() : é‡Šæ”¾ä¹‹å‰ç”Ÿæˆçš„ url.123&lt;!-- html --&gt;&lt;input type='file' accept='image/*' onchange='uploadPicture(event)'&gt;&lt;div id='picture'&gt;&lt;/div&gt;12345678910111213141516171819202122232425262728293031323334// jslet picture = document.getElementById('picture');let uploadPicture = function(event) &#123;let target = event.target;let file = target.files[0];// URLlet img = document.createElement('img');let url = URL.createObjectURL(file);img.width = 300;img.src = url;img.onload = function() &#123; URL.revokeObjectURL(url);&#125;;picture.appendChild(img);// Auto downloadlet downLink = document.createElement('a');let downUrl = URL.createObjectURL(file, &#123; type: 'image/*' &#125;);downLink.download = `picture.png`;downLink.href = downUrl;downLink.click();URL.revokeObjectURL(downUrl);// FileReaderlet reader_3 = new FileReader();reader_3.onload = function() &#123; let result = reader_3.result; let img = document.createElement('img'); img.width = 300; img.src = result; picture.appendChild(img);&#125;reader_3.readAsDataURL(file);&#125;]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>File API</tag>
        <tag>FileReader</tag>
        <tag>Blob</tag>
        <tag>URL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FunctionåŸå‹æ–¹æ³•]]></title>
    <url>%2FFunction%E5%8E%9F%E5%9E%8B%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[FunctionFunction ä½œä¸ºæ„é€ å‡½æ•°ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Function å¯¹è±¡.æ¦‚è¿°è¯¦è§ä»Functionå…¥æ‰‹åŸå‹é“¾. Function ç”¨æ¥åˆ›å»ºå‡½æ•°å¯¹è±¡, è€Œ Function æœ¬èº«ä¹Ÿæ˜¯å‡½æ•°, æ‰€ä»¥æœ‰ä¸€ä¸ªè®©å¾ˆå¤šäººå›°æ‰°çš„åœ°æ–¹.1Object.getPrototypeOf(Function) === Function.prototype // trueåŸå‹æ–¹æ³•Function.prototype.toString()æè¿° :è¿”å›ä¸€ä¸ªè¡¨ç¤ºå½“å‰å‡½æ•°æºä»£ç çš„å­—ç¬¦ä¸².è¯­æ³• :function.toString()åœ¨å†…ç½®å‡½æ•°æˆ–ç”± Function.prototype.bind è¿”å›çš„å‡½æ•°ä¸Šè°ƒç”¨è¯¥æ–¹æ³•, åˆ™æœ‰:1234567891011String.toString()// "function String() &#123; [native code] &#125;"Number.toString()// "function Number() &#123; [native code] &#125;"String.bind(null).toString()// "function () &#123; [native code] &#125;"Number.bind(null).toString()// "function () &#123; [native code] &#125;"æ™®é€šå‡½æ•°è°ƒç”¨è¯¥æ–¹æ³•, åˆ™æœ‰:123456(function() &#123;&#125;).toString()// "function() &#123;&#125;"function man(params) &#123;console.log(params)&#125;man.toString()// "function man(params) &#123;console.log(params)&#125;"é Function å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•, ä¼šæŠ›å‡º TypeError.12Function.prototype.toString.call(&#123;&#125;)// TypeError: Function.prototype.toString requires that 'this' be a FunctionFunction.prototype.apply()æè¿° :ä¸ºè°ƒç”¨çš„å‡½æ•°æŒ‡å®š this å€¼, å³ this çš„æ‰§è¡Œä¸Šä¸‹æ–‡, å¹¶ä»¥æ•°ç»„çš„å½¢å¼ä¼ å…¥å‚æ•°.è¯­æ³• :function.apply(thisArg, argArray)thisArg : ç”¨äºæ”¹å˜å‡½æ•°ä½“å†…éƒ¨ this æŒ‡å‘çš„ context. å½“ argArray ä¸º undefined æˆ– null æ—¶, thisArg å°†æ›¿æ¢æˆå…¨å±€å¯¹è±¡. ä¸ºåŸºæœ¬ç±»å‹å€¼æ—¶, å°†ä¼šè¢«åŒ…è£…æˆç›¸åº”çš„å¯¹è±¡. å¦åˆ™å°†ä¸ä¼šåšä»»ä½•æ”¹å˜.argArray : æ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡. argArray é‡Œçš„å…ƒç´ å°†é€ä¸ªæ”¾å…¥å‚æ•°åˆ—è¡¨ä¸­. è‹¥æ£€æµ‹ argArray ä¸æ˜¯å¯¹è±¡, å°†ä¼šæŠ›å‡º TypeError é”™è¯¯.123456789101112131415161718192021222324252627282930313233343536373839const man = &#123; age: 18, sex: 'man', saySex() &#123; console.log(`I am a $&#123;this.sex&#125;`) &#125;&#125;const women = &#123; age: 16, sex: 'women'&#125;man.saySex.apply(women)// I am a women------------------------------function log_1(arg) &#123; console.log(arg)&#125;log_1(1);log_1(1,2,3);// 1// 1function log_2() &#123; const log = console.log; log.apply(null, arguments)&#125;log_2(1);log_2(1, 2, 3)// 1// 1 2 3------------------------------let a = ['h','e','l','l','o'];let b = ['w','o','r','l','d'];let push = Array.prototype.push;push.apply(a, b);console.log(a);// [ 'h', 'e', 'l', 'l', 'o', 'w', 'o', 'r', 'l', 'd' ]Function.prototype.call()æè¿° :ä¸ºè°ƒç”¨çš„å‡½æ•°æŒ‡å®š this å€¼, å³ this çš„æ‰§è¡Œä¸Šä¸‹æ–‡, å¹¶ä»¥åˆ—è¡¨çš„å½¢å¼ä¼ å…¥å‚æ•°.è¯­æ³• :function.call(thisArg[ , arg1 [ , arg2, â€¦, argN]])thisArg : ç”¨äºæ”¹å˜å‡½æ•°ä½“å†…éƒ¨ this æŒ‡å‘çš„ context. å½“ argArray ä¸º undefined æˆ– null æ—¶, thisArg å°†æ›¿æ¢æˆå…¨å±€å¯¹è±¡. ä¸ºåŸºæœ¬ç±»å‹å€¼æ—¶, å°†ä¼šè¢«åŒ…è£…æˆç›¸åº”çš„å¯¹è±¡. å¦åˆ™å°†ä¸ä¼šåšä»»ä½•æ”¹å˜.argN : å…¥å‚å°†ä»å·¦åˆ°å³çš„é¡ºåºåŠ å…¥åˆ°å‚æ•°åˆ—è¡¨ä¸­.123456789101112131415161718function Person(name, age) &#123; this.name = name; this.age = age;&#125;function Man(name, age) &#123; Person.call(this, name, age); this.sex = 'man';&#125;const Adam = new Man('Adam', 18);console.log(Adam)// Man &#123; name: 'Adam', age: 18, sex: 'man' &#125;------------------------------let a = ['h','e','l','l','o'];let push = Array.prototype.push;push.call(a, 'w','o','r','l','d');console.log(a);// [ 'h', 'e', 'l', 'l', 'o', 'w', 'o', 'r', 'l', 'd' ]Function.prototype.bind()æè¿° :åˆ›å»ºä¸€ä¸ªæ–°çš„ç»‘å®šå‡½æ•°, ä¸ºå‡½æ•°æŒ‡å®š this å€¼, å³ this çš„æ‰§è¡Œä¸Šä¸‹æ–‡, å¹¶ä»¥åˆ—è¡¨çš„å½¢å¼ä¼ å…¥å‚æ•°.è¯­æ³• :function.bind(thisArg[ , arg1 [ , arg2, â€¦, argN]])thisArg : è°ƒç”¨ç»‘å®šå‡½æ•°æ—¶ä½œä¸ºthiså‚æ•°ä¼ é€’ç»™ç›®æ ‡å‡½æ•°çš„å€¼.argN : å½“ç›®æ ‡å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œé¢„å…ˆæ·»åŠ åˆ°ç»‘å®šå‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°.1234567891011121314151617for(var i = 0; i &lt;= 3; i++) &#123; setTimeout((function(i) &#123; console.log('i', i) &#125;).bind(null, i), 1000)&#125;// 0// 1// 2// 3------------------------------// ç±»æ•°ç»„è½¬æ•°ç»„let argArray = Array.prototype.slice.call(arguments);// æˆ–let slice = Array.prototype.slice;let boundSlice = Function.prototype.call.bind(slice);boundSlice(arguments);]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>Function</tag>
        <tag>FunctionåŸå‹</tag>
        <tag>apply</tag>
        <tag>call</tag>
        <tag>bind</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Functionå…¥æ‰‹åŸå‹é“¾]]></title>
    <url>%2F%E4%BB%8EFunction%E5%85%A5%E6%89%8B%E5%8E%9F%E5%9E%8B%E9%93%BE%2F</url>
    <content type="text"><![CDATA[FunctionFunction æ˜¯å‡½æ•°? æ˜¯æ„é€ å‡½æ•°? è¿˜æ˜¯å‡½æ•°å¯¹è±¡? åœ¨ç¿»é˜… ECMA è§„èŒƒæ—¶, è¿™å‡ ä¸ªåè¯ä¹Ÿæ˜¯æ— ç¼åˆ‡æ¢ä¸­, ç¨ä¸ç•™ç¥å°±å¯èƒ½è·‘åäº†.éƒ½åº”è¯¥çŸ¥é“, æ„é€ å‡½æ•°æ˜¯ç”¨æ¥æ‰“é€ å…·æœ‰ç›¸åŒå±æ€§å’Œè¡Œä¸ºäº‹ç‰©çš„æ¨¡å…·.åœ¨ä½œä¸ºæ„é€ å‡½æ•°ä¹‹å‰, å®ƒé¦–å…ˆæ˜¯ä¸ªå‡½æ•°, å‡½æ•°æ˜¯å¯ä»¥è¢«è°ƒç”¨çš„(è¿™ä¹Ÿæ˜¯åŒºåˆ«äºå…¶å®ƒå¯¹è±¡çš„å› ç´ ). å®ƒæ˜¯ç”±ä¸€ç³»åˆ—è¯­å¥ç»„æˆ, å¹¶æœ€ç»ˆè¿”å›ä¸€ä¸ªå€¼. æ¯ä¸€ä¸ªå‡½æ•°è¢«åˆ›å»ºçš„æ—¶å€™, éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§.æ™®é€šå‡½æ•°èƒ½å¤Ÿå˜æˆæ„é€ å‡½æ•°, é‚£éƒ½æ˜¯ new å°†å‡½æ•°çš„ prototype å’Œç”Ÿæˆçš„å®ä¾‹å…³è”èµ·æ¥äº†. æ¢å¥è¯è¯´, æ¯ä¸ªæ™®é€šå‡½æ•°éƒ½æœ‰ç§°ä¸ºæ„å»ºå‡½æ•°çš„æ½œè´¨.12345678910111213141516// å¸¸è§çš„æ„é€ å‡½æ•°æ¨¡å¼function Man(name) &#123; this.name = name; this.sex = 'man';&#125;Man.prototype.sayHi = function() &#123; console.log('hello', this.name)&#125;let man_1 = new Man('å¤œæ›‰å®¸');// æˆ‘æ˜¯æ™®é€šå‡½æ•°function man(name) &#123; console.log('hello', name)&#125;// åªè¦ç»è¿‡ new è°ƒæ•™å, æˆ‘ä¹Ÿå¯ä»¥è¢«ç§°ä¸ºæ„é€ å‡½æ•°äº†let man_2 = new man('å¤œæ›‰å®¸');Functionå’Œå†…ç½®å‡½æ•°éƒ½è¯´å‡½æ•°æ˜¯ JavaScript é‡Œçš„å¤´ç­‰å¯¹è±¡, è¿™è¯ä¸€ç‚¹ä¸å‡. åœ¨ ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢æ­£å é‡Œå·²ç»æåˆ°è¿‡, JavaScript é‡Œçš„æ•°æ®ç±»å‹é™¤äº†åŸºæœ¬æ•°æ®ç±»å‹, å°±æ˜¯å¤æ‚æ•°æ®ç±»å‹. è€Œè¿™äº›å¤æ‚æ•°æ®ç±»å‹éƒ½å’Œ Function æœ‰ç€å¯†åˆ‡å…³ç³».Functionæ„é€ å‡½æ•°å‡½æ•°çš„èº«å½±åœ¨ JavaScript ä¸­éšå¤„å¯è§, æœ‰é€ å­—ç¬¦ä¸²ç±»å‹çš„ String å‡½æ•°, æœ‰é€ æ•°å€¼ç±»å‹çš„ Number å‡½æ•°, é™¤äº†è¿™äº›å†…ç½®å‡½æ•°, è¿˜æœ‰ä¸Šé¢æˆ‘è‡ªå·±å†™çš„ Man å’Œ man å‡½æ•°. JavaScript çš„ä½œè€…åœ¨å†™ JavaScript è¯­è¨€çš„æ—¶å€™, å¯èƒ½çŸ¥é“æœ‰ä¸”éœ€è¦ String, Number è¿™æ ·çš„å‡½æ•°å¤„ç†å†™æ•°æ®, äºæ˜¯æœ‰äº†å†…ç½®å‡½æ•°è¿™ä¹ˆä¸€è¯´. é‚£ä¹ˆå†…ç½®å‡½æ•°æ»¡è¶³ä¸äº†æˆ‘ä»¬çš„éœ€æ±‚å‘¢, å¦‚ä½•å»åˆ›å»ºä¸€ä¸ªå‡½æ•°å‘¢? å…¶å®, åœ¨æ²¡æœ‰è¿™äº›å†…ç½®å‡½æ•°ä¹‹å‰, å°±æœ‰äº†è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿. é‚£å°±æ˜¯ä¸ºåˆ›å»ºå‡½æ•°è€Œç”Ÿçš„å‡½æ•° â€”â€” Function. ç­‰ä¼šå„¿, æœ‰ç‚¹ç»•ğŸ˜µ, åˆ›å»ºå‡½æ•°çš„å‡½æ•°? é‚£å²‚ä¸æ˜¯æŠŠè‡ªå·±ä¹Ÿç»™åˆ›å»ºäº†ğŸ¤”? æ˜¯çš„, æ²¡é”™, å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªå¥‡è‘©çš„å­˜åœ¨.The Function constructor is the %Function% intrinsic object and the initial value of the Functionproperty of the global object. When Functionis called as a function rather than as a constructor, it creates and initializes a new Function object. Thus the function call Function(â€¦)is equivalent to the object creation expression new Function(â€¦)with the same arguments.æ‰€ä»¥è¯´, åŒ…æ‹¬è¿™äº›å†…ç½®å‡½æ•°, å®ƒä»¬éƒ½æ˜¯ç”± Function æ„å»ºå‡½æ•°é€ å‡ºæ¥çš„. å¦‚ä½•å»éªŒè¯å‡½æ•°æ˜¯ä¸æ˜¯å‡½æ•°é€ å‡ºæ¥çš„å‘¢?newæ“ä½œç¬¦All ordinary objects have an internal slot called [[Prototype]]. The value of this internal slot is either null or an object and is used for implementing inheritance.æ¯ä¸ªæ™®é€šå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª [[Prototype]], è¿™ä¸ªå±æ€§å°±æ˜¯ç”¨æ¥å®ç°åŸå‹ç»§æ‰¿ç”¨çš„.ä¸Šé¢ğŸ‘†ä¹Ÿæåˆ°äº†, åœ¨ç”¨æ„é€ å‡½æ•°é€  new å‡ºå®ä¾‹å¯¹è±¡æ—¶, å®ä¾‹å¯¹è±¡å†…éƒ¨çš„ [[Prototype]] ä¼šå…³è”åˆ°æ„é€ å‡½æ•°çš„ prototype æ‰€æŒ‡å‘çš„å¯¹è±¡. new ä¸»è¦åšä»¥ä¸‹ä¸¤ä»¶äº‹:å°†å®ä¾‹å¯¹è±¡çš„ [[Prototype]] å…³è”åˆ°æ„é€ å‡½æ•°çš„ prototype ä¸Š.å°† this ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ä¸Š, å¹¶è°ƒç”¨æ„é€ å‡½æ•°(å°±æ˜¯å°†å‡½æ•°ä½“é‡Œçš„è¯­å¥æ‰§è¡Œä¸€é).ç±»ä¼¼äº:1234567function New(func) &#123; const obj = &#123;&#125;; // _proto_ å’Œ [[Prototype]] ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿, åè€…æ˜¯å†…éƒ¨ä½¿ç”¨çš„. ojb._proto_ = func.prototype; func.call(obj); return obj;&#125;Object.getPrototypeOf() æ˜¯ç”¨æ¥æ£€æµ‹æŒ‡å®šå¯¹è±¡å†…éƒ¨ [[Prototype]] å±æ€§çš„å€¼.å¯¹äºä¸Šé¢ğŸ‘†çš„ Man å’Œ man_1 å…³ç³», è¯•ä¸€æ³¢.1Object.getPrototypeOf(man_1) === Man.prototype // true;Functionå’Œå‡½æ•°å›å¤´å†çœ‹çœ‹ String, Number, Boolean, Array, Object, Function, RegExp, Date, Error, Symbol è¿™äº›å†…ç½®å‡½æ•°å’Œ Function æ„é€ å‡½æ•°çš„å…³ç³»(æ³¨æ„åŒ…å«äº† Function è‡ªèº«). è¿™é‡Œæ˜¯æŠŠè¿™äº›å†…ç½®å‡½æ•°ä½œä¸ºç”± Function æ„é€ å‡ºæ¥çš„å®ä¾‹å¯¹è±¡å¯¹å¾…çš„. (å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡çš„ä¸€å­ç±»å‹)1234567891011121314151617181920212223Object.getPrototypeOf(String) === Function.prototype // trueObject.getPrototypeOf(Number) === Function.prototype // trueObject.getPrototypeOf(Boolean) === Function.prototype // trueObject.getPrototypeOf(Array) === Function.prototype // trueObject.getPrototypeOf(Object) === Function.prototype // trueObject.getPrototypeOf(Function) === Function.prototype // trueObject.getPrototypeOf(RegExp) === Function.prototype // trueObject.getPrototypeOf(Date) === Function.prototype // trueObject.getPrototypeOf(Error) === Function.prototype // trueObject.getPrototypeOf(Symbol) === Function.prototype // trueObject.getPrototypeOf(Man) === Function.prototype // true ğŸ‘€ğŸ‘†ğŸŒ°Object.getPrototypeOf(man_1) === Function.prototype // false ğŸ‘€ğŸ‘†ğŸŒ°åœ¨ä¹‹å‰çš„ ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢æ­£å å·²ç»çŸ¥é“äº†, JavaScript é‡Œçš„å¯¹è±¡ç±»å‹åŸºæœ¬ä¸Šä¹Ÿå°±æ˜¯é‚£ä¹ˆå¤š. ä»¥ä¸Šå‡½æ•°çš„åŸå‹é“¾, æœ€ç»ˆä¼šæŒ‡å‘ Function.prototype (ä»…ä¸ºç›®å‰, åé¢è¿˜æœ‰ Object.prototype å’Œ null ). è¿™ä¹Ÿæ˜¯è§£é‡Šäº†ä¸ºä»€ä¹ˆä»»ä½•ä¸€ä¸ªæ™®é€šå‡½æ•°éƒ½å¯ä»¥è°ƒç”¨ call , apply ç­‰ Functon.prototype ä¸Šçš„æ–¹æ³•.Functionå’ŒåŸå‹æ‰€æœ‰çš„å‡½æ•°çš„åŸå‹é“¾é‡Œéƒ½å°†ä¼šå‡ºç° Functon.prototype, ç”±æ„é€ å‡½æ•° new å‡ºæ¥çš„å®ä¾‹å¯¹è±¡çš„ [[Prototype]] ä¼šå…³è”åˆ°æ„é€ å‡½æ•° prototype ä¸Š.1234let num = new Number(0);Object.getPrototypeOf(num) === Number.prototype // trueObject.getPrototypeOf(Man) === Function.prototype // true ğŸ‘€ğŸ‘†ğŸŒ°åˆ°ç›®å‰ä¸ºæ­¢, ä»»ä½•å‡½æ•°æˆ–å¯¹è±¡éƒ½å¯ä»¥è¿½æº¯åˆ° Functon.prototype å’Œ æ„é€ å‡½æ•°çš„ prototype ä¸Š. é‚£ä¹ˆæ¥ä¸‹æ¥, åˆå¦‚ä½•æ²¿ç€åŸå‹é“¾å†å¾€åæ‰¾å‘¢?The Function prototype object is the intrinsic object %FunctionPrototype%. The Function prototype object is itself a built-in function object.è¿™å¥è¯å‘Šè¯‰æˆ‘ä»¬, Function çš„åŸå‹æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡. å¯æˆ‘ä»¬ä¹ŸçŸ¥é“, æ‰€æœ‰çš„å‡½æ•°éƒ½åº”è¯¥æ¥è‡ªäº Function. ç”±æ­¤å¯æ¨å¯¼, Function.prototype å†…éƒ¨å±æ€§ [[Prototype]] åº”æŒ‡å‘ Function.prototype. å®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·. åŒæ ·æƒ…å†µçš„è¿˜æœ‰ Array.1Object.getPrototypeOf(Function.prototype) === Function.prototype // falseECMA è§„èŒƒä¹Ÿç»™å‡ºäº†è§£é‡Š, ä¸çŸ¥æ˜¯ä¸æ˜¯è§£é‡Šè¿™ä¸ªçš„.It does not have a [[Construct]] internal method so it is not a constructor.NOTE The Function prototype object is specified to be a function object to ensure compatibility with ECMAScript code that was created prior to the ECMAScript 2015 specification.ä»¥ä¸Šæ¨å¯¼å¯å¿½ç•¥. æ‰€ä»¥å‘¢,The value of the [[Prototype]] internal slot of the Function prototype object is the intrinsic object %ObjectPrototype%.1Object.getPrototypeOf(Function.prototype) === Object.prototype // trueå…¶å®ƒçš„æ„é€ å‡½æ•°ä¹Ÿæ˜¯ä¸€æ ·.1234567891011121314151617181920212223242526// true String.prototype is an ordinary object.Object.getPrototypeOf(String.prototype) === Object.prototype// true String.prototype is an ordinary object.Object.getPrototypeOf(Number.prototype) === Object.prototype// true String.prototype is an ordinary object.Object.getPrototypeOf(Boolean.prototype) === Object.prototype// true String.prototype is an Array exotic objects.Object.getPrototypeOf(Array.prototype) === Object.prototype// true String.prototype is an ordinary object.Object.getPrototypeOf(Function.prototype) === Object.prototype// true String.prototype is a built-in function object.Object.getPrototypeOf(RegExp.prototype) === Object.prototype// true String.prototype is an ordinary object.Object.getPrototypeOf(Date.prototype) === Object.prototype// true String.prototype is an ordinary object.Object.getPrototypeOf(Error.prototype) === Object.prototype// true String.prototype is an ordinary object.Object.getPrototypeOf(Symbol.prototype) === Object.prototypeæ‰€æœ‰çš„å‡½æ•°æˆ–å¯¹è±¡çš„åŸå‹é“¾éƒ½ä¼šè¿½æº¯åˆ° Object.prototype ä¸Š, éš¾é“è¿™é‡Œå°±æ˜¯ç»ˆç‚¹ä¹ˆ? ä¸æ˜¯çš„, è¿˜æœ‰ä¸ª null . æ‰€ä»¥, æœ€ç»ˆ,1Object.getPrototypeOf(Object.prototype) === null // trueæ€»ç»“ä¸€æ³¢:Function æ˜¯æ„é€ å‡½æ•°çš„åœ°æ–¹, æ„é€ å‡½æ•°æ˜¯å‡½æ•°, å†…å»ºå‡½æ•°ä¹Ÿæ˜¯å‡½æ•°.è¢«æ„é€ å‡ºæ¥çš„å®ä¾‹å¯¹è±¡å†…éƒ¨å±æ€§ [[Prototype]] ä¼šå…³è”åˆ°æ„é€ å‡½æ•°çš„ prototype æ‰€æŒ‡å‘çš„å¯¹è±¡.prototype chain çš„èµ°å‘ä¸º:instance =&gt; constructor.prototype =&gt; Object.prototype =&gt; null. (æ„é€ å‡½æ•°é€ å‡ºçš„å®ä¾‹å¯¹è±¡èµ°å‘)function =&gt; Function.prototype =&gt; Object.prototype =&gt; null.(å‡½æ•°èµ°å‘)â€¦ä¸Šå›¾è¯´æ˜ä¸€åˆ‡.]]></content>
      <categories>
        <category>å¾ˆéš¾ä¹ˆ</category>
      </categories>
      <tags>
        <tag>æ„é€ å‡½æ•°</tag>
        <tag>Function</tag>
        <tag>å‡½æ•°</tag>
        <tag>newæ“ä½œç¬¦</tag>
        <tag>åŸå‹é“¾</tag>
        <tag>prototype</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢æ­£å]]></title>
    <url>%2F%E4%B8%BA%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%AD%A3%E5%90%8D%2F</url>
    <content type="text"><![CDATA[å¼ºåˆ¶ç±»å‹è½¬æ¢å¼•å­å¼ºåˆ¶ç±»å‹è½¬æ¢æ˜¯JavaScriptå¼€å‘äººå‘˜æœ€å¤´ç–¼çš„é—®é¢˜ä¹‹ä¸€, å®ƒå¸¸è¢«è¯Ÿç—…ä¸ºè¯­è¨€è®¾è®¡ä¸Šçš„ä¸€ä¸ªç¼ºé™·, å¤ªå±é™©, åº”è¯¥æŸä¹‹é«˜é˜.ä½œä¸ºå¼€å‘äººå‘˜, å¾€å¾€ä¼šé‡åˆ°æˆ–å†™è¿‡æ¶‰åŠåˆ°ç±»å‹è½¬æ¢çš„ä»£ç , åªæ˜¯æˆ‘ä»¬ä»æ¥æ²¡æœ‰æ„è¯†åˆ°. å› ä¸ºæˆ‘ä»¬åŸºæœ¬ç¢°è¿æ°”.çŒœçŒœçœ‹ğŸ˜:ä½œä¸ºåŸºæœ¬ç±»å‹å€¼, ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç›¸å…³çš„å±æ€§æˆ–æ–¹æ³•? eg: &#39;hello&#39;.charAt(0) (å†…ç½®ç±»å‹å’Œå†…å»ºå‡½æ•°çš„å…³ç³»)a &amp;&amp; (b || c) è¿™æ³¢æ“ä½œæˆ‘ä»¬çŸ¥é“, é‚£ä¹ˆ if (a &amp;&amp; (b || c)), è¿™é‡Œåˆåšäº†å“ªäº›æ“ä½œ? (||å’Œ&amp;&amp;)if (a == 1 &amp;&amp; a== 2) { dosomething }, dosomethingç«Ÿç„¶æ‰§è¡Œäº†, ä»€ä¹ˆé¬¼? (ToPrimitive)[] == ![] =&gt; true ?; false == [] =&gt; true ?; &quot;0&quot; == false =&gt; true ?(æŠ½è±¡ç›¸ç­‰)if (~indexOf(&#39;a&#39;)), è¿™æ³¢æ“ä½œç†Ÿæ‚‰ä¸? (+/-/!/~)åœ¨String, Number, Booleanç±»å‹ä¹‹é—´æ¯”è¾ƒæ—¶, è¿›è¡Œçš„å¼ºåˆ¶ç±»å‹è½¬æ¢åˆéµå¾ªäº†å“ªäº›è§„åˆ™? (æŠ½è±¡æ“ä½œ)ä¸‹é¢å°±è¦å­¦ä¼šç”¨å®åŠ›ç¢°è¿æ°”.ç±»å‹å†…ç½®ç±»å‹JavaScript æœ‰ä¸ƒç§å†…ç½®ç±»å‹. ç©ºå€¼: null, æœªå®šä¹‰: undefined, å¸ƒå°”å€¼: boolean, æ•°å­—: number, å­—ç¬¦ä¸²: string, å¯¹è±¡: object, ç¬¦å·: symbol. é™¤ å¯¹è±¡:object, ä¸ºå¤æ‚æ•°æ®ç±»å‹, å…¶å®ƒå‡ä¸ºåŸºæœ¬æ•°æ®ç±»å‹.å†…å»ºå‡½æ•°å¸¸ç”¨çš„å†…å»ºå‡½æ•°: String(), Number(), Boolean(), Array(), Object(), Function(), RegExp(), Date(), Error(), Symbol().å†…ç½®ç±»å‹å’Œå†…å»ºå‡½æ•°çš„å…³ç³»ä¸ºäº†ä¾¿äºæ“ä½œåŸºæœ¬ç±»å‹å€¼, JavaScriptæä¾›äº†å°è£…å¯¹è±¡(å†…å»ºå‡½æ•°), å®ƒä»¬å…·æœ‰å„è‡ªçš„åŸºæœ¬ç±»å‹ç›¸åº”çš„ç‰¹æ®Šè¡Œä¸º. å½“è¯»å–ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼çš„æ—¶å€™, JavaScriptå¼•æ“ä¼šè‡ªåŠ¨å¯¹è¯¥å€¼è¿›è¡Œå°è£…(åˆ›å»ºä¸€ä¸ªç›¸åº”ç±»å‹çš„å¯¹è±¡åŒ…è£…å®ƒ)ä»è€Œèƒ½å¤Ÿè°ƒç”¨ä¸€äº›æ–¹æ³•å’Œå±æ€§æ“ä½œæ•°æ®. è¿™å°±è§£é‡Šäº†é—®é¢˜ 1.ç±»å‹æ£€æµ‹typeof =&gt; åŸºæœ¬ç±»å‹çš„æ£€æµ‹å‡æœ‰åŒåçš„ä¸ä¹‹å¯¹åº”. null é™¤å¤–(ä¸åŒçš„å¯¹è±¡åœ¨åº•å±‚éƒ½è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶, åœ¨JavaScriptä¸­äºŒè¿›åˆ¶å‰ä¸‰ä½éƒ½ä¸º 0 ä¼šè¢«åˆ¤æ–­ä¸º Object ç±»å‹, null çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º0, å‰ä¸‰ä½è‡ªç„¶ä¸º0, æ‰€ä»¥æ‰§è¡Œ typeof æ—¶ä¼šè¿”å› &#39;object&#39;.), nullæ˜¯å‡å€¼, ä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªtypeofæ£€æµ‹ä¼šè¿”å› &#39;object&#39; çš„åŸºæœ¬æ•°æ®ç±»å‹å€¼.1234typeof null // "object"let a = null;(!a &amp;&amp; typeof a === 'object') // trueå¤æ‚æ•°æ®ç±»å‹typeofæ£€æµ‹è¿”å› &#39;object&#39;, function(å‡½æ•°)é™¤å¤–. å‡½æ•°å› å†…éƒ¨å±æ€§ [[Call]] ä½¿å…¶å¯è¢«è°ƒç”¨, å…¶å®å±äºå¯è°ƒç”¨å¯¹è±¡.1typeof function()&#123;&#125; // "function"Object.prototype.toString =&gt; é€šè¿‡typeofæ£€æµ‹è¿”å›&#39;object&#39;çš„å¯¹è±¡ä¸­è¿˜å¯ä»¥ç»†åˆ†ä¸ºå¥½å¤šç§, ä»å†…å»ºå‡½æ•°å°±å¯ä»¥çŸ¥é“.å®ƒä»¬éƒ½åŒ…å«ä¸€ä¸ªå†…éƒ¨å±æ€§[[Class]], ä¸€èˆ¬é€šè¿‡Object.prototype.toString(â€¦)æ¥æŸ¥çœ‹.1234567891011const str = new String('hello');const num = new Number(123);const arr = new Array(1, 2, 3);console.log(Object.prototype.toString.call(str))console.log(Object.prototype.toString.call(num))console.log(Object.prototype.toString.call(arr))// [object String]// [object Number]// [object Array]æŠ½è±¡æ“ä½œåœ¨æ•°æ®ç±»å‹è½¬æ¢æ—¶, å¤„ç†ä¸åŒçš„æ•°æ®è½¬æ¢éƒ½æœ‰å¯¹åº”çš„æŠ½è±¡æ“ä½œ(ä»…ä¾›å†…éƒ¨ä½¿ç”¨çš„æ“ä½œ), åœ¨è¿™é‡Œç”¨åˆ°çš„åŒ…æ‹¬ ToPrimitive, ToString, ToNumber, ToBoolean. è¿™äº›æŠ½è±¡æ“ä½œå®šä¹‰äº†ä¸€äº›è½¬æ¢è§„åˆ™, ä¸è®ºæ˜¯æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢, è¿˜æ˜¯éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢, æ— ä¸€ä¾‹å¤–éƒ½éµå¾ªäº†è¿™äº›è§„åˆ™(æ˜¾å¼å’Œéšå¼çš„å‘½åå«æ³•æ¥è‡ªã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹). è¿™é‡Œå°±è§£é‡Šäº†é—®é¢˜ 5å’Œé—®é¢˜ 6.ToPrimitiveè¯¥æŠ½è±¡æ“ä½œæ˜¯å°†ä¼ å…¥çš„å‚æ•°è½¬æ¢ä¸ºéå¯¹è±¡çš„æ•°æ®. å½“ä¼ å…¥çš„å‚æ•°ä¸º Object æ—¶, å®ƒä¼šè°ƒç”¨å†…éƒ¨æ–¹æ³•[[DefaultValue]] éµå¾ªä¸€å®šè§„åˆ™è¿”å›éå¤æ‚æ•°æ®ç±»å‹, è§„åˆ™è¯¦è§DefaultValue. æ•… ToString, ToNumber, ToBooleanåœ¨å¤„ç†Objectæ—¶, ä¼šå…ˆç»è¿‡ToPrimitiveå¤„ç†è¿”å›åŸºæœ¬ç±»å‹å€¼.[[DefaultValue]](hint)è¯­æ³•:[[DefaultValue]]çš„è§„åˆ™ä¼šä¾èµ–äºä¼ å…¥çš„å‚æ•°hint, ToStringä¼ å…¥çš„ hint å€¼ä¸º String, ToNumberä¼ å…¥çš„ hint å€¼ä¸º Number.[[DefaultValue]](String) =&gt; è‹¥ toString å¯è°ƒç”¨, ä¸” toString(Obj) ä¸ºåŸºæœ¬ç±»å‹å€¼, åˆ™è¿”å›è¯¥åŸºæœ¬ç±»å‹å€¼. å¦åˆ™, è‹¥ valueOf å¯è°ƒç”¨, ä¸” valueOf(Obj) ä¸ºåŸºæœ¬ç±»å‹å€¼, åˆ™è¿”å›è¯¥åŸºæœ¬ç±»å‹å€¼. è‹¥ä»¥ä¸Šå¤„ç†è¿˜æœªå¾—åˆ°åŸºæœ¬ç±»å‹å€¼, åˆ™æŠ›å‡º TypeError.[[DefaultValue]](Number) =&gt; è¯¥è§„åˆ™æ­£å¥½å’Œä¸Šè§„åˆ™è°ƒç”¨ toString, valueOf çš„é¡ºåºç›¸å. è‹¥ valueOf å¯è°ƒç”¨, ä¸” valueOf(Obj) ä¸ºåŸºæœ¬ç±»å‹å€¼, åˆ™è¿”å›è¯¥åŸºæœ¬ç±»å‹å€¼. å¦åˆ™, è‹¥ toString å¯è°ƒç”¨, ä¸” toString(Obj) ä¸ºåŸºæœ¬ç±»å‹å€¼, åˆ™è¿”å›è¯¥åŸºæœ¬ç±»å‹å€¼. è‹¥ä»¥ä¸Šå¤„ç†è¿˜æœªå¾—åˆ°åŸºæœ¬ç±»å‹å€¼, åˆ™æŠ›å‡º TypeError.[[DefaultValue]]() =&gt; æœªä¼ å‚æ—¶, æŒ‰ç…§ hintå€¼ä¸º Number å¤„ç†. Date å¯¹è±¡é™¤å¤–, æŒ‰ç…§hintå€¼ä¸º String å¤„ç†.ç°åœ¨æˆ‘ä»¬å°±ç”¨ä»¥ä¸Šçš„çŸ¥è¯†ç‚¹æ¥è§£é‡Šé—®é¢˜ 3æ˜¯ä»€ä¹ˆé¬¼.12345678910let i = 1;Number.prototype.valueOf = () =&gt; &#123; return i++&#125;;let a = new Number("0"); // å­—ç¬¦ä¸²å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ç±»å‹æ˜¯ä¸æ‰§è¡ŒToprimitiveæŠ½è±¡æ“ä½œçš„.console.log('a_1:', a);if(a == 1 &amp;&amp; a == 2) &#123; console.log('a==1 &amp; a==2', 'i:', i);&#125;// a==1 &amp; a==2 i: 3æˆ‘ä»¬æ”¹å†™äº†å†…å»ºå‡½æ•° Number åŸå‹ä¸Šçš„ valueOf æ–¹æ³•, å¹¶ä½¿å¾—ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆ Number å¯¹è±¡, ç¬¬ä¸€æ¬¡ Object ç±»å‹å’Œ Number ç±»å‹åšæ¯”è¾ƒæ—¶, Object ç±»å‹å°†è¿›è¡Œ ToPrimitive å¤„ç†(æŠ½è±¡ç›¸ç­‰), å†…éƒ¨è°ƒç”¨äº† valueOf, è¿”å› 2. ç¬¬äºŒæ¬¡åŒæ ·çš„å¤„ç†æ–¹å¼, è¿”å› 3.ToStringè¯¥æŠ½è±¡æ“ä½œè´Ÿè´£å¤„ç†éå­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢.typeresultnullâ€œnullâ€undefinedâ€œundefinedâ€booleantrue =&gt; â€œtrueâ€; false =&gt; â€œfalseâ€stringä¸è½¬æ¢numberToString Applied to the Number TypeObjectå…ˆç»ToPrimitiveè¿”å›åŸºæœ¬ç±»å‹å€¼, å†éµå¾ªä¸Šè¿°è§„åˆ™ToNumberè¯¥æŠ½è±¡æ“ä½œè´Ÿè´£å¤„ç†éæ•°å­—åˆ°æ•°å­—çš„è½¬æ¢.typeresultnull+0undefinedNaNbooleantrue =&gt; 1; false =&gt; 0stringToNumber Applied to the String Typenumberä¸è½¬æ¢Objectå…ˆç»ToPrimitiveè¿”å›åŸºæœ¬ç±»å‹å€¼, å†éµå¾ªä¸Šè¿°è§„åˆ™å¸¸è§çš„å­—ç¬¦ä¸²è½¬æ¢æ•°å­—:å­—ç¬¦ä¸²æ˜¯ç©ºçš„ =&gt; è½¬æ¢ä¸º0.å­—ç¬¦ä¸²åªåŒ…å«æ•°å­— =&gt; è½¬æ¢ä¸ºåè¿›åˆ¶æ•°å€¼.å­—ç¬¦ä¸²åŒ…å«æœ‰æ•ˆçš„æµ®ç‚¹æ ¼å¼ =&gt; è½¬æ¢ä¸ºå¯¹åº”çš„æµ®ç‚¹æ•°å€¼.å­—ç¬¦ä¸²ä¸­åŒ…å«æœ‰æ•ˆçš„åå…­è¿›åˆ¶æ ¼å¼ =&gt; è½¬æ¢ä¸ºç›¸åŒå¤§å°çš„åè¿›åˆ¶æ•´æ•°å€¼.å­—ç¬¦ä¸²ä¸­åŒ…å«é™¤ä»¥ä¸Šæ ¼å¼ä¹‹å¤–çš„ç¬¦å· =&gt; è½¬æ¢ä¸º NaN.ToBooleanè¯¥æŠ½è±¡æ“ä½œè´Ÿè´£å¤„ç†éå¸ƒå°”å€¼åˆ°å¸ƒå°”å€¼è½¬æ¢.typeresultnullfalseundefinedfalsebooleanä¸è½¬æ¢stringâ€œâ€ =&gt; false; å…¶å®ƒ =&gt; truenumber+0, âˆ’0, NaN =&gt; false; å…¶å®ƒ =&gt; trueObjecttrueçœŸå€¼ &amp; å‡å€¼å‡å€¼(å¼ºåˆ¶ç±»å‹è½¬æ¢falseçš„å€¼) =&gt; undefined, null, false, +0, -0, NaN, &quot;&quot;.çœŸå€¼(å¼ºåˆ¶ç±»å‹è½¬æ¢trueçš„å€¼) =&gt; é™¤äº†å‡å€¼, éƒ½æ˜¯çœŸå€¼.ç‰¹æ®Šçš„å­˜åœ¨å‡å€¼å¯¹è±¡ =&gt; documen.all ç­‰. eg: Boolean(window.all) // falseéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢+/-/!/~+/- ä¸€å…ƒè¿ç®—ç¬¦ =&gt; è¿ç®—ç¬¦ä¼šå°†æ“ä½œæ•°è¿›è¡ŒToNumberå¤„ç†.! =&gt; ä¼šå°†æ“ä½œæ•°è¿›è¡ŒToBooleanå¤„ç†.~ =&gt; (~x)ç›¸å½“äº -(x + 1) eg: ~(-1) ==&gt; 0; ~(0) ==&gt; 1; åœ¨if (â€¦)ä¸­ä½œç±»å‹è½¬æ¢æ—¶, åªæœ‰-1æ—¶, æ‰ä¸ºå‡å€¼.+åŠ å·è¿ç®—ç¬¦ =&gt; è‹¥æ“ä½œæ•°æœ‰Stringç±»å‹, åˆ™éƒ½è¿›è¡ŒToStringå¤„ç†, å­—ç¬¦ä¸²æ‹¼æ¥. å¦åˆ™è¿›è¡ŒToNumberå¤„ç†, æ•°å­—åŠ æ³•.æ¡ä»¶åˆ¤æ–­if (...), for(;;;), while(...), do...while(...)ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼.? : ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼.|| å’Œ &amp;&amp; ä¸­çš„ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼.ä»¥ä¸Šéµå¾ªToBooleanè§„åˆ™.||å’Œ&amp;&amp;è¿”å›å€¼æ˜¯ä¸¤ä¸ªæ“ä½œæ•°çš„ä¸­çš„ä¸€ä¸ª(ä¸”ä»…ä¸€ä¸ª). é¦–å…ˆå¯¹ç¬¬ä¸€ä¸ªæ“ä½œæ•°æ¡ä»¶åˆ¤æ–­, è‹¥ä¸ºéå¸ƒå°”å€¼åˆ™è¿›è¡ŒToBooleanå¼ºåˆ¶ç±»å‹è½¬æ¢.å†æ¡ä»¶åˆ¤æ–­.|| =&gt; æ¡ä»¶åˆ¤æ–­ä¸ºtrue, åˆ™è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°; å¦åˆ™, è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°. ç›¸å½“äº a ? a : b;&amp;&amp; =&gt; æ¡ä»¶åˆ¤æ–­ä¸ºtrue, åˆ™è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°; å¦åˆ™, è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°, ç›¸å½“äº a ? b : a;ç»“åˆæ¡ä»¶åˆ¤æ–­, è§£é‡Šä¸‹é—®é¢˜ 21234567let a = true;let b = undefined;let c = 'hello';if (a &amp;&amp; (b || c)) &#123; dosomething()&#125;a &amp;&amp; (b || c) è¿”å› 'hello', ifè¯­å¥ä¸­ç»Tobooleanå¤„ç†å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºtrue.æŠ½è±¡ç›¸ç­‰è¿™é‡Œçš„çŸ¥è¯†ç‚¹æ˜¯ç”¨æ¥è§£é‡Š é—®é¢˜ 4 çš„, ä¹Ÿæ˜¯è€ƒéªŒäººå“çš„åœ°æ–¹. è¿™ä¸‹æˆ‘ä»¬è¦é å®åŠ›æ‹¼è¿æ°”.åŒç±»å‹çš„æ¯”è¾ƒ.1234+ 0 == -0 // truenull == null // trueundefined == undefined // trueNaN == NaN // false, å”¯ä¸€ä¸€ä¸ªéè‡ªåçš„å€¼null å’Œ undefined çš„æ¯”è¾ƒ.12null == undefined // trueundefined == null // trueNumber ç±»å‹å’Œ String ç±»å‹çš„æ¯”è¾ƒ. =&gt; String ç±»å‹è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º Number ç±»å‹, å³ ToNumber(String).(å‚è§ToNumber)Boolean ç±»å‹å’Œå…¶å®ƒç±»å‹çš„æ¯”è¾ƒ. =&gt; Boolean ç±»å‹è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º Number ç±»å‹, å³ ToNumber(Boolean).(å‚è§ToNumber)Object ç±»å‹å’Œ String ç±»å‹æˆ– Number ç±»å‹. =&gt; Object ç±»å‹è¦å¼ºåˆ¶è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹å€¼, å³ ToPrimitive(Object).(å‚è§ToPrimitive)å…¶å®ƒæƒ…å†µ, false.å›å¤´çœ‹çœ‹é—®é¢˜ 4ä¸­çš„ç­‰å¼. [] == ![], false == [], &quot;0&quot; == false.[] == ![] =&gt; ! æ“ä½œç¬¦ä¼šå¯¹æ“ä½œæ•°è¿›è¡ŒToBooleanå¤„ç†, [] æ˜¯çœŸå€¼, !true åˆ™ä¸º false. å†éµå¾ªç¬¬ 4 ç‚¹, Boolean ç±»å‹ç»è¿‡ ToNumber è½¬æ¢ä¸º Numberç±»å‹, åˆ™ä¸ºæ•°å€¼ 0. å†éµå¾ªç¬¬ 5 ç‚¹, å¯¹ [] è¿›è¡Œ ToPrimitive æ“ä½œ, å…ˆåè°ƒç”¨ valueOf(), toString()ç›´åˆ°è¿”å›åŸºæœ¬ç±»å‹, ç›´åˆ°è¿”å› &quot;&quot;. (å…ˆ[].valueOf() =&gt; [], éåŸºæœ¬ç±»å‹å€¼; å†[].toString() =&gt; â€œâ€, åŸºæœ¬ç±»å‹å€¼, è¿”å›è¯¥åŸºæœ¬ç±»å‹å€¼.). å†éµå¾ªç¬¬ 3 ç‚¹, å¯¹ &quot;&quot; è¿›è¡Œ ToNumberå¤„ç†, åˆ™ä¸ºæ•°å€¼ 0. åˆ°æ­¤, 0 == 0, å†éµå¾ªç¬¬ 1 ç‚¹(å…¶å®æ²¡å†™å…¨ğŸ˜Œ, è¯¦è§The Abstract Equality Comparison Algorithm), return true, å®Œç¾!ğŸ˜.false == [] =&gt; åŒç† [] == ![].&quot;0&quot; == false =&gt; åŒç† [] == ![].123[] == ![] // truefalse == [] // true"0" == false // trueè¿æ°”æ˜¯ç•™ç»™æœ‰å‡†å¤‡çš„äºº, æ‰€ä»¥å‘¢, æˆ‘è¦å‡†å¤‡ä¹°å½©ç¥¨äº†.ğŸ˜]]></content>
      <categories>
        <category>å¾ˆéš¾ä¹ˆ</category>
      </categories>
      <tags>
        <tag>å¼ºåˆ¶ç±»å‹è½¬æ¢</tag>
        <tag>æ•°æ®ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[StringåŸå‹æ–¹æ³•]]></title>
    <url>%2FString%E5%8E%9F%E5%9E%8B%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[StringStringå…¨å±€å¯¹è±¡æ˜¯ä¸€ä¸ªç”¨äºå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå­—ç¬¦åºåˆ—çš„æ„é€ å‡½æ•°.æ¦‚è¿°é™¤ Object ä»¥å¤–çš„æ‰€æœ‰ç±»å‹éƒ½æ˜¯ä¸å¯å˜çš„(å€¼æœ¬èº«æ— æ³•è¢«æ”¹å˜). JavaScript ä¸­å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ã€ŒJavaScript ä¸­å¯¹å­—ç¬¦ä¸²çš„æ“ä½œä¸€å®šè¿”å›äº†ä¸€ä¸ªæ–°å­—ç¬¦ä¸², åŸå§‹å­—ç¬¦ä¸²å¹¶æ²¡æœ‰è¢«æ”¹å˜ã€.å­—ç¬¦ä¸²å­—é¢é‡(é€šè¿‡å•å¼•å·æˆ–åŒå¼•å·å®šä¹‰)å’Œç›´æ¥è°ƒç”¨ String æ–¹æ³•(æ²¡æœ‰é€šè¿‡ new ç”Ÿæˆå­—ç¬¦ä¸²å¯¹è±¡å®ä¾‹)çš„å­—ç¬¦ä¸²éƒ½æ˜¯åŸºæœ¬å­—ç¬¦ä¸². JavaScript ä¼šè‡ªåŠ¨å°†åŸºæœ¬å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¯¹è±¡, åªæœ‰å°†åŸºæœ¬å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¯¹è±¡ä¹‹åæ‰å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å¯¹è±¡çš„æ–¹æ³•.123456789101112131415let a = 'Hello, World';let b = String('Hello, World');let c = new String('Hello, World');console.log('a', a);console.log('b', b);console.log('c', c);// a Hello, World// b Hello, World/* c String =&#123; 0: "H", 1: "e",2: "l", 3: "l", 4: "o", 5: ",", 6: " ", 7: "W", 8: "o", 9: r", 10: "l", 11: "d", length: 12 &#125; */// å¯ä»¥çœ‹åˆ°Stringæ„é€ å‡ºæ¥çš„æ˜¯ä¸€ä¸ªç±»æ•°ç»„, è¿™æ ·å°±å¯ä»¥é€šè¿‡.æˆ–[]æ¥å–å€¼.å½“åŸºæœ¬å­—ç¬¦ä¸²éœ€è¦è°ƒç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ‰æœ‰çš„æ–¹æ³•æˆ–è€…æŸ¥è¯¢å€¼çš„æ—¶å€™(åŸºæœ¬å­—ç¬¦ä¸²æ˜¯æ²¡æœ‰è¿™äº›æ–¹æ³•çš„ã€ŒåŸå§‹å€¼ã€)ï¼ŒJavaScript ä¼šè‡ªåŠ¨å°†åŸºæœ¬å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¯¹è±¡å¹¶ä¸”è°ƒç”¨ç›¸åº”çš„æ–¹æ³•æˆ–è€…æ‰§è¡ŒæŸ¥è¯¢ã€ŒJavaScriptä¼šè‡ªåŠ¨å°†å­—ç¬¦ä¸²å­—é¢å€¼è½¬æ¢ä¸ºä¸€ä¸ªä¸´æ—¶å­—ç¬¦ä¸²å¯¹è±¡ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œç„¶ååºŸå¼ƒæ‰é‚£ä¸ªä¸´æ—¶çš„å­—ç¬¦ä¸²å¯¹è±¡ã€.åŸå‹æ–¹æ³•(éƒ¨åˆ†)String.prototype.charAt()æè¿° :ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è¿”å›æŒ‡å®šç´¢å¼•ä½ç½®çš„å­—ç¬¦.è¯­æ³• :str.charAt(index)index(å¯é€‰) : ä»‹äº 0 ~ (str.length - 1) çš„æ•´æ•°. è‹¥æ— , é»˜è®¤å€¼ä¸º 0. è¶…è¿‡æŒ‡å®šèŒƒå›´æ•°å€¼, åˆ™è¿”å›ç©ºå­—ç¬¦ä¸².12345678910var anyString = "Hello World";console.log("The character at index 0 is '" + anyString.charAt() + "'");console.log("The character at index 1 is '" + anyString.charAt(1) + "'");console.log("The character at index 2 is '" + anyString.charAt(2) + "'");console.log("The character at index 11 is '" + anyString.charAt(11) + "'");// The character at index 0 is 'H'// The character at index 1 is 'e'// The character at index 2 is 'l'// The character at index 11 is ''String.prototype.concat()æè¿° :å°†åŸå­—ç¬¦ä¸²ä¸å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥æˆæ–°çš„å­—ç¬¦ä¸².è¯­æ³• :str.concat(string[, string1, ..., stringN])stringN : è¦æ‹¼æ¥çš„å­—ç¬¦ä¸².1234let ä½ å¥½ä¸–ç•Œ = 'Hello'.concat(' World');console.log('ä½ å¥½ä¸–ç•Œ = ', ä½ å¥½ä¸–ç•Œ);// ä½ å¥½ä¸–ç•Œ = Hello WorldString.prototype.trim()æè¿° :å°†å­—ç¬¦ä¸²çš„ä¸¤ç«¯ç©ºç™½å­—ç¬¦åˆ é™¤.è¯­æ³• :str.trim()123456let str_1_length = ' Hello World ! '.length;let str_1 = ' Hello World ! '.trim();console.log('str_1_length', str_1_length, 'str_1', str_1, str_1.length);// str_1_length 24 str_1 Hello World ! 13String.prototype.replace()æè¿° :åœ¨å­—ç¬¦ä¸²ä¸­åŒ¹é…å¹¶æ›¿æ¢æŒ‡å®šå­—ç¬¦ä¸².è¯­æ³• :str.replace(regexp|string, newString|function)regexp : ä¸€ä¸ª RegExp å¯¹è±¡æˆ–è€…å…¶å­—é¢é‡.string : å¾…åŒ¹é…çš„å­—ç¬¦ä¸², ä»…ä»…æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…ä¼šè¢«æ›¿æ¢.newString : ç”¨äºå–ä»£çš„å­—ç¬¦ä¸².function : æ¯æ¬¡åŒ¹é…éƒ½è¦è°ƒç”¨çš„å‡½æ•°.12345678910111213141516171819let str_1 = '521521521521'.replace('521', 'æˆ‘çˆ±ä½ ');let str_2 = '521521521521'.replace(/521/g, 'æˆ‘çˆ±ä½ ');let str_3 = '521521521521'.replace(/(521)/g, function(a, b, c, d)&#123; console.log('arguments', arguments); if (c === 0) return a; return 'æˆ‘çˆ±ä½ ';&#125;);console.log('str_1', str_1);console.log('str_2', str_2);console.log('str_3', str_3);// arguments &#123; '0': '521', '1': '521', '2': 0, '3': '521521521521' &#125;// arguments &#123; '0': '521', '1': '521', '2': 3, '3': '521521521521' &#125;// arguments &#123; '0': '521', '1': '521', '2': 6, '3': '521521521521' &#125;// arguments &#123; '0': '521', '1': '521', '2': 9, '3': '521521521521' &#125;// str_1 æˆ‘çˆ±ä½ 521521521// str_2 æˆ‘çˆ±ä½ æˆ‘çˆ±ä½ æˆ‘çˆ±ä½ æˆ‘çˆ±ä½ // str_3 521æˆ‘çˆ±ä½ æˆ‘çˆ±ä½ æˆ‘çˆ±ä½ String.prototype.split()æè¿° :åœ¨å­—ç¬¦ä¸²ä¸­æŒ‡å®šåˆ†éš”ç¬¦, å¹¶åœ¨åˆ†éš”ç¬¦å¤„åˆ†å‰²å­—ç¬¦ä¸².è¯­æ³• :str.split([separator[, limit]])separator : å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼. è‹¥çœç•¥, åˆ™è¿”å›çš„æ•°ç»„åŒ…å«ä¸€ä¸ªç”±æ•´ä¸ªå­—ç¬¦ä¸²ç»„æˆçš„å…ƒç´ .limit : é™å®šè¿”å›çš„åˆ†å‰²ç‰‡æ®µæ•°é‡.123456789101112131415161718192021let str_1 = 'Hello World'.split();let str_2 = 'Hello World'.split('');let str_3 = 'Hello World'.split(' ');let str_4 = 'Hello World, Hello World, Hello World'.split(',', 2);let str_5 = 'He5llo 2Worl1d'.split(/\d/);let str_6 = 'He5llo 2Worl2d'.split(/(\d)/);console.log('str_1',str_1);console.log('str_2',str_2);console.log('str_3',str_3);console.log('str_4',str_4);console.log('str_5',str_5);console.log('str_5',str_6);// str_1 [ 'Hello World' ]// str_2 [ 'H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd' ]// str_3 [ 'Hello', 'World' ]// str_4 [ 'Hello World', ' Hello World' ]// str_5 [ 'He', 'llo ', 'Worl', 'd' ]// str_5 [ 'He', '5', 'llo ', '2', 'Worl', '2', 'd' ]String.prototype.slice()æè¿° :æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†.è¯­æ³• :str.slice(begin[, end])begin(å¯é€‰) : èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ä¸º0. å¦‚æœæ˜¯è´Ÿæ•°, åˆ™å¼€å§‹ç´¢å¼•ä¼šè¢«è‡ªåŠ¨è®¡ç®—æˆä¸º str.length + start.end : ç»ˆæ­¢ç´¢å¼•, é»˜è®¤å€¼ str.length. ä¸åŒ…æ‹¬endä½ç½®. å¦‚æœæ˜¯è´Ÿæ•°æ—¶, è§„åˆ™å¦‚ä¸Š.1234567891011let str_1 = '0123456789'.slice();let str_2 = '0123456789'.slice(-1);let str_3 = '0123456789'.slice(1, -1);console.log('str_1', str_1);console.log('str_2', str_2);console.log('str_3', str_3);// str_1 0123456789// str_2 9// str_3 12345678String.prototype.substring()æè¿° :æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†.è¯­æ³• :str.substring(begin[, end])begin : èµ·å§‹ç´¢å¼•.end : ç»ˆæ­¢ç´¢å¼•.1234567891011let str_1 = '0123456789'.substring();let str_2 = '0123456789'.substring(0, 7);let str_3 = '0123456789'.substring(7, 0);console.log('str_1', str_1);console.log('str_2', str_2);console.log('str_3', str_3);// str_1 0123456789// str_2 0123456// str_3 0123456String.prototype.substr()æè¿° :æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†.è¯­æ³• :str.substr(start[, length])start(å¯é€‰) : èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ä¸º0. å¦‚æœæ˜¯è´Ÿæ•°, åˆ™å¼€å§‹ç´¢å¼•ä¼šè¢«è‡ªåŠ¨è®¡ç®—æˆä¸º str.length + start.length : æå–çš„å­—ç¬¦æ•°.1234567891011let str_1 = '0123456789'.substr();let str_2 = '0123456789'.substr(-3);let str_3 = '0123456789'.substr(0, 6);console.log('str_1', str_1);console.log('str_2', str_2);console.log('str_3', str_3);// str_1 0123456789// str_2 789// str_3 012345String.prototype.includes()æè¿° :åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦æœ‰æŒ‡å®šå­—ç¬¦ä¸². ä¾æ¡ä»¶è¿”å› true æˆ– false.è¯­æ³• :str.includes(string[, position])string : éœ€è¦æŸ¥è¯¢çš„å­—ç¬¦ä¸².position : æŒ‡å®šæŸ¥è¯¢èµ·å§‹ä½ç½®, é»˜è®¤ä¸º 0.1234567let boolean_1 = 'Hello World'.includes('World');let boolean_2 = 'Hello World'.includes('ä½ å¥½ä¸–ç•Œ');console.log('boolean_1 = ', boolean_1);console.log('boolean_2 = ', boolean_2);// boolean_1 = true// boolean_2 = falseString.prototype.startsWith()æè¿° :åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´. ä¾æ¡ä»¶è¿”å› true æˆ– false.è¯­æ³• :str.startsWith(string[, position])string : éœ€è¦æŸ¥è¯¢çš„å­—ç¬¦ä¸².position : æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´çš„ä½ç½®, é»˜è®¤å€¼ä¸º 0.1234567891011let boolean_1 = '123456789'.startsWith(1);let boolean_2 = '123456789'.startsWith(3, 4);let boolean_3 = '123456789'.startsWith(7, 6);console.log('boolean_1', boolean_1);console.log('boolean_2', boolean_2);console.log('boolean_3', boolean_3);// boolean_1 true// boolean_2 false// boolean_3 trueString.prototype.endsWith()æè¿° :åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾. ä¾æ¡ä»¶è¿”å› true æˆ– false.è¯­æ³• :str.endsWith(string[, position])string : éœ€è¦æŸ¥è¯¢çš„å­—ç¬¦ä¸².position : æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®(å­—ç¬¦ä¸²çš„é•¿åº¦), é»˜è®¤å€¼ä¸º str.length.1234567891011let boolean_1 = '123456789'.endsWith(9);let boolean_2 = '123456789'.endsWith(9, 8);let boolean_3 = '123456789'.endsWith(7, 7);console.log('boolean_1', boolean_1);console.log('boolean_2', boolean_2);console.log('boolean_3', boolean_3);// boolean_1 true// boolean_2 false// boolean_3 trueString.prototype.indexOf()æè¿° :æŸ¥è¯¢æŒ‡å®šå­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®. è‹¥æœªæŸ¥è¯¢åˆ°, åˆ™è¿”å› -1.è¯­æ³• :str.indexOf(string[, position])string : éœ€è¦æŸ¥è¯¢çš„å­—ç¬¦ä¸².position : é¦–æ¬¡è¢«æ‰¾åˆ°çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®, é»˜è®¤å€¼ä¸º 0.1234567891011let pos_1 = '0123456789'.indexOf(8);let pos_2 = '0123456789'.indexOf(8, 9);let pos_3 = '0123456789'.indexOf(8, 8);console.log('pos_1', pos_1);console.log('pos_2', pos_2);console.log('pos_3', pos_3);// pos_1 8// pos_2 -1// pos_3 8String.prototype.lastIndexOf()æè¿° :ä»å­—ç¬¦ä¸²çš„åé¢å‘å‰æŸ¥æ‰¾, æŸ¥è¯¢æŒ‡å®šå­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®. è‹¥æœªæŸ¥è¯¢åˆ°, åˆ™è¿”å› -1.è¯­æ³• :str.lastIndexOf(string[, position])string : éœ€è¦æŸ¥è¯¢çš„å­—ç¬¦ä¸².position : é€†å‘æŸ¥æ‰¾èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ str.length - 1.1234567891011let pos_1 = '0123456789'.lastIndexOf(9);let pos_2 = '0123456789'.lastIndexOf(9, 9);let pos_3 = '0123456789'.lastIndexOf(9, 8);console.log('pos_1', pos_1);console.log('pos_2', pos_2);console.log('pos_3', pos_3);// pos_1 9// pos_2 9// pos_3 -1String.prototype.match()æè¿° :å­—ç¬¦ä¸²æ£€ç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼.è¯­æ³• :str.match(regexp)regexp : æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡, å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡, åˆ™ä¼šéšå¼åœ°ä½¿ç”¨ new RegExp(obj) å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª RegExp. å¦‚æœä½ æœªæä¾›ä»»ä½•å‚æ•°, ç›´æ¥ä½¿ç”¨ match(), é‚£ä¹ˆä½ ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«ç©ºå­—ç¬¦ä¸²çš„ Array : [&quot;&quot;].è¿”å›å€¼ : å¦‚æœå­—ç¬¦ä¸²åŒ¹é…åˆ°äº†è¡¨è¾¾å¼, ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„, æ•°ç»„çš„ç¬¬ä¸€é¡¹æ˜¯è¿›è¡ŒåŒ¹é…å®Œæ•´çš„å­—ç¬¦ä¸², ä¹‹åçš„é¡¹æ˜¯ç”¨åœ†æ‹¬å·æ•è·çš„ç»“æœ. å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°, è¿”å›null.1234567891011let pos_1 = '0123456789'.match(9);let pos_2 = '0123456789'.match(/8\d+/);let pos_3 = '0123456789'.match(/7\d&#123;1&#125;/);console.log('pos_1', pos_1);console.log('pos_2', pos_2);console.log('pos_3', pos_3);// pos_1 [ '9', index: 9, input: '0123456789' ]// pos_2 [ '89', index: 8, input: '0123456789' ]// pos_3 [ '78', index: 7, input: '0123456789' ]String.prototype.search()æè¿° :å­—ç¬¦ä¸²æ£€ç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼.è¯­æ³• :str.search(regexp)regexp : æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡, å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡, åˆ™ä¼šéšå¼åœ°ä½¿ç”¨ new RegExp(obj) å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª RegExp. å¦‚æœä½ æœªæä¾›ä»»ä½•å‚æ•°, ç›´æ¥ä½¿ç”¨ match(), é‚£ä¹ˆä½ ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«ç©ºå­—ç¬¦ä¸²çš„ Array : [&quot;&quot;].è¿”å›å€¼ : å¦‚æœåŒ¹é…æˆåŠŸ, åˆ™ search() è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•. å¦åˆ™, è¿”å› -1.1234567891011let pos_1 = '0123456789'.search(9);let pos_2 = '0123456789'.search(/8\d+/);let pos_3 = '0123456789'.search(/7\d&#123;1&#125;/);console.log('pos_1', pos_1);console.log('pos_2', pos_2);console.log('pos_3', pos_3);// pos_1 9// pos_2 8// pos_3 7String.prototype.toLowerCase()æè¿° :å°†å­—ç¬¦ä¸²è½¬æ¢æˆå°å†™å½¢å¼.è¯­æ³• :str.toLowerCase()12345let str_1 = 'Hello World !'.toLowerCase();console.log('str_1', str_1);// str_1 hello world !String.prototype.toUpperCase()æè¿° :å°†å­—ç¬¦ä¸²è½¬æ¢æˆå¤§å†™å½¢å¼.è¯­æ³• :str.toUpperCase()12345let str_1 = 'Hello World !'.toUpperCase();console.log('str_1', str_1);// str_1 HELLO WORLD !String.prototype.toString()æè¿° :å°†æŒ‡å®šå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²å½¢å¼.è¯­æ³• :str.toString()12345let str_1 = new String('Hello World !');console.log('str_1', str_1, 'str_1.toString()', str_1.toString());// str_1 [String: 'Hello World !'] str_1.toString() Hello World !(ä¸åŒæµè§ˆå™¨å±•ç°æ•ˆæœå¯èƒ½ä¸åŒ)String.prototype.valueOf()æè¿° :è¿”å›ä¸€ä¸ªStringå¯¹è±¡çš„åŸå§‹å€¼ï¼ˆprimitive valueï¼‰.è¯­æ³• :str.valueOf()123456let str = new String('Hello World!');let str_1 = str.valueOf();console.log('str_1', str_1);// str_1 Hello World!String.prototype[@@iterator]()æè¿° :è¿”å›ä¸€ä¸ªStringå¯¹è±¡çš„åŸå§‹å€¼ï¼ˆprimitive valueï¼‰.è¯­æ³• :str.valueOf()12345678910111213141516171819202122let str = 'Hello World!';let str_1 = str[Symbol.iterator]();console.log('str_1', str_1.next());// str_1 &#123; value: 'H', done: false &#125;for(let item of str) &#123; console.log('item', item);&#125;// item H// item e// item l// item l// item o// item// item W// item o// item r// item l// item d// item !]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>String</tag>
        <tag>å­—ç¬¦ä¸²åŸå‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VS Codeä½¿ç”¨åŸºç¡€]]></title>
    <url>%2FVS-Code%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[å·¥æ¬²å–„å…¶äº‹, å¿…å…ˆåˆ©å…¶å™¨. ä½œä¸ºä¸€ä¸ªå‰ç«¯ç¨‹åºçŒ¿æ‰“é€ ä¸€ä¸ªå¥½çœ‹å¥½ç”¨çš„ç¼–è¾‘å™¨, å¯¹äºå·¥ä½œæ•ˆç‡çš„æé«˜æœ‰å¾ˆå¤§çš„å¸®åŠ©.ä¸»é¢˜å­—ä½“å­—ä½“é€‰ç”¨çš„FiraCode, ä¸‹è½½å®‰è£…ç„¶åå‚è§VS Code Instructionsç›¸å…³è®¾ç½®. å…¶å®ƒå¥½çœ‹çš„å­—ä½“è¿˜æœ‰Source Code Proç­‰.é¢œè‰²ä¸»é¢˜å’Œæ–‡ä»¶å›¾æ ‡ä¸»é¢˜é¢œè‰²ä¸»é¢˜é€‰ç”¨çš„æ˜¯One Dark Pro. ç¼–è¾‘å™¨å†…ç½®äº†å‡ æ¬¾é¢œè‰²ä¸»é¢˜, å¦‚æœæ²¡æœ‰å–œæ¬¢çš„å°±åœ¨æ‰©å±•ä¸»é¢˜é‡Œæ‰¾æ‰¾.æ–‡ä»¶å›¾æ ‡ä¸»é¢˜é…ç½®åŒé¢œè‰²ä¸»é¢˜é…ç½®.ç”¨æˆ·è®¾ç½®Commonly Usedæ§åˆ¶å­—æ®µæ§åˆ¶å†…å®¹files.autoSaveè‡ªåŠ¨ä¿å­˜editor.tabSizeåˆ¶è¡¨ç¬¦çš„ç©ºæ ¼æ•°editor.renderWhitespaceç©ºç™½å­—ç¬¦æ˜¾ç¤ºæ–¹å¼editor.wordWrapæ¢è¡Œæ–¹å¼files.excludeé…ç½®æ’é™¤çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„ glob æ¨¡å¼. ä¸éœ€è¦å…³å¿ƒçš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åœ¨æ­¤æ’é™¤.files.associationsé…ç½®è¯­è¨€çš„æ–‡ä»¶å…³è”. eg:&quot;**.jsp&quot;: &quot;javascript&quot;files.trimTrailingWhitespaceå¯ç”¨åï¼Œå°†åœ¨ä¿å­˜æ–‡ä»¶æ—¶å‰ªè£å°¾éšç©ºæ ¼workbench.editor.labelFormatæ§åˆ¶ç¼–è¾‘å™¨æ ‡ç­¾çš„æ ¼å¼window.openFilesInNewWindowæ§åˆ¶æ˜¯å¦åœ¨æ–°çª—å£ä¸­æ‰“å¼€æ–‡ä»¶terminal.integrated.shell.osxç»ˆç«¯åœ¨ macOS ä¸Šä½¿ç”¨çš„ Shell çš„è·¯å¾„breadcrumbs.enabledå¯ç”¨/ç¦ç”¨å¯¼èˆªè·¯å¾„(é¢åŒ…å±‘)emmet.includeLanguagesåœ¨é»˜è®¤ä¸æ”¯æŒ Emmet çš„è¯­è¨€ä¸­å¯ç”¨ Emmet ç¼©å†™åŠŸèƒ½. eg:&quot;vue-html&quot;: &quot;html&quot;, &quot;javascript&quot;: &quot;javascriptreact&quot;ç¼–è¾‘å™¨æ§åˆ¶å­—æ®µæ§åˆ¶å†…å®¹editor.formatOnTypeæ§åˆ¶ç¼–è¾‘å™¨åœ¨é”®å…¥ä¸€è¡Œåæ˜¯å¦è‡ªåŠ¨æ ¼å¼åŒ–è¯¥è¡Œeditor.minimap.enabledæ˜¯å¦æ˜¾ç¤ºå°åœ°å›¾editor.mouseWheelZoomæŒ‰ä½ Ctrl é”®å¹¶æ»šåŠ¨é¼ æ ‡æ»šè½®æ—¶å¯¹ç¼–è¾‘å™¨å­—ä½“å¤§å°è¿›è¡Œç¼©æ”¾editor.parameterHints.enabledåœ¨è¾“å…¥æ—¶æ˜¾ç¤ºå«æœ‰å‚æ•°æ–‡æ¡£å’Œç±»å‹ä¿¡æ¯çš„å°é¢æ¿files.excludeé…ç½®æ’é™¤çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„ glob æ¨¡å¼. ä¸éœ€è¦å…³å¿ƒçš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åœ¨æ­¤æ’é™¤.files.associationsé…ç½®è¯­è¨€çš„æ–‡ä»¶å…³è”. eg:`â€.jspâ€: â€œjavascriptâ€`*å¿«æ·é”®å…³é”®å­—å¿«æ·é”®åˆ é™¤è¡Œcmd + Dåˆå¹¶è¡Œctrl + Jå…‰æ ‡åé€€ctrl + _å…‰æ ‡å‰è¿›ctrl + shift + _å‘ä¸‹é¢æ’å…¥è¡Œcmd + enterå‘ä¸Šé¢æ’å…¥è¡Œcmd + shift + enterè½¬åˆ°æ–‡ä»¶cmd + Pæ˜¾ç¤ºæ‰€æœ‰å‘½ä»¤cmd + shift + Pæ–‡ä»¶æŸ¥æ‰¾cmd + Få…¨å±€æœç´¢cmd + shift + Fåˆ‡æ¢è¡Œæ³¨é‡Šcmd + /åˆ‡æ¢å—æ³¨é‡Šshift + alt + Aæ’¤é”€cmd + Zæ¢å¤æ’¤é”€cmd + shift + Zç¼©è¿›tabç¼©è¿›shift + tabç§»åŠ¨åˆ°è¡Œå°¾cmd + rightç§»åŠ¨åˆ°è¡Œé¦–cmd + leftå‘ä¸Šç§»åŠ¨è¡Œcmd + upå‘ä¸‹ç§»åŠ¨è¡Œcmd + downä¿æŒæ‰“å¼€çŠ¶æ€(workbench.action.keepEditor)cmd + K enteræ‰“å¼€é›†æˆç»ˆç«¯ctrl + `é›†æˆç»ˆç«¯æ¸…å±cmd + Kæ ¼å¼åŒ–æ–‡ä»¶shift + alt + Få¸¸è§æ“ä½œçª—å£codeå‘½ä»¤VS Codeå¿«é€Ÿæ‰“å¼€æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶,å¯ä»¥å°†å…¶ç›´æ¥æ‹–è‡³VS Codeå›¾æ ‡ä¸Š. æˆ–cmd + shift + Pæ‰“å¼€å‘½ä»¤é¢æ¿, å‘Pathæ·»åŠ code, ç”¨codeå‘½ä»¤æ“ä½œ.æ–‡ä»¶å¯¹æ¯”å·¥ä½œåŒºå¯ä»¥å°†å…¶å®ƒé¡¹ç›®ä¸å½“å‰é¡¹ç›®ç½®äºåŒä¸€å·¥ä½œåŒº, åœ¨åŒä¸€ä¸ªçª—å£æŸ¥çœ‹ç¼–è¾‘.è‡ªå®šä¹‰ç»ˆç«¯åœ¨Macç»ˆç«¯æ”¹é€ é‡Œ, å·²ç»æ‰“é€ å¥½äº†ä¸ªæ€§åŒ–çš„ç»ˆç«¯äº†. åœ¨VS Codeé‡Œåªéœ€è¦æ¢ä¸ªè·¯å¾„å³å¯.åœ¨ç”¨æˆ·è®¾ç½®é‡Œç”¨ä»¥ä¸‹é…ç½®è¦†ç›–.1"terminal.integrated.shell.osx": "/bin/zsh",æ·»åŠ è‡ªå®šä¹‰snippetVS Codeå†…ç½®äº†è‡ªå®šä¹‰snippetåŠŸèƒ½, ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å»æ·»åŠ è‡ªå·±æƒ³è¦çš„ä»£ç æ®µ, çµæ´»ä¸”æ–¹ä¾¿, è¿™æ ·å°±å®Œå…¨æ²¡æœ‰å¿…è¦å»å®‰è£…ç±»ä¼¼çš„æ’ä»¶äº†. ç»†èŠ‚å¯å‚è€ƒ[VS Code]è·Ÿæˆ‘ä¸€èµ·åœ¨Visual Studio Code æ·»åŠ è‡ªå®šä¹‰snippetï¼ˆä»£ç æ®µï¼‰ï¼Œé™„è¯¦ç»†é…ç½®.æ’ä»¶Chinese (Simplified) Language Pack for VS Codeæ­¤ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰è¯­è¨€åŒ…ä¸º VS Code æä¾›æœ¬åœ°åŒ–ç•Œé¢.Bookmarksåœ¨ä»£ç ä¸­åšæ ‡è®°, å¯ä»¥åœ¨ä¸åŒçš„æ ‡è®°ä¸­å¿«é€Ÿä¾¿æ·çš„åˆ‡æ¢.Auto Rename Tagä¿®æ”¹HTML/XMLæ ‡ç­¾æ—¶, é¦–å°¾æ ‡ç­¾ä¼šè‡ªåŠ¨åŒæ­¥æ›´æ”¹.ESLintä¸€ä¸ªå¼€æºçš„ JavaScript ä»£ç æ£€æŸ¥æ’ä»¶, å¯ä»¥åœ¨ç¼–å†™æˆ–ä¿å­˜æ–‡ä»¶æ—¶å¯¹æ–‡ä»¶è¿›è¡Œæ£€æµ‹. æ ¹æ®è§„åˆ™é…ç½®æ–‡ä»¶å¯¹æ–‡ä»¶è¿›è¡Œæ£€æµ‹æç¤º, å¹¶å¯ä»¥è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†ä¸ç¬¦åˆè§„åˆ™çš„éƒ¨åˆ†.&quot;eslint.options&quot;: { &quot;configFile&quot;: &quot;**/**/**&quot; } : æœ¬åœ°çš„é…ç½®æ–‡ä»¶åœ°å€è·¯å¾„.eslint.validate: å¯è¢«è¯†åˆ«çš„æ–‡ä»¶ç±»å‹.eslint.autoFixOnSave: ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤.Debugger for Chromeåœ¨ä»£ç é‡Œæ–­ç‚¹, å°±æ˜¯ç›¸å¯¹åœ°çŸ¥é“æ–‡ä»¶åœ¨å“ªé‡Œå§, Chromeé‡Œæ‰“æ–­ç‚¹è¿˜æ˜¯æŒºå¥½ç”¨åœ°. Debugger for Chrome é…ç½®å¯å‚è§å®˜ç½‘ä¾‹å­.æ’ä»¶ä»€ä¹ˆçš„çœŸçš„ä¸è§å¾—èƒ½æé«˜å¤šå°‘æ•ˆç‡, è®²çœŸ, é¢œå€¼æ‰æ˜¯æ­£ä¹‰, é¢œå€¼æ‰æ˜¯ç‹é“ğŸ¤”.]]></content>
      <categories>
        <category>å–„äº‹åˆ©å™¨</category>
      </categories>
      <tags>
        <tag>ç¼–è¾‘å™¨</tag>
        <tag>Visual Studio Code</tag>
        <tag>VS Code</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼å†æ¬¡è¿›é˜¶]]></title>
    <url>%2F%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%86%8D%E6%AC%A1%E8%BF%9B%E9%98%B6%2F</url>
    <content type="text"><![CDATA[å‘å¸ƒ/è®¢é˜…è€…æ¨¡å¼å‘å¸ƒ/è®¢é˜…æ¨¡å¼æ¦‚å¿µè¯´èµ·è§‚å¯Ÿè€…æ¨¡å¼, å¾€å¾€ä¼šç‰µæ‰¯åˆ°å‘å¸ƒ/è®¢é˜…æ¨¡å¼. ä¸¤è€…å­˜åœ¨ç€å¾ˆå¤šçš„ç›¸ä¼¼ä¹‹å¤„, å®ƒä»¬éƒ½æ˜¯ç»´æŠ¤ç€ä¸€ä¸ªåˆ—è¡¨, ç„¶åéƒ½å¯ä»¥å¯¹åˆ—è¡¨çš„å¯¹è±¡è¿›è¡Œå¢åˆ å’Œé€šçŸ¥. ä¸åŒçš„åœ°æ–¹å¯èƒ½å°±åœ¨äºå¤„ç†æ·»åŠ å’Œé€šçŸ¥çš„æ–¹å¼ä¸Šå§.å‘å¸ƒ/è®¢é˜…æ¨¡å¼ä½¿ç”¨äº†ä¸€ä¸ªä¸»é¢˜/äº‹ä»¶é€šé“, è¿™ä¸ªé€šé“ä»‹äºå¸Œæœ›æ¥åˆ°é€šçŸ¥çš„å¯¹è±¡(è®¢é˜…è€…)å’Œæ¿€æ´»äº‹ä»¶çš„å¯¹è±¡(å‘å¸ƒè€…)ä¹‹é—´. è¯¥äº‹ä»¶ç³»ç»Ÿå…è®¸ä»£ç å®šä¹‰åº”ç”¨ç¨‹åºçš„ç‰¹å®šäº‹ä»¶, è¿™äº›äº‹ä»¶å¯ä»¥ä¼ è¾¾è‡ªå®šä¹‰å‚æ•°, è‡ªå®šä¹‰å‚æ•°åŒ…å«è®¢é˜…è€…æ‰€éœ€çš„å€¼. å…¶ç›®çš„æ˜¯é¿å…è®¢é˜…è€…å’Œå‘å¸ƒè€…ä¹‹é—´äº§ç”Ÿä¾èµ–å…³ç³». â€”â€”â€”ã€Šè®¾è®¡æ¨¡å¼: å¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶åŸºç¡€ã€‹æˆè¯´å‘å¸ƒ/è®¢é˜…æ¨¡å¼æ¨¡å¼ä»¥ä¸‹æ‰€æœ‰ä»£ç å‚è§publish/subscribe.æ—¢ç„¶å’Œè§‚å¯Ÿè€…æ¨¡å¼ç±»ä¼¼, é‚£ä¹ˆåœ¨ä»è§‚å¯Ÿè€…æ¨¡å¼è¯´èµ·æåˆ°çš„å°æ•…äº‹, å°±å¯ä»¥æ¥ç€å¾€ä¸‹ç»­äº†.subject1å¸¦ç€é‚£ä¹ˆä¸€æ‹¨äººå›å»å¤å‘½, ç»è¿‡ä¸€æ®µæ—¶é—´çš„ç£¨åˆå®è·µ, æ•ˆæœä¹Ÿæ˜¯å¾ˆæ˜æ˜¾. é™„è¿‘çš„å…¬å¸å¬åˆ°é£å£°å, ä¹Ÿçº·çº·ç»„ç»‡æ´¾é£å‘˜å·¥å‰æ¥å­¦ä¹ . äººå¤šäº†, éœ€æ±‚ä¹Ÿå˜å¤šäº†, è¿™ä¹ˆå¤šäººè‚¯å®šä¸èƒ½å†å‘†åœ¨ä¸€èµ·å­¦ä¹ äº†. åŸæ¥åªæ˜¯ä¸€ä¸ªå…¬å¸çš„äººå‘†åœ¨ä¸€é—´å±‹å­é‡Œå­¦ä¹ , å¾—åˆ°å‘½ä»¤åå¤§å®¶å¼€å§‹å„å¸å…¶èŒ. ç°åœ¨, å„ä¸ªå…¬å¸çš„å­¦ä¹ å†…å®¹ä¸åŒ, å®ƒä»¬ç†åº”ç‹¬ç«‹å¼€æ¥. å› ä¸ºå„ä¸ªå…¬å¸åŠ¨ä½œå¯ä»¥ä¸åŒæ­¥, ä½†å…¬å¸å†…éƒ¨ä¸€å®šè¦åŒæ­¥èµ·æ¥. ä¸ºäº†åŒºåˆ«å¯¹å¾…, æ¯ä¸ªå…¬å¸éƒ½æœ‰èƒ½å’Œåˆ«äººåŒºåˆ†çš„ä»¤ç‰Œ, æœ‰äº†ä»¤ç‰ŒåŒä¸€ä¸ªå…¬å¸çš„äººå°±å¯ä»¥è¿›å…¥ä¸ä»¤ç‰Œç›¸å¯¹åº”çš„æˆ¿é—´äº†(å½“ç„¶ä¸€ä¸ªäººä¹Ÿå¯ä»¥æœ‰å¾ˆå¤šä»¤ç‰Œ, å•†ä¸šé—´è°å§ğŸ˜‚).1234567// æˆ‘æ˜¯Pubsub, æˆ‘è´Ÿè´£ç®¡ç†è¿™æ‹¨äºº.class Pubsub &#123; constructor() &#123; // ç»´æŠ¤äº‹ä»¶åˆ—è¡¨, è¿™é‡Œå°†ä»¥å¯¹è±¡çš„å½¢å¼å‡ºç°, key: value, key: ä»¤ç‰Œ, value: åŒä¸€å…¬å¸å‘˜å·¥åˆ—è¡¨. this. handles = &#123;&#125; &#125;&#125;ç°åœ¨, ä¸åŒå…¬å¸çš„äººå‰æ¥å­¦ä¹ çš„æ—¶å€™, éœ€è¦å‘Šè¯‰Pubsubä»–ä»¬å…¬å¸çš„ä»¤ç‰Œå·, è¿›è€Œå¼•é¢†åˆ°ä»¤ç‰Œå¯¹åº”çš„æˆ¿é—´.12345678910class Pubsub &#123; // çœç•¥ // æ³¨å†Œäº‹ä»¶. å¦‚æœæ˜¯å…¬å¸ç¬¬ä¸€æ¬¡æ´¾äººè¿‡æ¥, é‚£å°±æ–°å¼€ä¸€é—´. subscribe(type, handle) &#123; if (!this.handles[type]) &#123; this.handles[type] = [] &#125; this.handles[type].push(handle) &#125;&#125;å¦‚æœæŸä¸ªæˆ¿é—´çš„æŸä¸ªäºº, æˆ–æ•´ä¸ªæˆ¿é—´çš„äººéƒ½ä¸æ‰“ç®—æ¥äº†, ä¹Ÿéœ€è¦Pubsubå°†å…¶æ³¨é”€.12345678910111213class Pubsub &#123; // çœç•¥ // æ³¨é”€äº‹ä»¶. å…¬å¸ä¸ªäººæˆ–æ•´ä½“æ³¨é”€. unsubscribe(type, handle) &#123; let pos = this.handles[type].indexOf(handle) if (!handle) &#123; // ä¸ä¼ handle, åˆ™é»˜è®¤æ³¨é”€æ‰€æœ‰å’Œtypeäº‹ä»¶ç›¸å…³çš„äº‹ä»¶å¤„ç†å‡½æ•°. this.handles.length = 0 &#125; else &#123; ~pos &amp;&amp; this.handles[type].splice(pos, 1) &#125; &#125;&#125;ä¸åŒçš„å›¢ä½“åšå‡ºäº†åŒºåˆ†, ç®—æ˜¯ä¸‡äº‹å…·å¤‡. æƒ³è¦å“ªä¸ªæˆ¿é—´é‡Œçš„äººåŠ¨èµ·æ¥, æœ‰äº†ä»¤ç‰Œå·, åªè¦å¯¹ç€å¼ä¸€å—“å­å³å¯.123456789101112class Pubsub &#123; // çœç•¥ // é€šçŸ¥äº‹ä»¶ publish() &#123; // æ‰§è¡Œæ‰€æœ‰å’Œtypeäº‹ä»¶ç›¸å…³çš„å¤„ç†å‡½æ•°. let type = Array.prototype.shift.call(arguments) this.handles[type].forEach(handle =&gt; &#123; // ç®­å¤´å‡½æ•°ä¸ç»‘å®šArgumentså¯¹è±¡ handle.apply(this, arguments) &#125;) &#125;&#125;è®©æˆ‘ä»¬çœ‹çœ‹æ•ˆæœå¦‚ä½•.12345678910111213141516171819202122232425let handle1 = (...rest) =&gt; &#123;document.write('handle1', JSON.stringify(rest), '&lt;br/&gt;')&#125;let handle2 = (...rest) =&gt; &#123;document.write('handle2', JSON.stringify(rest))&#125;let ps = new Pubsub()ps.subscribe('notify-1', handle1)ps.subscribe('notify-1', handle2)ps.subscribe('notify-2', handle2)ps.unsubscribe('notify-1', handle2)ps.publish('notify-1', 'hahaha', 'heiheihei', [], &#123;&#125;)ps.publish('notify-2', 'hehehehehe')// ç»“æœ:handle1["hahaha","heiheihei",[],&#123;&#125;]handle2["hehehehehe"]ä¸éš¾å‘ç°, æˆ‘ä»¬çš„Pubsubè€å¸ˆåªè®¤ä»¤ç‰ŒğŸ˜….]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è§‚å¯Ÿè€…æ¨¡å¼</tag>
        <tag>å‘å¸ƒ/è®¢é˜…æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macç»ˆç«¯æ”¹é€ ]]></title>
    <url>%2FMac%E7%BB%88%E7%AB%AF%E6%94%B9%E9%80%A0%2F</url>
    <content type="text"><![CDATA[å¹³æ—¶Macä½¿ç”¨çš„shellä½¿bash, å®ƒè™½ç„¶èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦, ä½†æ˜¯ä½¿ç”¨èµ·æ¥ä¸æ˜¯å¾ˆæ–¹ä¾¿. zshå¯é…ç½®æ€§å¼º, ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰é…ç½®, ä¸ªæ€§åŒ–å¼º.æ›´æ¢shellæŸ¥çœ‹å½“å‰ä½¿ç”¨çš„shellecho $SHELL1/bin/bashæŸ¥çœ‹ç³»ç»Ÿå½“å‰å†…ç½®çš„shellcat /etc/shells123456/bin/bash/bin/csh/bin/ksh/bin/sh/bin/tcsh/bin/zshå¦‚æœæ²¡æœ‰å‘ç°/bin/zsh, å°±éœ€è¦æ‰‹åŠ¨å®‰è£…Zsh.æ›¿æ¢shellchsh -s /bin/zsh12Changing shell for **.Password for **: your passwordé‡å¯echo $SHELL1/bin/zshæ›¿æ¢æˆåŠŸ!å®‰è£…oh-my-zshoh-my-zshç”¨æ¥ç®¡ç†Zshé…ç½®çš„.å®‰è£…sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;.1234567891011121314Looking for an existing zsh config...Using the Oh My Zsh template file and adding it to ~/.zshrc __ ______ / /_ ____ ___ __ __ ____ _____/ /_/ __ \/ __ \ / __ `__ \/ / / / /_ / / ___/ __ \/ /_/ / / / / / / / / / / /_/ / / /_(__ ) / / /\____/_/ /_/ /_/ /_/ /_/\__, / /___/____/_/ /_/ /____/ ....is now installed!Please look over the ~/.zshrc file to select plugins, themes, and options.p.s. Follow us at https://twitter.com/ohmyzsh.p.p.s. Get stickers and t-shirts at https://shop.planetargon.com.æ›´æ”¹é…ç½®vim ~/.zshrc12345678910111213141516171819202122232425# Set name of the theme to load --- if set to "random", it will# load a random theme each time oh-my-zsh is loaded, in which case,# to know which specific one was loaded, run: echo $RANDOM_THEME# See https://github.com/robbyrussell/oh-my-zsh/wiki/ThemesZSH_THEME="robbyrussell"# Uncomment the following line to disable bi-weekly auto-update checks.# DISABLE_AUTO_UPDATE="true"# Uncomment the following line to enable command auto-correction.ENABLE_CORRECTION="true"# Uncomment the following line to display red dots whilst waiting for completion.COMPLETION_WAITING_DOTS="true"# Which plugins would you like to load?# Standard plugins can be found in ~/.oh-my-zsh/plugins/*# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/# Example format: plugins=(rails git textmate ruby lighthouse)# Add wisely, as too many plugins slow down shell startup.plugins=(git)source $ZSH/oh-my-zsh.shä»¥ä¸Šæ˜¯éƒ¨åˆ†é…ç½®, éœ€å°†#åˆ é™¤æ‰èƒ½ç”Ÿæ•ˆ. é”®å…¥iè¿›å…¥ç¼–è¾‘æ¨¡å¼, ä¿®æ”¹åescé€€å‡ºç¼–è¾‘æ¨¡å¼, é”®å…¥:wqä¿å­˜é€€å‡º. oh-my-zshæœ‰æ”¯æŒçš„ä¸»é¢˜å’Œæ’ä»¶, å¯ä»¥è‡ªç”±é…ç½®.æ’ä»¶æ¨èzsh-syntax-highlightingå®‰è£…zsh-syntax-highlightinggit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlightingä¿®æ”¹é…ç½®(zsh-syntax-highlighting)vim ~/.zshrc123plugins=( git zsh-syntax-highlighting)è®©ä¿®æ”¹ç”Ÿæ•ˆ(zsh-syntax-highlighting)source ~/.zshrczsh-autosuggestionså®‰è£…zsh-autosuggestionsgit clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestionsä¿®æ”¹é…ç½®(zsh-autosuggestions)vim ~/.zshrc123plugins=( git zsh-autosuggestions zsh-syntax-highlighting)è®©ä¿®æ”¹ç”Ÿæ•ˆ(zsh-autosuggestions)source ~/.zshrcå¥½äº†, æ‰“å®Œæ”¶å·¥!]]></content>
      <categories>
        <category>å–„äº‹åˆ©å™¨</category>
      </categories>
      <tags>
        <tag>Macç»ˆç«¯</tag>
        <tag>oh-my-zsh</tag>
        <tag>zsh</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿›å‡»çš„è§‚å¯Ÿè€…æ¨¡å¼]]></title>
    <url>%2F%E8%BF%9B%E5%87%BB%E7%9A%84%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å•†å“ä¿¡æ¯æ”¹å˜å¸¦æ¥çš„çƒ¦æ¼Talk is cheap. Show me the code. (è¯‘: å±è¯å°‘è¯´, æ”¾ç è¿‡æ¥)ä»¥ä¸‹æ‰€æœ‰ä»£ç å‚è§Design pattern transformation.12345678910111213141516171819202122232425// å•†å“çš„ä¿¡æ¯: ä»·æ ¼ &amp; æŠ˜æ‰£const data = &#123; price: 100, discount: 0.8&#125;// é¡¾å®¢ä¿¡æ¯: æ˜¯å¦ä¸ºä¼šå‘˜ &amp; è´­ä¹°æ•°é‡ &amp; æ€»æ¶ˆè´¹ &amp; è´­ä¹°æ—¶é—´æˆ³const customer = &#123; "VIP": true, "quantity": 10, "total": 0,&#125;// æ€»æ¶ˆè´¹è®¡ç®—æ–¹å¼total = (info) =&gt; &#123; if(!info.VIP) &#123; info.total = data.price * info.quantity; &#125; else &#123; info.total = data.price * data.discount * info.quantity; &#125;&#125;total(customer);console.log('customer', customer);// customer &#123; VIP: true, quantity: 10, total: 800 &#125;ä»ä»£ç ä¸­å¾ˆå®¹æ˜“çœ‹å¾—å‡ºæ¥, æˆ‘ä»¬å°±æ˜¯æƒ³å®ç°ä¸€ä¸ªç®€å•çš„è®¡è´¹åŠŸèƒ½. å¯ç°å®ä¸­, å•†å“çš„ä»·æ ¼å¯èƒ½å¹¶ä¸æ˜¯ä¸€æˆä¸å˜çš„.data.price = 200ä»·æ ¼å˜åŠ¨å, æˆ‘ä»¬éœ€è¦åŠæ—¶åœ°è·å–æ€»æ¶ˆè´¹, é‚£ä¹ˆå°±å¿…é¡»é‡æ–°è°ƒç”¨ä¸‹ total è®¡è´¹.123total(customer);console.log('customer', customer);// customer &#123; VIP: true, quantity: 10, total: 1600 &#125;è¿™æ˜¯ä¸€ä¸ªå¤§æ•°æ®æ—¶ä»£, ä»»ä½•æ•°æ®éƒ½æœ‰ä»·å€¼. ç°åœ¨, æˆ‘ä»¬è¿˜æƒ³è¦æ¯æ¬¡è´­ä¹°æ—¶çš„æ—¶é—´ç‚¹.12345678910 const customer = &#123; "VIP": true, "quantity": 10, "total": 0,+ "timeStamp": 0 &#125; // è·å–è´­ä¹°æ—¶é—´ purchaseTime = (info) =&gt; &#123; info.timeStamp = Date.now(); &#125;äºæ˜¯, æˆ‘ä»¬éœ€è¦æ‰§è¡Œçš„å‡½æ•°å°±å¤šäº†ä¸€ä¸ª.1234total(customer)purchaseTime(customer)console.log('customer', customer)// &#123; VIP: true, quantity: 10, total: 1600, timeStamp: 1542293676297 &#125;å¦‚æœæˆ‘ä»¬çš„éœ€æ±‚è¿˜æœ‰å¾ˆå¤š, è€Œä¸”ä¸çŸ¥ä¸€ä¸ªcustomerå‘¢. é‚£ä¹ˆ, æ¯æ¬¡ä»·æ ¼å˜åŒ–æˆ‘ä»¬éœ€è¦æ‰§è¡Œå¾ˆå¤šæ­¥éª¤, æ¯æ¬¡å•Š, éº»çƒ¦å¾—å¾ˆ.1234567891011121314151617181920+ const customer1 = &#123;+ "VIP": false,+ "quantity": 8,+ "total": 0,+ "timeStamp": 0+ &#125; total(customer) purchaseTime(customer) func(customer) ... funcN(customer1) total(customer1) purchaseTime(customer1) func(customer1) ... funcN(customer) ... funcN(customerN)ç°åœ¨æˆ‘ä»¬å°±å¯¹ä¸Šé¢çš„ä»£ç è¿›è¡Œè§‚å¯Ÿè€…æ¨¡å¼æ”¹é€ .ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ”¹é€ ä»ä¸Šé¢çš„ä¾‹å­ä¸­ğŸŒ°ğŸ€„ï¸ä¸éš¾çœ‹å‡º, æ¯æ¬¡ä»·æ ¼å˜åŒ–æ—¶, æˆ‘ä»¬éƒ½éœ€è¦é‡å¤è°ƒç”¨æ»¡è¶³éœ€æ±‚çš„æ–¹æ³•. ä¸å¦¨æƒ³æƒ³, å¦‚æœæˆ‘ä»¬æŠŠè¿™äº›æ–¹æ³•å­˜å‚¨èµ·æ¥, ç­‰åˆ°ä»·æ ¼å˜åŒ–æ—¶å†å»ç»Ÿä¸€è°ƒç”¨, å²‚ä¸æ˜¯å¾ˆæ–¹ä¾¿. é‚£ä¹ˆé—®é¢˜æ¥äº†, è¿™å’Œä¹‹å‰æ‰€è¯´çš„è§‚å¯Ÿè€…æ¨¡å¼(ä»è§‚å¯Ÿè€…æ¨¡å¼è¯´èµ·)æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢? åœ¨æ­¤, æˆ‘ä»¬è¯•ç€ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ”¹é€ ä¸‹.é¦–å…ˆè§‚å¯Ÿè€…æ¨¡å¼éƒ½æ˜¯ä¸€ä¸ªå¥—è·¯. å…ˆä¸€ä¸ªç±»ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨, å¯¹åˆ—è¡¨æœ‰å¢åˆ å’Œé€šçŸ¥æ›´æ–°åŠŸèƒ½. å¦ä¸€ä¸ªç±»åˆ™æ˜¯æä¾›äº†æ›´æ–°æ¥å£.123456789101112131415161718192021// è§‚å¯Ÿç›®æ ‡ç±»class Subject &#123; constructor() &#123; this.observerList = [] &#125; addObserver(observer) &#123; this.observerList.push(observer) &#125; notify(params) &#123; this.observerList.forEach(observer =&gt; &#123; observer.update(params) &#125;) &#125;&#125;// è§‚å¯Ÿè€…ç±»class Observer &#123; constructor(fn) &#123; this.update = fn &#125;&#125;æ¥ç€, æŠŠæˆ‘ä»¬æƒ³è¦è°ƒç”¨çš„æ–¹æ³•åŒ…è£…ä¸€ä¸‹, å­˜å‚¨èµ·æ¥.12345678// å°†è¦é‡å¤ä½¿ç”¨çš„åŒ…è£…ä¸€ä¸‹observer1 = new Observer(total)observer2 = new Observer(purchaseTime)// å­˜èµ·æ¥let subject = new Subject()subject.addObserver(observer1)subject.addObserver(observer2)æ¯æ¬¡ä»·æ ¼æ”¹å˜æ—¶, åªéœ€è¦é€šçŸ¥ä¸€ä¸‹å³å¯.1234// è°ƒæ•´å•†å“ä»·æ ¼data.price = 100subject.notify(customer)subject.notify(customer1)æ”¹é€ ç»“æŸ. åˆçœ‹èµ·æ¥, å¯èƒ½å˜å¾—ç¹çäº†. ä½†æ˜¯, é‡åˆ°å¤æ‚çš„æƒ…å†µ, è¿™ä¸å¤±æ˜¯ä¸€ä¸ªå¥½åŠæ³•. æ¥ä¸‹æ¥, æˆ‘ä»¬çœ‹çœ‹ç»“åˆObjec.definePropertyä¼šæœ‰ä»€ä¹ˆæƒŠå–œ.ä¸Objec.definePropertyç»“åˆæ”¯ä»˜å®çš„èŠ±å‘—éƒ½å¯ä»¥è‡ªå·±è¿˜é’±äº†ğŸ¤£, æˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜è¦åˆ«äººç®¡ç€ğŸ˜. å¤§å®¶éƒ½çŸ¥é“ç»è¿‡Objec.definePropertyå¤„ç†çš„å¯¹è±¡, åœ¨è®¾ç½®å’Œè·å–å¯¹è±¡å±æ€§çš„æ—¶å€™, ä¼šè‡ªåŠ¨è§¦å‘å“åº”setå’Œgetæ–¹æ³•. åˆ©ç”¨è¿™ä¸€ç‚¹, æˆ‘ä»¬å°±å¯ä»¥åšåˆ°ç”Ÿæ´»è‡ªç†äº†. ç†Ÿæ‚‰çš„é…æ–¹, ç†Ÿæ‚‰çš„å‘³é“. ç†Ÿæ‚‰çš„å¥—è·¯æˆ‘ä»¬ä¸å¦¨å†èµ°ä¸€é.123456789101112131415161718192021// è§‚å¯Ÿç›®æ ‡ç±»class Dependency &#123; constructor() &#123; this.watcherList = [] &#125; addObserver(observer) &#123; this.watcherList.push(observer) &#125; notify(params) &#123; this.watcherList.forEach(watcher =&gt; &#123; watcher.update(params) &#125;) &#125;&#125;// è§‚å¯Ÿç±»class Watcher &#123; constructor(fn) &#123; this.update = fn &#125;&#125;æˆ‘ä»¬æ­¤è¡Œçš„ç›®çš„, æ˜¯è¦åœ¨data.price æˆ–data.discountæ”¹å˜æ—¶, ç¨‹åºèƒ½å¤Ÿè‡ªåŠ¨è§¦å‘, å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœ. æ¢å¥è¯è¯´, é€šçŸ¥æ›´æ–°çš„æ—¶æœºæ˜¯åœ¨è®¾ç½®data.priceæˆ–data.discountçš„æ—¶å€™.12345678910111213 Object.keys(data).forEach(key =&gt; &#123; let value = data[key] const dep = new Dependency() Object.defineProperty(data, key, &#123; set(newVal) &#123; value = newVal dep.notify() &#125;, get() &#123; return value &#125; &#125;)&#125;)å¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½ç»™äº†ä¸€ä¸ªä¾èµ–å®ä¾‹, ç®¡ç†è‡ªå·±çš„ä¾èµ–. è€ƒè™‘åˆ°customeræœ‰å¾ˆå¤šä¸ª, éœ€è¦é€šçŸ¥åˆ°ä½. å¦å¤–, æ·»åŠ ä¾èµ–å’Œç®¡ç†ä¾èµ–, å‰è€…æ˜¯å› , åè€…æ˜¯æœ. åœ¨ç®¡ç†ä¹‹å‰æˆ‘ä»¬éœ€è¦æƒ³å¥½æ€ä¹ˆæ·»åŠ ä¾èµ–. å›å¤´çœ‹ä¸€çœ‹.123456789101112 // æ€»æ¶ˆè´¹è®¡ç®—æ–¹å¼ total = (info) =&gt; &#123; if(!info.VIP) &#123; info.total = data.price * info.quantity; &#125; else &#123; info.total = data.price * data.discount * info.quantity; &#125; &#125; // è·å–è´­ä¹°æ—¶é—´purchaseTime = (info) =&gt; &#123; info.timeStamp = Date.now();&#125;æˆ‘ä»¬å‘ç°, total å‡½æ•°ä¾èµ–äºdata.priceæˆ–data.discountçš„. å¦‚æœæˆ‘ä»¬åœ¨è·å–å±æ€§æ—¶å»æ·»åŠ ä¾èµ–å€’æ˜¯ä¸€ä¸ªå¥½æ—¶æœº.1234567891011121314151617181920212223242526272829303132333435 class Dependency &#123; // çœç•¥ &#125;+ Dependency.targey = null;class Watcher &#123; constructor(fn, key) &#123; this.update = fn+ this.key = key+ this.value = this.getter() &#125;+ getter() &#123;+ Dependency.targey = this;+ // è§¦å‘ä¸‹é¢çš„get()+ this.value = data[this.key];+ Dependency.targey = null;+ &#125;&#125;Object.keys(data).forEach(key =&gt; &#123; let value = data[key] const dep = new Dependency() Object.defineProperty(data, key, &#123; set(newVal) &#123; value = newVal dep.notify() &#125;, get() &#123;+ if (Dependency.targey) &#123;+ dep.addObserver(Dependency.targey)+ &#125; return value &#125; &#125;)&#125;)ç„¶è€Œ purchaseTime æ–¹æ³•é‡Œå¹¶æ²¡æœ‰data.priceæˆ–data.discountå¯ä»¥è®¾ç½®. æ‰€ä»¥è¿™ä¸ªæ–¹æ³•è¡Œä¸é€š. é‚£ä¹ˆ, å¹²è„†ç´§æ¥ç€ä¾èµ–å®ä¾‹å»æ·»åŠ ä¾èµ–å§. åŒæ—¶è€ƒè™‘åˆ°å¤šä¸ªcustomer, æˆ‘ä»¬å°è£…ä¸‹.1234567891011121314151617181920212223// ä¸definePropertyç»“åˆfunction defineReactive(data, watcherList, funcList) &#123; Object.keys(data).forEach(key =&gt; &#123; let value = data[key] const dep = new Dependency() funcList.forEach(func =&gt; &#123; dep.addObserver(new Watcher(func)) &#125;) Object.defineProperty(data, key, &#123; set(newVal) &#123; value = newVal watcherList.forEach(watcher =&gt; &#123; dep.notify(watcher) &#125;) &#125;, get() &#123; return value &#125; &#125;) &#125;)&#125;defineReactive(data, [customer, customer1], [total, purchaseTime])å¤§åŠŸå‘Šæˆ, ä»·æ ¼å˜åŠ¨æ—¶, æˆ‘ä»¬å°±ä¼šè‡ªåŠ¨è·å–åˆ°æƒ³è¦çš„ç»“æœäº†. æˆ‘éƒ½èƒ½è‡ªç†äº†, ä½ èŠ±å‘—ä¸ºå˜›è¿˜ä¸èƒ½è‡ªå·±è¿˜é’±å‘¢ğŸ˜’]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è§‚å¯Ÿè€…æ¨¡å¼</tag>
        <tag>Object.defineProperty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»è§‚å¯Ÿè€…æ¨¡å¼è¯´èµ·]]></title>
    <url>%2F%E4%BB%8E%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E8%AF%B4%E8%B5%B7%2F</url>
    <content type="text"><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼è§‚å¯Ÿè€…æ¨¡å¼çš„å®šä¹‰Observer(è§‚å¯Ÿè€…)æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼, å…¶ä¸­, ä¸€ä¸ªå¯¹è±¡(ç§°ä¸º subject) ç»´æŒä¸€ç³»åˆ—ä¾èµ–äºå®ƒçš„è§‚å¯Ÿè€…å¯¹è±¡, å°†æœ‰å…³çŠ¶æ€çš„ä»»ä½•å˜æ›´è‡ªåŠ¨é€šçŸ¥ç»™è§‚å¯Ÿè€….å½“ä¸€ä¸ªç›®æ ‡(subject)éœ€è¦å‘Šè¯‰è§‚å¯Ÿè€…å‘ç”Ÿäº†ä»€ä¹ˆæœ‰è¶£çš„äº‹æƒ…, å®ƒä¼šå‘è§‚å¯Ÿè€…å¹¿æ’­ä¸€ä¸ªé€šçŸ¥. å½“æˆ‘ä»¬ä¸å†å¸Œæœ›æŸä¸ªç‰¹å®šçš„è§‚å¯Ÿè€…è·å¾—å…¶æ³¨å†Œç›®æ ‡(subject)å‘å‡ºçš„æ”¹å˜é€šçŸ¥æ—¶, è¯¥ç›®æ ‡å¯ä»¥å°†å®ƒä»è§‚å¯Ÿè€…åˆ—è¡¨ä¸­åˆ é™¤.â€œä¸€ä¸ªæˆ–å¤šä¸ªè§‚å¯Ÿè€…å¯¹ç›®æ ‡çš„çŠ¶æ€æ„Ÿå…´è¶£, å®ƒä»¬é€šè¿‡å°†è‡ªå·±ä¾é™„åœ¨ç›®æ ‡å¯¹è±¡ä¸Šä»¥ä¾¿æ³¨å†Œæ‰€æ„Ÿå…´è¶£çš„å†…å®¹. ç›®æ ‡çŠ¶æ€å‘ç”Ÿæ”¹å˜å¹¶ä¸”è§‚å¯Ÿè€…å¯èƒ½å¯¹è¿™äº›æ”¹å˜æ„Ÿå…´è¶£, å°±ä¼šå‘é€ä¸€ä¸ªé€šçŸ¥æ¶ˆæ¯, è°ƒç”¨æ¯ä¸ªè§‚å¯Ÿè€…çš„æ›´æ–°æ–¹æ³•. å½“è§‚å¯Ÿè€…ä¸å†å¯¹ç›®æ ‡çŠ¶æ€æ„Ÿå…´è¶£æ—¶, å®ƒä»¬å¯ä»¥ç®€å•åœ°å°†è‡ªå·±ä»ä¸­åˆ†ç¦».â€ â€”â€”â€”ã€Šè®¾è®¡æ¨¡å¼: å¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶åŸºç¡€ã€‹è§‚å¯Ÿè€…æ¨¡å¼çš„ç†è§£ä»è§‚å¯Ÿè€…æ¨¡å¼çš„å®šä¹‰ä¸­å¯ä»¥å¯¹è§‚å¯Ÿè€…æ¨¡å¼æœ‰ä¸ªå¤§ä½“çš„äº†è§£. è§‚å¯Ÿè€…æ¨¡å¼ä¸­æœ‰ä¸¤ç±», ä¸€ç±»è¢«ç§°ä¸ºç›®æ ‡(Subject), ä¸€ç±»è¢«ç§°ä¸ºè§‚å¯Ÿè€…(Observer). Subjectçš„å·¥ä½œæ˜¯ç»´æŠ¤ä¸€ç³»åˆ—çš„Observer, å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œæ·»åŠ ã€åˆ é™¤å’Œé€šçŸ¥çš„æ“ä½œ. Observerçš„å·¥ä½œåˆ™æ˜¯ä¸ºSubjectçŠ¶æ€å‘ç”Ÿå˜åŒ–éœ€è¦è·å¾—é€šçŸ¥çš„å¯¹è±¡æä¾›æ›´æ–°æ¥å£.æˆè¯´è§‚å¯Ÿè€…æ¨¡å¼å…ˆä¸ç®¡è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä»€ä¹ˆ, æˆ‘ä»¬å¯ä»¥è¯•ç€æƒ³æƒ³å¦‚ä½•ä»è§‚å¯Ÿè€…æ¨¡å¼çš„å®šä¹‰å»å®ç°è¿™äº›åŠŸèƒ½. ä¸‹é¢æˆ‘ä»¬ä»ä¸€ä¸ªå°æ•…äº‹è¯´èµ·.ä»å‰æœ‰ä¸ªäºº. å‡­ç€å¤©èµ„èªé¢–å†åŠ ä¸Šé—¯è¡æ±Ÿæ¹–å¤šå¹´, æ— è®ºä»äº‹ä»€ä¹ˆè¡Œä¸šéƒ½èƒ½ç§°ä¸ºè¡Œä¸šç¿˜æ¥š, ç®—æ˜¯æœ‰åæ°”çš„äººç‰©.1class Subject &#123;&#125; // æˆ‘æ˜¯æœ‰ä¸ªäºº. Subjectæ˜¯æ±Ÿæ¹–é€æˆ‘çš„ç»°å·.æœ‰ä¸€å¤©, æœ‰ä¸€ä¸ªåˆåˆ›å…¬å¸æ…•åå‰æ¥æ‹œè®¿, æ¢è®¨å¦‚ä½•åœ¨ç°åœ¨è¿™ä¸ªæ¿€çƒˆçš„ç«äº‰ç¯å¢ƒä¸‹èµ¢å¾—ä¸€å¸­ä¹‹åœ°.1class Observer &#123;&#125; // æˆ‘æ˜¯ä¸€å®¶åˆåˆ›å…¬å¸, Observeræ˜¯æˆ‘å…¬å¸çš„åå­—.ä¸¤äººè§é¢ç›´å¥”ä¸»é¢˜.â€˜ä½ å¯ä»¥æ´¾äº›äººæ¥, æˆ‘ç»™ä»–ä»¬åšåŸ¹è®­. â€™, Subjectå¦‚æ­¤è¯´é“. Observerç‚¹å¤´åŒæ„.â€˜å¯æ˜¯æˆ‘å¦‚ä½•æ‰èƒ½è®©ä»–ä»¬æœä»å¹¶æ‰§è¡Œå‘¢?â€™, Subjecté—®åˆ°. â€˜æˆ‘ä»¬å¯ä»¥å‘ä½ æä¾›ç»Ÿä¸€çš„å¯¹æ¥æ–¹å¼â€™, Observerå›ç­”åˆ°.â€˜è¡Œ, è°è¦æœ‰å…´è¶£è°å°±è¿‡æ¥å§â€™12345678/* updateæ˜¯æˆ‘ä»¬çš„å¯¹æ¥æ–¹å¼, fnæ˜¯æˆ‘ä»¬çš„èŒèƒ½.åªéœ€è¦èµ°updateè¿™ä¸ªæµç¨‹, æˆ‘ä»¬ä¼šå„å¸å…¶èŒ.ä¸‹é¢è¿™æ˜¯ä¸ªæˆ‘ä»¬çš„æ¨¡å­, æ¯ä¸ªèµ°å‡ºå»çš„äººéƒ½å¤§ä½“è¿™æ ·.*/class Observer &#123; constructor(fn) &#123; this.update = fn &#125;&#125;ä¸ºäº†åç»­çš„å¼€å±•, å¤œæ›‰å®¸ä¹Ÿåšäº†å‡†å¤‡. ä¸ºéšåè¦æ¥çš„äººè…¾å‡ºäº†ç©ºé—´, å¹¶æƒ³å¥½äº†å¦‚ä½•æ¥å¾…æ¯ä¸ªäºº.12345678class Subject &#123; constructor() &#123; this.observesList = []; // è¿™é‡Œæ˜¯ä¸ºå‚ä¸è€…è…¾å‡ºçš„ç©ºé—´. &#125; addObserver(observer) &#123; this.observerList.push(observer); // æ‹›å¾…æ¯ä¸€ä¸ªå‚ä¸è€…, å°±æ˜¯å¼•å¯¼å‚ä¸è€…è¿›å…¥è…¾å‡ºçš„ç©ºé—´. &#125;&#125;ä¸æ—¥, Observeræ´¾äººå¸¦ç€å„è‡ªæœ¬èŒèŒåŠ¡è¿‡æ¥äº†.123const observer1 = new Observer(() =&gt; &#123;document.write(`$&#123;order&#125;: æˆ‘æ˜¯è´¢åŠ¡, æˆ‘è¦å¼€å§‹ç®—ç»©æ•ˆå‘å·¥èµ„äº†&lt;br/&gt;`));const observer2 = new Observer(() =&gt; &#123;document.write(`$&#123;order&#125;: æˆ‘æ˜¯åå‹¤å®¢æœ, æœ‰ä»€ä¹ˆäº‹æƒ…éœ€è¦å¸®åŠ©çš„?&lt;br/&gt;`));const observer3 = new Observer(() =&gt; &#123;document.write(`$&#123;order&#125;: æˆ‘æ˜¯äººäº‹, æˆ‘è¦æ‹›äººäº†&lt;br/&gt;`));æ—¢ç„¶äººæ¥äº†, é‚£å°±æ¥å¾….1234const subject = new Subject(); // äº‹åŠ¡ç¹å¿™, æ´¾äº†ä¸€ä¸ªå½±åˆ†èº«.subject.addObserver(observer1); // å¼•å¯¼observer1è¿›å…¥æˆ¿é—´.subject.addObserver(observer2); // å¼•å¯¼observer2è¿›å…¥æˆ¿é—´.subject.addObserver(observer3); // // å¼•å¯¼observer3è¿›å…¥æˆ¿é—´.â€˜æ—¢ç„¶æ¥åˆ°äº†è¿™ä¸ªæˆ¿é—´, å°±è¦æ˜ç¡®ä¸€ç‚¹, é‚£å°±æ˜¯ä½ ä»¬å¾—å¬æˆ‘æŒ‡ä»¤, åˆ°æ—¶æˆ‘ä¼šä½¿ç”¨ä½ ä»¬å…¬å¸ç»Ÿä¸€çš„å¯¹æ¥æ–¹å¼â€™1234567class Subject &#123; // çœç•¥ notify(context) &#123; // ç”±å…¬å¸æä¾›çš„ç»Ÿä¸€å¯¹æ¥æ–¹å¼ï¼Œå‘åœ¨åœºçš„æ¯ä¸€ä¸ªObserverä¼ è¾¾å¹¶è®©å…¶æ‰§è¡Œ. this.observerList.forEach(observer =&gt; observer.update(context)); &#125;&#125;â€˜å¦‚æœä½ ä»¬ä¸æƒ³å‘†ä¸‹å»äº†, å¯ä»¥å’Œæˆ‘è¯´, æˆ‘å¯ä»¥å¼•å¯¼ä½ ä»¬å‡ºå»â€™12345678class Subject &#123; // çœç•¥ removeObserver(observer) &#123; // å¯¹äºä¸å†æ„Ÿå…´è¶£çš„Observerï¼Œå¯ä»¥å°†å…¶å‰”é™¤ï¼Œå…¶ä¸ä¼šå†æ”¶åˆ°ä»»ä½•æ¥è‡ªSubjectçš„é€šçŸ¥. let pos = this.observerList.indexOf(observer); this.observerList.splice(pos, 1); &#125;&#125;â€˜ç°åœ¨, è¦ä¸‹è¾¾æŒ‡ä»¤äº†!â€™12// çœç•¥subject.notify('æè¿°ä¸‹å„è‡ªçš„èŒèƒ½');â€˜å¥½äº†, è¿™äº›å°±æ˜¯æˆ‘ä»¬åŸ¹è®­çš„å†…å®¹, å°±æ˜¯è¿™ä¹ˆç®€å•â€™â€˜å°±è¿™ä¹ˆç®€å•?!?, æ—¢ç„¶è¿™æ ·, å°±é€æˆ‘å‡ºå»å§, æˆ‘ä¸æƒ³å†å‘†ä¸‹å»äº† â€™, observer2è¯´åˆ°.12// çœç•¥subject.removeObserver(observer2);åˆ°æ­¤æ•…äº‹å‘Šä¸€æ®µè½äº†, Observeræ¨¡å¼åœ¨çº¿Demo.å†çœ‹è§‚å¯Ÿè€…æ¨¡å¼æˆ‘ä»¬ä»å‡ æ®µå¯¹è¯ä¸­, ç¨€é‡Œç³Šæ¶‚çš„å®Œæˆäº†æœ¬æ–‡å¼€å¤´è§‚å¯Ÿè€…æ¨¡å¼æ‰€å®šä¹‰çš„é‚£æ ·. æœ‰è´Ÿè´£ç®¡ç†ä¸€ç³»åˆ—ä¾èµ–çš„å¯¹è±¡, æœ‰æä¾›æ›´æ–°æ¥å£çš„å¯¹è±¡. æˆ‘ä»¬å¯ä»¥çœ‹åˆ°, å½“subject1å‘å‡ºé€šçŸ¥æ—¶, æ¯ä¸ªobserveéƒ½èƒ½å»æ‰§è¡Œ. observerä»¬çš„è¡Œä¸ºä¾èµ–äºsubject1çš„. ä¸ºä»€ä¹ˆèƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹, é‚£æ˜¯å› ä¸ºobserveä»¬çš„è¡Œä¸ºä½œä¸ºè‡ªèº«çš„ä¸€éƒ¨åˆ†å¯„å­˜åœ¨äº†subject1, subject1å°±å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å»è‡ªå·±è…¾å‡ºçš„å°å±‹å­é‡Œé€šçŸ¥observerä»¬æ‰§è¡Œ.å¦‚æœsubject1 å¸¦ç€è¿™ä¹ˆä¸€æ³¢å‚åŠ è¿‡åŸ¹è®­çš„observerä»¬å›å»äº¤å·®, è‚¯å®šä¼šè¢«ç¬‘è¯. subject1å’Œobserverä»¬çš„è¿™ç§åä½œæ–¹å¼, è¢«ç§°åšè§‚å¯Ÿè€…æ¨¡å¼. è¿™ä¸è¿‡æ˜¯ä¸€ä¸ªæ¨¡å¼, ä½•æ—¶å­˜å‚¨ä½•ç§ä¸œè¥¿, ä½•æ—¶åˆå»æ‰§è¡Œå­˜å‚¨çš„ä¸œè¥¿é‚£æ‰æ˜¯å…³é”®. å¦‚æœæ”¾åˆ°ä¸Šé¢çš„å°æ•…äº‹é‡Œ, é‚£å°±æ˜¯ä½•æ—¶éœ€è¦ä½•ç§äºº, ä½•æ—¶å¼€å§‹å»åšäº‹, è¿™éƒ½éœ€è¦å®¡æ—¶åº¦åŠ¿. åªæœ‰è¿™æ ·å…¬å¸æ‰èƒ½åœ¨æ¿€çƒˆçš„ç«äº‰ç¯å¢ƒä¸­èµ¢å¾—ä¸€å¸­ä¹‹åœ°. åªæœ‰è¿™æ ·, è§‚å¯Ÿè€…æ¨¡å¼æ‰èƒ½å‘æŒ¥å®ƒæœ€å¤§çš„ä½œç”¨.]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è§‚å¯Ÿè€…æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayåŸå‹ä¹‹è¿­ä»£æ–¹æ³•]]></title>
    <url>%2FArray%E5%8E%9F%E5%9E%8B%E4%B9%8B%E8%BF%AD%E4%BB%A3%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ArrayArrayå¯¹è±¡æ˜¯ç”¨äºæ„é€ æ•°ç»„çš„å…¨å±€å¯¹è±¡.æ¦‚è¿°æ•°ç»„å¯¹è±¡æ˜¯ä¸€ä¸ªæœ‰åºçš„æ•°æ®(åŸå§‹ç±»å‹æˆ–å¯¹è±¡ç±»å‹)é›†åˆ, æ˜¯ä¸€ç§ç±»åˆ—è¡¨å¯¹è±¡,å®ƒçš„åŸå‹æä¾›äº†æ•°ç»„æ“ä½œçš„æ–¹æ³•.æ•°ç»„åªèƒ½ç”¨æ•´æ•°ä½œä¸ºæ•°ç»„å…ƒç´ çš„ç´¢å¼•,è€Œä¸æ˜¯å­—ç¬¦ä¸²,ä¸”ä»0å¼€å§‹,ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º0.ä½¿ç”¨éæ•´æ•°å¹¶é€šè¿‡[]æˆ–.æ¥è®¿é—®æ•°ç»„æˆ–è®¾ç½®æ•°ç»„å…ƒç´ æ—¶,æ‰€æ“ä½œçš„å¹¶ä¸æ˜¯æ•°ç»„åˆ—è¡¨çš„å…ƒç´ ,è€Œæ˜¯æ•°ç»„å¯¹è±¡å±æ€§é›†åˆä¸Šçš„å˜é‡.æ•°ç»„å¯¹è±¡çš„å±æ€§å’Œæ•°ç»„å…ƒç´ åˆ—è¡¨æ˜¯åˆ†å¼€å­˜å‚¨çš„,å¹¶ä¸”æ•°ç»„çš„éå†å’Œä¿®æ”¹æ“ä½œä¹Ÿä¸èƒ½ä½œç”¨äºè¿™äº›å‘½åå±æ€§.123456var arr = [];arr['zero'] = 'zero';arr[0] = 0;arr.forEach(item =&gt; console.log(item))// 0åŸå‹æ–¹æ³•è¿­ä»£æ–¹æ³•Array.prototype.forEach()è¯­æ³• :array.forEach(callback(currentValue[, index[, array]]){ // do something }[, thisArg])callback : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.currentValue : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ .index : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•.array : è°ƒç”¨è¯¥æ–¹æ³•çš„æ•°ç»„.thisArg : æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶thiså¯¹åº”çš„å¯¹è±¡. å¦‚æœçœç•¥äº† thisArg å‚æ•°, æˆ–è€…èµ‹å€¼ä¸º null æˆ– undefined, åˆ™ this æŒ‡å‘å…¨å±€å¯¹è±¡.è¿”å›å€¼ :123456789101112let obj = &#123;name: 'obj'&#125;;let arr0 = [3, 2, 1];let arr00 = arr0.forEach(function(currentValue, index, array)&#123; console.log('arr0:', arr0,'currentValue:', currentValue, 'index:', index, 'array:', array, 'thisArg:', this);&#125;, obj);console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] thisArg: &#123;name: 'obj' &#125;;// arr0: [ 3, 2, 1 ] currentValue: 2 index: 1 array: [ 3, 2, 1 ] thisArg: &#123;name: 'obj' &#125;;// arr0: [ 3, 2, 1 ] currentValue: 1 index: 2 array: [ 3, 2, 1 ] thisArg: &#123;name: 'obj' &#125;;// arr00: undefined;Array.prototype.map()è¯­æ³• :array.map(callback(currentValue[, index[, array]]){ // do something }[, thisArg])callback : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.currentValue : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ .index : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•.array : è°ƒç”¨è¯¥æ–¹æ³•çš„æ•°ç»„.thisArg : æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶thiså¯¹åº”çš„å¯¹è±¡. å¦‚æœçœç•¥äº† thisArg å‚æ•°, æˆ–è€…èµ‹å€¼ä¸º null æˆ– undefined, åˆ™ this æŒ‡å‘å…¨å±€å¯¹è±¡.è¿”å›å€¼ : ç”±æ¯ä¸ªæ•°ç»„å…ƒç´ è°ƒç”¨callbackåçš„è¿”å›å€¼ç»„æˆçš„æ–°æ•°ç»„.1234567891011121314let obj = &#123;name: 'obj'&#125;;let arr0 = [3, 2, 1];let arr00 = arr0.map(function(currentValue, index, array)&#123; let newVal = currentValue * 2; console.log('arr0:', arr0, 'currentValue:', currentValue, 'index:', index, 'array:', array, 'newVal:', newVal, 'thisArg:', this); return newVal;&#125;, obj);console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] newVal: 6 thisArg: &#123; name: 'obj' &#125;;// arr0: [ 3, 2, 1 ] currentValue: 2 index: 1 array: [ 3, 2, 1 ] newVal: 4 thisArg: &#123; name: 'obj' &#125;;// arr0: [ 3, 2, 1 ] currentValue: 1 index: 2 array: [ 3, 2, 1 ] newVal: 2 thisArg: &#123; name: 'obj' &#125;;// arr00: [ 6, 4, 2 ]Array.prototype.every()è¯­æ³• :array.every(callback(currentValue[, index[, array]]){ // do something }[, thisArg])callback : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.currentValue : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ .index : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•.array : è°ƒç”¨è¯¥æ–¹æ³•çš„æ•°ç»„.thisArg : æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶thiså¯¹åº”çš„å¯¹è±¡. å¦‚æœçœç•¥äº† thisArg å‚æ•°, æˆ–è€…èµ‹å€¼ä¸º null æˆ– undefined, åˆ™ this æŒ‡å‘å…¨å±€å¯¹è±¡.è¿”å›å€¼ : å¸ƒå°”å€¼. ç”±æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è°ƒç”¨callbackå, å½“æ‰€æœ‰çš„å…ƒç´ éƒ½ç¬¦åˆæ¡ä»¶(çœŸå€¼)æ‰è¿”å›true. å¦åˆ™, è¿”å›false. å¦å¤–, å¯¹äºæ”¾åœ¨ç©ºæ•°ç»„ä¸Šçš„ä»»ä½•æ¡ä»¶, æ­¤æ–¹æ³•è¿”å› true.1234567891011121314151617181920212223242526272829303132let obj = &#123; name: 'obj'&#125;let arr0 = [3, 2, 1];let arr00 = arr0.every(function(currentValue, index, array)&#123; let newVal = currentValue * 3; console.log('arr0:', arr0, 'currentValue:', currentValue, 'index:', index, 'array:', array, 'newVal:', newVal, 'thisArg:', this); return newVal &gt; 2;&#125;, obj)console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] newVal: 9 thisArg: &#123; name: 'obj' &#125;// arr0: [ 3, 2, 1 ] currentValue: 2 index: 1 array: [ 3, 2, 1 ] newVal: 6 thisArg: &#123; name: 'obj' &#125;// arr0: [ 3, 2, 1 ] currentValue: 1 index: 2 array: [ 3, 2, 1 ] newVal: 3 thisArg: &#123; name: 'obj' &#125;// arr00: true;let obj = &#123; name: 'obj'&#125;let arr0 = [3, 2, 1];let arr00 = arr0.every(function(currentValue, index, array)&#123; let newVal = currentValue * 3; console.log('arr0:', arr0, 'currentValue:', currentValue, 'index:', index, 'array:', array, 'newVal:', newVal, 'thisArg:', this); return newVal &gt; 6;&#125;, obj)console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] newVal: 9 thisArg: &#123; name: 'obj' &#125;;// arr0: [ 3, 2, 1 ] currentValue: 2 index: 1 array: [ 3, 2, 1 ] newVal: 6 thisArg: &#123; name: 'obj' &#125;;// arr00: false;Array.prototype.some()è¯­æ³• :array.some(callback(currentValue[, index[, array]]){ // do something }[, thisArg])callback : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.currentValue : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ .index : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•.array : è°ƒç”¨è¯¥æ–¹æ³•çš„æ•°ç»„.è¿”å›å€¼ : å¸ƒå°”å€¼. ç”±æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è°ƒç”¨callbackå, å½“æœ‰å…ƒç´ ç¬¦åˆæ¡ä»¶(çœŸå€¼)å°±è¿”å›true. å¦åˆ™, è¿”å›false. å¦å¤–, å¯¹äºæ”¾åœ¨ç©ºæ•°ç»„ä¸Šçš„ä»»ä½•æ¡ä»¶, æ­¤æ–¹æ³•è¿”å› false.12345678910111213141516171819202122232425262728293031let obj = &#123; name: 'obj'&#125;let arr0 = [3, 2, 1];let arr00 = arr0.some(function(currentValue, index, array)&#123; let newVal = currentValue * 3; console.log('arr0:', arr0, 'currentValue:', currentValue, 'index:', index, 'array:', array, 'newVal:', newVal, 'thisArg:', this); return newVal &gt; 6;&#125;, obj)console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] newVal: 9 thisArg: &#123; name: 'obj' &#125;;// arr00: true;let obj = &#123; name: 'obj'&#125;let arr0 = [3, 2, 1];let arr00 = arr0.some(function(currentValue, index, array)&#123; let newVal = currentValue * 3; console.log('arr0:', arr0, 'currentValue:', currentValue, 'index:', index, 'array:', array, 'newVal:', newVal, 'thisArg:', this); return newVal &gt; 9;&#125;, obj)console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] newVal: 9 thisArg: &#123; name: 'obj' &#125;;// arr0: [ 3, 2, 1 ] currentValue: 2 index: 1 array: [ 3, 2, 1 ] newVal: 6 thisArg: &#123; name: 'obj' &#125;;// arr0: [ 3, 2, 1 ] currentValue: 1 index: 2 array: [ 3, 2, 1 ] newVal: 3 thisArg: &#123; name: 'obj' &#125;;// arr00: false;Array.prototype.filter()è¯­æ³• :arr.filter(callback(currentValue[, index[, array]])[, thisArg])callback : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.currentValue : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ .index : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•.array : è°ƒç”¨è¯¥æ–¹æ³•çš„æ•°ç»„.è¿”å›å€¼ : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è°ƒç”¨callbackå, ç”±ç¬¦åˆæ¡ä»¶çš„æ•°ç»„å…ƒç´ ç»„æˆçš„æ–°æ•°ç»„.å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ , åˆ™è¿”å›ç©ºæ•°ç»„.12345678910111213141516let obj = &#123; name: 'obj'&#125;let arr0 = [3, 2, 1];let arr00 = arr0.filter(function(currentValue, index, array)&#123; let boolean = currentValue &gt; 1 ? true : false; console.log('arr0:', arr0, 'currentValue:', currentValue, 'index:', index, 'array:', array, 'thisArg:', this); return boolean;&#125;, obj)console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] thisArg: &#123; name: 'obj' &#125;// arr0: [ 3, 2, 1 ] currentValue: 2 index: 1 array: [ 3, 2, 1 ] thisArg: &#123; name: 'obj' &#125;//arr0: [ 3, 2, 1 ] currentValue: 1 index: 2 array: [ 3, 2, 1 ] thisArg: &#123; name: 'obj' &#125;// arr00: [ 3, 2 ];Array.prototype.find()è¯­æ³• :arr.find(callback(currentValue[, index[, array]])[, thisArg])callback : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.currentValue : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ .index : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•.array : è°ƒç”¨è¯¥æ–¹æ³•çš„æ•°ç»„.è¿”å›å€¼ : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è°ƒç”¨callbackå, è¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ . å¦åˆ™è¿”å› undefined.1234567891011121314let obj = &#123; name: 'obj'&#125;let arr0 = [3, 2, 1];let arr00 = arr0.find(function(currentValue, index, array)&#123; let boolean = currentValue &gt; 1 ? true : false; console.log('arr0:', arr0, 'currentValue:', currentValue, 'index:', index, 'array:', array, 'thisArg:', this); return boolean;&#125;, obj)console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] thisArg: &#123; name: 'obj' &#125;;// arr00: 3;Array.prototype.findIndex()è¯­æ³• :arr.findIndex(callback(currentValue[, index[, array]])[, thisArg])callback : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.currentValue : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ .index : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•.array : è°ƒç”¨è¯¥æ–¹æ³•çš„æ•°ç»„.è¿”å›å€¼ : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è°ƒç”¨callbackå, è¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ç´¢å¼•. å¦åˆ™è¿”å› -1.1234567891011121314let obj = &#123; name: 'obj'&#125;let arr0 = [3, 2, 1];let arr00 = arr0.findIndex(function(currentValue, index, array)&#123; let boolean = currentValue &gt; 1 ? true : false; console.log('arr0:', arr0, 'currentValue:', currentValue, 'index:', index, 'array:', array, 'thisArg:', this); return boolean;&#125;, obj)console.log('arr00:', arr00);// arr0: [ 3, 2, 1 ] currentValue: 3 index: 0 array: [ 3, 2, 1 ] thisArg: &#123; name: 'obj' &#125;;// arr00: 0;Array.prototype.reduce()è¯­æ³• :arr.reduce(callback(accumulator[, currentValue[, index[, array]]])[, initialValue])callback : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.accumulator : ä¸Šä¸€ä¸ªå…ƒç´ è°ƒç”¨å›è°ƒå‡½æ•°åçš„è¿”å›å€¼. å›è°ƒå‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶, è‹¥æä¾›äº†initialValue,åˆ™accumulatorå–å€¼ä¸ºinitialValue. è‹¥æ²¡æœ‰æä¾›initialValue, åˆ™accumulatorå–å€¼ä¸ºæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ .currentValue : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ . å›è°ƒå‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶, è‹¥æä¾›äº†initialValue, åˆ™currentValueå–å€¼ä¸ºæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ . è‹¥æ²¡æœ‰æä¾›initialValue, åˆ™currentValueå–å€¼ä¸ºæ•°ç»„ä¸­ç¬¬äºŒå€¼.index : æ•°ç»„ä¸­æ­£åœ¨è¢«å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•.array : è°ƒç”¨è¯¥æ–¹æ³•çš„æ•°ç»„.è¿”å›å€¼ : æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è°ƒç”¨callbackå, å°†ä¸Šä¸€æ¬¡å›è°ƒå‡½æ•°æ‰§è¡Œç»“æœä½œä¸ºä¸‹ä¸€æ¬¡å›è°ƒå‡½æ•°å‚æ•°, å¹¶æœ€ç»ˆè¿”å›å•ä¸ªç»“æœå€¼.1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253let arr0 = [3, 2, 1];let arr00 = arr0.reduce(function(accumulator, currentValue, index, array) &#123; console.log('arr0', arr0, 'accumulator:', accumulator, 'currentValue:', currentValue, 'index:', index, 'array:', array); return accumulator + currentValue;&#125;, 0);console.log('arr00:', arr00);// arr0 [ 3, 2, 1 ] accumulator: 0 currentValue: 3 index: 0 array: [ 3, 2, 1 ];// arr0 [ 3, 2, 1 ] accumulator: 3 currentValue: 2 index: 1 array: [ 3, 2, 1 ];// arr0 [ 3, 2, 1 ] accumulator: 5 currentValue: 1 index: 2 array: [ 3, 2, 1 ];// arr00: 6;let arr0 = [3, 2, 1];let arr00 = arr0.reduce(function(accumulator, currentValue, index, array) &#123; console.log('arr0', arr0, 'accumulator:', accumulator, 'currentValue:', currentValue, 'index:', index, 'array:', array); return accumulator + currentValue;&#125;);console.log('arr00:', arr00);// arr0 [ 3, 2, 1 ] accumulator: 3 currentValue: 2 index: 1 array: [ 3, 2, 1 ];// arr0 [ 3, 2, 1 ] accumulator: 5 currentValue: 1 index: 2 array: [ 3, 2, 1 ];// arr00: 6;let arr0 = [1, 2, 3, 44, 5, 3, 2, 53, 1, 2, 3, 5, 44, 53, 55];const reducer = (accumulator, currentValue) =&gt; &#123; console.log('arr0', arr0, 'accumulator', accumulator, 'currentValue', currentValue); if (accumulator.length === 0 || accumulator[accumulator.length - 1] !== currentValue) &#123; accumulator.push(currentValue); &#125; return accumulator;&#125;;let arr00 = arr0.sort((a, b) =&gt; &#123;return a - b&#125;).reduce(reducer, []);console.log('arr00:', arr00);// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [] currentValue 1;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1 ] currentValue 1;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1 ] currentValue 2;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2 ] currentValue 2;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2 ] currentValue 2;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2 ] currentValue 3;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3 ] currentValue 3;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3 ] currentValue 3;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3 ] currentValue 5;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3, 5 ] currentValue 5;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3, 5 ] currentValue 44;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3, 5, 44 ] currentValue 44;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3, 5, 44 ] currentValue 53;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3, 5, 44, 53 ] currentValue 53;// arr0 [ 1, 1, 2, 2, 2, 3, 3, 3, 5, 5, 44, 44, 53, 53, 55 ] accumulator [ 1, 2, 3, 5, 44, 53 ] currentValue 55;// arr00: [ 1, 2, 3, 5, 44, 53, 55 ];Array.prototype.reduceRight()è¯­æ³•(ä»å³å‘å·¦éå†,è§reduce) :arr.reduceRight(callback(accumulator[, currentValue[, index[, array]]])[, initialValue])Array.prototype.entries()è¯­æ³• :arr.entries()è¿”å›å€¼ : ä¸€ä¸ªæ–°çš„åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„é”®/å€¼å¯¹çš„Array Iteratorå¯¹è±¡.1234567891011121314151617181920212223242526272829303132333435let arr0 = [3, 2, 1];let arr00 = arr0.entries();let arr000 = arr00.next();let arr0000 = arr000.value;console.log('arr00:', arr00);console.log('arr000:', arr000);console.log('arr0000:', arr0000);// arr00;// Array Iterator &#123;&#125;// __proto__: Array Iterator// next: Æ’ next()// Symbol(Symbol.toStringTag): "Array Iterator"// arr000;// &#123;value: Array(2), done: false&#125;j;// arr0000;// [0, 3];let arr0 = [3, 2, 1];let arr00 = arr0.entries();for(let item of arr00) &#123; console.log(item);&#125;// [ 0, 3 ];// [ 1, 2 ];// [ 2, 1 ];let arr0 = [3, 2, 1];let arr00 = [...arr0.entries()];console.log('arr00:', arr00);// arr00: [ [ 0, 3 ], [ 1, 2 ], [ 2, 1 ] ]Array.prototype.keys()è¯­æ³• :arr.keys()è¿”å›å€¼ : ä¸€ä¸ªæ–°çš„åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•é”®çš„Array Iteratorå¯¹è±¡.123456789101112131415let arr0 = [3, 2, 1];let arr00 = arr0.keys();for(let item of arr00) &#123; console.log(item);&#125;// 0// 1// 2let arr0 = [3, 2, 1];let arr00 = [...arr0.keys()];console.log('arr00:', arr00);// arr00: [ 0, 1, 2 ];Array.prototype.values()è¯­æ³• :arr.values()è¿”å›å€¼ : ä¸€ä¸ªæ–°çš„åŒ…å«æ•°ç»„æ¯ä¸ªç´¢å¼•å¯¹åº”å€¼çš„ Array Iterator å¯¹è±¡.1234567891011121314let arr0 = [3, 2, 1];let arr00 = arr0.keys();for(let item of arr00) &#123; console.log(item);&#125;// 0// 1// 2let arr0 = [3, 2, 1];let arr00 = [...arr0.keys()];console.log('arr00:', arr00);// arr00: [ 0, 1, 2 ];Array.prototype[@@iterator]()è¯­æ³• :arr[Symbol.iterator]()è¿”å›å€¼ : æ•°ç»„çš„ iterator æ–¹æ³•ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ values() è¿”å›å€¼ç›¸åŒ.]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>æ•°ç»„åŸå‹</tag>
        <tag>è¿­ä»£æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayåŸå‹ä¹‹éå˜å¼‚æ–¹æ³•]]></title>
    <url>%2FArray%E5%8E%9F%E5%9E%8B%E4%B9%8B%E9%9D%9E%E5%8F%98%E5%BC%82%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ArrayArrayå¯¹è±¡æ˜¯ç”¨äºæ„é€ æ•°ç»„çš„å…¨å±€å¯¹è±¡.æ¦‚è¿°æ•°ç»„å¯¹è±¡æ˜¯ä¸€ä¸ªæœ‰åºçš„æ•°æ®(åŸå§‹ç±»å‹æˆ–å¯¹è±¡ç±»å‹)é›†åˆ, æ˜¯ä¸€ç§ç±»åˆ—è¡¨å¯¹è±¡,å®ƒçš„åŸå‹æä¾›äº†æ•°ç»„æ“ä½œçš„æ–¹æ³•.æ•°ç»„åªèƒ½ç”¨æ•´æ•°ä½œä¸ºæ•°ç»„å…ƒç´ çš„ç´¢å¼•,è€Œä¸æ˜¯å­—ç¬¦ä¸²,ä¸”ä»0å¼€å§‹,ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º0.ä½¿ç”¨éæ•´æ•°å¹¶é€šè¿‡[]æˆ–.æ¥è®¿é—®æ•°ç»„æˆ–è®¾ç½®æ•°ç»„å…ƒç´ æ—¶,æ‰€æ“ä½œçš„å¹¶ä¸æ˜¯æ•°ç»„åˆ—è¡¨çš„å…ƒç´ ,è€Œæ˜¯æ•°ç»„å¯¹è±¡å±æ€§é›†åˆä¸Šçš„å˜é‡.æ•°ç»„å¯¹è±¡çš„å±æ€§å’Œæ•°ç»„å…ƒç´ åˆ—è¡¨æ˜¯åˆ†å¼€å­˜å‚¨çš„,å¹¶ä¸”æ•°ç»„çš„éå†å’Œä¿®æ”¹æ“ä½œä¹Ÿä¸èƒ½ä½œç”¨äºè¿™äº›å‘½åå±æ€§.123456var arr = [];arr['zero'] = 'zero';arr[0] = 0;arr.forEach(item =&gt; console.log(item))// 0åŸå‹æ–¹æ³•éå˜å¼‚æ–¹æ³•Array.prototype.slice()æè¿° :æµ…æ‹·è´æ•°ç»„æŒ‡å®šåŒºåŸŸçš„å…ƒç´ .è¯­æ³• :arr.slice(begin[, end])begin(å¯é€‰) : èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ä¸º0. å¦‚æœæ˜¯è´Ÿæ•°, åˆ™å¼€å§‹ç´¢å¼•ä¼šè¢«è‡ªåŠ¨è®¡ç®—æˆä¸º this.length + start.end : ç»ˆæ­¢ç´¢å¼•, é»˜è®¤å€¼ this.length. ä¸åŒ…æ‹¬endä½ç½®. å¦‚æœæ˜¯è´Ÿæ•°æ—¶, è§„åˆ™å¦‚ä¸Š.è¿”å›å€¼ : è¿”å›æˆªå–çš„æ–°æ•°ç»„(æµ…å¤åˆ¶).1234567891011let arr0 = [3, 2, 1];let arr00 = arr0.slice();console.log('arr0:', arr0, 'arr00:', arr00);// arr0: [ 3, 2, 1 ] arr00: [ 3, 2, 1 ]let arr1 = [5, 4, 3, 2, 1];let arr11 = arr1.slice(2, 3);console.log('arr1:', arr1, 'arr11:', arr11);// arr1: [ 5, 4, 3, 2, 1 ] arr11: [ 3 ].Array.prototype.concat()æè¿° :åˆå¹¶å¤šä¸ªå€¼æˆ–æ•°ç»„.è¯­æ³• :array.concat(element0[, element1[, ...[, elementN]]])elementN : å°†è¦è¿æ¥çš„å€¼æˆ–æ•°ç»„.è¿”å›å€¼ : å¤šä¸ªå€¼æˆ–æ•°ç»„åˆå¹¶åçš„æ–°æ•°ç»„.12345678910111213let arr0 = [6, 5, 4];let arr1 = [3, 2, 1];let arr = arr0.concat(arr1);console.log('arr0:', arr0, 'arr1:', arr1, 'arr:', arr);// arr0: [ 6, 5, 4 ] arr1: [ 3, 2, 1 ] arr: [ 6, 5, 4, 3, 2, 1 ]let arr2 = [6, 5, 4];let arr3 = [2, 1];let arr = arr2.concat(3, arr3);console.log('arr2: ', arr2, 'arr3: ', arr3, 'arr', arr);// arr2: [ 6, 5, 4 ] arr3: [ 2, 1 ] arr [ 6, 5, 4, 3, 2, 1 ]Array.prototype.join()æè¿° :å°†æ•°ç»„ä¼—å…ƒç´ ç”¨æŒ‡å®šå­—ç¬¦è¿æ¥æˆå­—ç¬¦ä¸².è¯­æ³• :arr.join(connector)connector : æŒ‡å®šä¸€ä¸ªå­—ç¬¦é“¾æ¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ , é»˜è®¤é€—å·è¿æ¥.è¿”å›å€¼ : ç”¨æŒ‡å®šè¿æ¥ç¬¦å°†æ•°ç»„ä¸­å…ƒç´ è¿æ¥èµ·æ¥çš„å­—ç¬¦ä¸².1234567let arr0 = [3, 2, 1];let str1 = arr0.join();let str2 = arr0.join('');let str3 = arr0.join('-');console.log('arr0:', arr0, 'str1:', str1, 'str2:', str2, 'str3:', str3);// arr0: [ 3, 2, 1 ] str1: 3,2,1 str2: 321 str3: 3-2-1;Array.prototype.toString()æè¿° :ç”¨å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºæ•°ç»„å…ƒç´ .è¯­æ³• :arr.toString()è¿”å›å€¼ : é€—å·è¿æ¥æ•°ç»„å…ƒç´ ç»„æˆçš„å­—ç¬¦ä¸². å½“æ•°ç»„å…ƒç´ ä¸ºæ•°ç»„æ—¶, è‡ªåŠ¨è°ƒç”¨å…¶toString()æ–¹æ³•.123456let arr0 = [3, 2, 1];let arr00 = arr0.toString();let arr1 = [[6, [5, 4]], 3, 2, 1].toString();console.log('arr0:', arr0, 'arr00:', arr00, 'arr1:', arr1);// arr0: [ 3, 2, 1 ] arr00: 3,2,1 arr1: 6,5,4,3,2,1;Array.prototype.includes()æè¿° :åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æŒ‡å®šå€¼.è¯­æ³• :arr.includes(searchElement[, fromIndex])searchElement : éœ€è¦æŸ¥è¯¢çš„å€¼.fromIndex : èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ä¸º0. å¦‚æœæ˜¯è´Ÿæ•°æ—¶, è§„åˆ™å¦‚ä¸Š.è¿”å›å€¼ : å¸ƒå°”å€¼.123456let arr0 = [3, 2, 1];let a = arr0.includes(3);let b = arr0.includes(3, 1);console.log('arr0', arr0, 'a:', a, 'b:', b);// arr0 [ 3, 2, 1 ] a: true b: false;Array.prototype.indexOf()æè¿° :æŸ¥è¯¢æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„ä¸­é¦–æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®.è¯­æ³• :arr.indexOf(searchElement[, fromIndex])searchElement : éœ€è¦æŸ¥è¯¢çš„å€¼.fromIndex : èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ä¸º0. å¦‚æœæ˜¯è´Ÿæ•°æ—¶, è§„åˆ™å¦‚ä¸Š.è¿”å›å€¼ : é¦–æ¬¡è¢«æ‰¾åˆ°çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®; è‹¥æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å› -1.123456let arr0 = [3, 2, 1];let a = arr0.indexOf(1);let b = arr0.indexOf(3, 1);console.log('arr0:', arr0, 'a:', a, 'b:', b);// arr0: [ 3, 2, 1 ] a: 2 b: -1;Array.prototype.lastIndexOf()æè¿° :ä»æ•°ç»„çš„åé¢å‘å‰æŸ¥æ‰¾, æŸ¥è¯¢æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„ä¸­é¦–æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®.è¯­æ³• :arr.lastIndexOf(searchElement[, fromIndex = arr.length - 1])searchElement : éœ€è¦æŸ¥è¯¢çš„å€¼.fromIndex : é€†å‘æŸ¥æ‰¾èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ this.length - 1.è¿”å›å€¼ : é€†å‘é¦–æ¬¡è¢«æ‰¾åˆ°çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®.123456let arr0 = [3, 2, 1];let a = arr0.lastIndexOf(1);let b = arr0.lastIndexOf(3, 1);console.log('arr0:', arr0, 'a:', a, 'b:', b);// arr0: [ 3, 2, 1 ] a: 2 b: 0;]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>æ•°ç»„åŸå‹</tag>
        <tag>éå˜å¼‚æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayåŸå‹ä¹‹å˜å¼‚æ–¹æ³•]]></title>
    <url>%2FArray%E5%8E%9F%E5%9E%8B%E4%B9%8B%E5%8F%98%E5%BC%82%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ArrayArrayå¯¹è±¡æ˜¯ç”¨äºæ„é€ æ•°ç»„çš„å…¨å±€å¯¹è±¡.æ¦‚è¿°æ•°ç»„å¯¹è±¡æ˜¯ä¸€ä¸ªæœ‰åºçš„æ•°æ®(åŸå§‹ç±»å‹æˆ–å¯¹è±¡ç±»å‹)é›†åˆ, æ˜¯ä¸€ç§ç±»åˆ—è¡¨å¯¹è±¡,å®ƒçš„åŸå‹æä¾›äº†æ•°ç»„æ“ä½œçš„æ–¹æ³•.æ•°ç»„åªèƒ½ç”¨æ•´æ•°ä½œä¸ºæ•°ç»„å…ƒç´ çš„ç´¢å¼•,è€Œä¸æ˜¯å­—ç¬¦ä¸²,ä¸”ä»0å¼€å§‹,ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º0.ä½¿ç”¨éæ•´æ•°å¹¶é€šè¿‡[]æˆ–.æ¥è®¿é—®æ•°ç»„æˆ–è®¾ç½®æ•°ç»„å…ƒç´ æ—¶,æ‰€æ“ä½œçš„å¹¶ä¸æ˜¯æ•°ç»„åˆ—è¡¨çš„å…ƒç´ ,è€Œæ˜¯æ•°ç»„å¯¹è±¡å±æ€§é›†åˆä¸Šçš„å˜é‡.æ•°ç»„å¯¹è±¡çš„å±æ€§å’Œæ•°ç»„å…ƒç´ åˆ—è¡¨æ˜¯åˆ†å¼€å­˜å‚¨çš„,å¹¶ä¸”æ•°ç»„çš„éå†å’Œä¿®æ”¹æ“ä½œä¹Ÿä¸èƒ½ä½œç”¨äºè¿™äº›å‘½åå±æ€§.123456var arr = [];arr['zero'] = 'zero';arr[0] = 0;arr.forEach(item =&gt; console.log(item))// 0åŸå‹æ–¹æ³•å˜å¼‚æ–¹æ³•Array.prototype.push()æè¿° :åœ¨æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ .è¯­æ³• :arr.push(element0 ..., elementN)elementN : å°†è¦æ·»åŠ åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´ .è¿”å›å€¼ : è¢«æ”¹åŠ¨åçš„åŸæ•°ç»„çš„lengthå€¼, ä¸”åŸæ•°ç»„è¢«æ”¹å˜.12345let arr0 = [3, 2, 1];let arr0Len = arr0.push('Array');console.log('arr0:', arr0, 'arr0Len:', arr0Len);// arr0: [3, 2, 1, 'Array'] arr0Len: 4;Array.prototype.unshift()æè¿° :åœ¨æ•°ç»„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ .è¯­æ³• :arr.unshift(element1, ..., elementN)elementN : å°†è¦æ·»åŠ åˆ°æ•°ç»„å¼€å¤´çš„å…ƒç´ .è¿”å›å€¼ : è¢«æ”¹åŠ¨åçš„åŸæ•°ç»„çš„lengthå€¼, ä¸”åŸæ•°ç»„è¢«æ”¹å˜.12345let arr0 = [3, 2, 1];let arr0Len = arr0.unshift('Array');console.log('arr0:', arr0, 'arr0Len:', arr0Len);// arr0: ['Array', 3, 2, 1] arr0Len: 4;Array.prototype.pop()æè¿° :ä»æ•°ç»„ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ .è¯­æ³• :arr.pop()è¿”å›å€¼ : è¢«åˆ é™¤çš„æ•°ç»„å…ƒç´ (ç©ºå±ç»„è°ƒç”¨, åˆ™è¿”å›undefined), ä¸”åŸæ•°ç»„è¢«æ”¹å˜.12345let arr0 = [3, 2, 1];let ele = arr0.pop();console.log('arr0:', arr0, 'ele:', ele);// arr0: [3, 2] ele: 1;Array.prototype.shift()æè¿° :ä»æ•°ç»„ä¸­åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ .è¯­æ³• :arr.shift()è¿”å›å€¼ : è¢«åˆ é™¤çš„æ•°ç»„å…ƒç´ (ç©ºå±ç»„è°ƒç”¨, åˆ™è¿”å›undefined), ä¸”åŸæ•°ç»„è¢«æ”¹å˜.12345let arr0 = [3, 2, 1];let ele = arr0.shift();console.log('arr0:', arr0, 'ele:', ele);// arr0: [2, 1] ele: 3;Array.prototype.splice()æè¿° :ä»æ•°ç»„ä¸­åˆ é™¤æŒ‡å®šæ•°é‡çš„å…ƒç´ å¹¶æ·»åŠ å‘æ•°ç»„æ·»åŠ å…ƒç´ .è¯­æ³• :array.splice(start[, deleteCount[, element1[, ...[, elementN]]]])start : æŒ‡å®šä¿®æ”¹ä½ç½®(ä»0è®¡æ•°).deleteCount è¦ç§»é™¤çš„æ•°ç»„å…ƒç´ ä¸ªæ•°. é»˜è®¤å€¼ä¸º this.length - start.elementN : è¦æ·»åŠ çš„æ•°ç»„å…ƒç´ .è¿”å›å€¼ : ç”±è¢«åˆ é™¤çš„å…ƒç´ ç»„æˆçš„æ•°ç»„, ä¸”åŸæ•°ç»„è¢«æ”¹å˜.1234567891011121314151617181920212223let arr0 = [3, 2, 1];let arr00 = arr0.splice(2, 0, 4, 5, 6);console.log('arr0:', arr0, 'arr00:', arr00);// arr0: [3, 2, 4, 5, 6, 1] arr00: [];let arr1 = [3, 2, 1];let arr11 = arr1.splice(2, 1, 4, 5, 6);console.log('arr1:', arr1, 'arr11:', arr11);// arr1: [3, 2, 4, 5, 6] arr11: [1];let arr3 = [3, 2, 1];let arr33 = arr3.splice(1, 2);console.log('arr3:', arr3, 'arr33:', arr33);// arr3: [3] arr33: [2, 1];let arr4 = [3, 2, 1];let arr44 = arr4.splice(3, 0 , 4, 5, 6);console.log('arr4:', arr4, 'arr44:', arr44);// arr4: [3, 2, 1, 4, 5, 6] arr44: [];Array.prototype.sort()æè¿° :ç”¨åŸåœ°ç®—æ³•å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº.è¯­æ³• :arr.sort([compareFunction])compareFunction : ç”¨æ¥æŒ‡å®šæŒ‰æŸç§é¡ºåºè¿›è¡Œæ’åˆ—çš„å‡½æ•°. å¦‚æœçœç•¥, å…ƒç´ æŒ‰ç…§è½¬æ¢ä¸ºçš„å­—ç¬¦ä¸²çš„å„ä¸ªå­—ç¬¦çš„Unicodeä½ç‚¹è¿›è¡Œæ’åº. æŒ‡æ˜äº† compareFunction, é‚£ä¹ˆæ•°ç»„ä¼šæŒ‰ç…§è°ƒç”¨è¯¥å‡½æ•°çš„è¿”å›å€¼æ’åº. a å’Œ b æ˜¯ä¸¤ä¸ªå°†è¦è¢«æ¯”è¾ƒçš„å…ƒç´ :compareFunction(a, b) å°äº 0, é‚£ä¹ˆ a ä¼šè¢«æ’åˆ—åˆ° b ä¹‹å‰;compareFunction(a, b) ç­‰äº 0, a å’Œ b çš„ç›¸å¯¹ä½ç½®ä¸å˜;compareFunction(a, b) å¤§äº 0, b ä¼šè¢«æ’åˆ—åˆ° a ä¹‹å‰;è¿”å›å€¼ : æ’åºåçš„æ•°ç»„.12345let arr0 = [3, 4, 2, 5, 1];let arr00 = arr0.sort((a, b) =&gt; a-b);console.log('arr0:', arr0, 'arr00:', arr00);// arr0:, [1, 2, 3, 4, 5] arr00: [1, 2, 3, 4, 5];Array.prototype.reverse()æè¿° :å°†æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®é¢ å€’.è¯­æ³• :arr.reverse()è¿”å›å€¼ : ä½ç½®é¢ å€’åçš„æ•°ç»„.12345let arr0 = [3, 2, 1];let arr00 = arr0.reverse();console.log('arr0:', arr0, 'arr00:', arr00);// arr0: [1, 2, 3] arr00: [1, 2, 3];Array.prototype.copyWithin()æè¿° :å°†æ•°ç»„çš„æŸä¸€éƒ¨åˆ†æµ…å¤åˆ¶åˆ°æŒ‡å®šä½ç½®.è¯­æ³• :arr.copyWithin(target[, start[, end]])target : ç´¢å¼•èµ·å§‹ä¸º0. è¢«å¤åˆ¶çš„å†…å®¹å°†è¦æ›¿æ¢çš„ä½ç½®. å¦‚æœæ˜¯è´Ÿæ•°, targetå°†ä» this.length + targetå¼€å§‹è®¡ç®—.start : èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ä¸º0. è¢«å¤åˆ¶å†…å®¹çš„èµ·å§‹ä½ç½®, åŒ…æ‹¬startä½ç½®çš„å…ƒç´ . å¦‚æœæ˜¯è´Ÿæ•°, åˆ™å¼€å§‹ç´¢å¼•ä¼šè¢«è‡ªåŠ¨è®¡ç®—æˆä¸º this.length + start.end : ç»ˆæ­¢ç´¢å¼•, é»˜è®¤å€¼ä¸ºthis .length, ç´¢å¼•èµ·å§‹ä¸º0. è¢«å¤åˆ¶å†…å®¹çš„ç»“æŸä½ç½®, ä½†ä¸åŒ…æ‹¬endä½ç½®çš„å…ƒç´ . å¦‚æœæ˜¯è´Ÿæ•°. åˆ™ç»ˆæ­¢ç´¢å¼•ä¼šè¢«è‡ªåŠ¨è®¡ç®—æˆä¸º this.length + end.è¿”å›å€¼ : è¢«æ”¹åŠ¨åçš„åŸæ•°ç»„. æ•°ç»„å†…å®¹å˜åŒ–, é•¿åº¦ä¸å˜.1234567891011121314151617let arr0 = [3, 2, 1];let arr00 = arr0.copyWithin(2, 0);console.log('arr0:', arr0, 'arr00:', arr00);//arr0: [3, 2, 3] arr00: [3, 2, 3];let arr1 = [3, 2, 1];let arr11 = arr1.copyWithin(2, 1, 2);console.log('arr1:', arr1, 'arr11:', arr11);// arr1: [3, 2, 2] arr11: [3, 2, 2];let arr2 = [3, 2, 1];let arr22 = arr2.copyWithin(-1, -2, -1);console.log('arr2', arr2, 'arr22', arr22);// arr1: [3, 2, 2] arr11: [3, 2, 2];Array.prototype.fill()æè¿° :å°†æ•°ç»„çš„æŸä¸€åŒºåŸŸçš„å…¨éƒ¨å…ƒç´ ç”¨æŒ‡å®šå€¼æ›¿æ¢.è¯­æ³• :arr.fill(value[, start[, end]])value : å¡«å……æ•°ç»„çš„å‚æ•°å€¼.start : èµ·å§‹ç´¢å¼•, é»˜è®¤å€¼ä¸º 0. å¦‚æœæ˜¯è´Ÿæ•°æ—¶, è§„åˆ™å¦‚ä¸Š.end : ç»ˆæ­¢ç´¢å¼•, é»˜è®¤å€¼ä¸º this.length. ä¸åŒ…æ‹¬endä½ç½®. å¦‚æœæ˜¯è´Ÿæ•°æ—¶, è§„åˆ™å¦‚ä¸Š.è¿”å›å€¼ : è¢«æ”¹åŠ¨åçš„åŸæ•°ç»„.1234567891011let arr0 = [3, 2, 1];let arr00 = arr0.fill(3);console.log('arr0:', arr0, 'arr00:', arr00);// arr0: [3, 3, 3] arr00: [3, 3, 3];let arr1 = [3, 2, 1];let arr11 = arr1.fill(3, 1);console.log('arr1:', arr1, 'arr11:', arr11);// arr1: [3, 3, 3] arr11: [3, 3, 3]]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>æ•°ç»„åŸå‹</tag>
        <tag>å˜å¼‚æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Arrayæ„é€ å‡½æ•°]]></title>
    <url>%2FArray%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[ArrayArrayå¯¹è±¡æ˜¯ç”¨äºæ„é€ æ•°ç»„çš„å…¨å±€å¯¹è±¡.æ¦‚è¿°æ•°ç»„å¯¹è±¡æ˜¯ä¸€ä¸ªæœ‰åºçš„æ•°æ®(åŸå§‹ç±»å‹æˆ–å¯¹è±¡ç±»å‹)é›†åˆ, æ˜¯ä¸€ç§ç±»åˆ—è¡¨å¯¹è±¡,å®ƒçš„åŸå‹æä¾›äº†æ•°ç»„æ“ä½œçš„æ–¹æ³•.æ•°ç»„åªèƒ½ç”¨æ•´æ•°ä½œä¸ºæ•°ç»„å…ƒç´ çš„ç´¢å¼•,è€Œä¸æ˜¯å­—ç¬¦ä¸²,ä¸”ä»0å¼€å§‹,ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º0.ä½¿ç”¨éæ•´æ•°å¹¶é€šè¿‡[]æˆ–.æ¥è®¿é—®æ•°ç»„æˆ–è®¾ç½®æ•°ç»„å…ƒç´ æ—¶,æ‰€æ“ä½œçš„å¹¶ä¸æ˜¯æ•°ç»„åˆ—è¡¨çš„å…ƒç´ ,è€Œæ˜¯æ•°ç»„å¯¹è±¡å±æ€§é›†åˆä¸Šçš„å˜é‡.æ•°ç»„å¯¹è±¡çš„å±æ€§å’Œæ•°ç»„å…ƒç´ åˆ—è¡¨æ˜¯åˆ†å¼€å­˜å‚¨çš„,å¹¶ä¸”æ•°ç»„çš„éå†å’Œä¿®æ”¹æ“ä½œä¹Ÿä¸èƒ½ä½œç”¨äºè¿™äº›å‘½åå±æ€§.123456var arr = [];arr['zero'] = 'zero';arr[0] = 0;arr.forEach(item =&gt; console.log(item))// 0æ„é€ å‡½æ•°å±æ€§Array.lengthæ„é€ å‡½æ•°çš„lengthå±æ€§,è¯¥å±æ€§ä¸ºé™æ€å±æ€§(è¯¦è§Function.length),ä¸æ˜¯æ•°ç»„å®ä¾‹çš„lengthå±æ€§,å…¶å€¼ä¸º1.123console.log(Array.length);// 1Array.prototypeæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡,æ‰€æœ‰çš„æ•°ç»„å®ä¾‹éƒ½ä¼šä»Array.prototypeç»§æ‰¿å±æ€§å’Œæ–¹æ³•.é€šè¿‡æ‰©å±•ArrayåŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•è¿›è€Œä¸ºæ‰€æœ‰çš„æ•°ç»„å®ä¾‹å¢åŠ å±æ€§å’Œæ–¹æ³•.123456789101112Array.prototype.type = "Array";Array.prototype.first = function() &#123; return this[0];&#125;;var arr = [3, 2, 1];arr.type;// Array;arr.first();// 3;æ„é€ å‡½æ•°æ–¹æ³•Array.from()æè¿° :ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹.è¯­æ³• :Array.from(arrayLike[, mapFn[, thisArg]])ArrrayLike : ä¼ªæ•°ç»„å¯¹è±¡(æ‹¥æœ‰lengthå±æ€§å’Œè‹¥å¹²ç´¢å¼•å±æ€§) å’Œ å¯è¿­ä»£å¯¹è±¡.mapFn : è¿”å›çš„æ–°æ•°ç»„éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°.thisArg : æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶thiså¯¹åº”çš„å¯¹è±¡.è¿”å›å€¼ : æ–°çš„æ•°ç»„å®ä¾‹.123456789101112131415161718Array.from('Array');// ["A", "r", "r", "a", "y"];(function () &#123; return Array.from(arguments);&#125;)(3, 2, 1)// [3, 2, 1];let s = new Set(['array', Array]);Array.from(s);// ["array", function];Array.from([3, 2, 1], x =&gt; x.toString());// ["3", "2", "1"];Array.isArray()æè¿° :åˆ¤æ–­å¾…éªŒè¯çš„å‚æ•°æ˜¯å¦ä¸ºArray.è¯­æ³• :Array.isArray(obj)obj : å¾…éªŒè¯å‚æ•°.è¿”å›å€¼ : è‹¥å¾…éªŒè¯å‚æ•°ä¸ºæ•°ç»„æ—¶,åˆ™ä¸ºtrue; å¦åˆ™false.123456789101112131415161718Array.isArray([]);// true;Array.isArray(&#123;&#125;);// false;Array.isArray(Array.prototype);// true;// Polyfillif (!Array.isArray) &#123; Array.isArray = function(arg) &#123; return Object.prototype.toString.call(arg) === '[object Array]'; &#125;;&#125;;Array.of()æè¿° :åˆ›å»ºä¸€ä¸ªç”±ä¼ å…¥å‚æ•°ç»„æˆçš„æ–°æ•°ç»„å®ä¾‹, è€Œä¸è€ƒè™‘å‚æ•°çš„æ•°é‡æˆ–ç±»å‹.è¯­æ³• :Array.of(element0[, element1[, ...[, elementN]]])elementN : ä»»æ„ä¸ªå‚æ•°,å°†é¡ºåºå¾—æˆä¸ºæ•°ç»„çš„å…ƒç´ .è¿”å›å€¼ : æ–°çš„æ•°ç»„å®ä¾‹.123456789101112131415161718Array.of(3);// [3];Array.of(3, 2, 1);// [3, 2, 1];Array.of('Array', Array);// ["Array", function];// Polyfillif (!Array.of) &#123; Array.of = function() &#123; return Array.prototype.slice.call(arguments); &#125;;&#125;]]></content>
      <categories>
        <category>APIæ€»ç»“</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>æ„é€ å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨ç¼“å­˜æœºåˆ¶]]></title>
    <url>%2F%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[æµè§ˆå™¨ç¼“å­˜å¼ºç¼“å­˜é‡Šä¹‰: å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡é—®æœåŠ¡å™¨è¦æŸä¸ªèµ„æºæ—¶ï¼ŒæœåŠ¡å™¨ä¸¢è¿˜ç»™å®¢æˆ·ç«¯æ‰€è¯·æ±‚çš„è¿™ä¸ªèµ„æºåŒæ—¶ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å°†è¿™ä¸ªèµ„æºä¿å­˜åœ¨æœ¬åœ°ï¼Œå¹¶ä¸”åœ¨æœªæ¥çš„æŸä¸ªæ—¶ç‚¹ä¹‹å‰å¦‚æœè¿˜éœ€è¦è¿™ä¸ªèµ„æºï¼Œç›´æ¥ä»æœ¬åœ°è·å–å°±è¡Œäº†ï¼Œä¸ç”¨å‘æœåŠ¡å™¨è¯·æ±‚.è¿™ç§æ–¹å¼ç¼“å­˜ä¸‹æ¥çš„èµ„æºç§°ä¸ºå¼ºç¼“å­˜.Expires &amp; Cache-Control:max-ageExpires:è¯¥å­—æ®µæ˜¯http1.0æ—¶çš„è§„èŒƒï¼Œå€¼ä¸ºä¸€ä¸ªç»å¯¹æ—¶é—´çš„GMTæ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œä»£è¡¨ç¼“å­˜èµ„æºçš„è¿‡æœŸæ—¶é—´ï¼Œåœ¨è¿™ä¸ªæ—¶ç‚¹ä¹‹å‰ï¼Œå³å‘½ä¸­ç¼“å­˜.Cache-Control:è¯¥å­—æ®µæ˜¯http1.0æ—¶çš„è§„èŒƒï¼Œå€¼ä¸ºä¸€ä¸ªç»å¯¹æ—¶é—´çš„GMTæ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œä»£è¡¨ç¼“å­˜èµ„æºçš„è¿‡æœŸæ—¶é—´ï¼Œåœ¨è¿™ä¸ªæ—¶ç‚¹ä¹‹å‰ï¼Œå³å‘½ä¸­ç¼“å­˜.å‚æ•°:no-cache: å¦‚æœè¯·æ±‚å¤´éƒ¨åŒ…å«no-cacheæŒ‡ä»¤ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯ä¸æ¥æ”¶ç¼“å­˜è¿‡çš„å“åº”.ä¸­é—´ç¼“å­˜æœåŠ¡å™¨å¿…é¡»å°†è¯·æ±‚è½¬å‘ç»™ç»™æºæœåŠ¡å™¨. æµè§ˆå™¨å¼ºåˆ¶åˆ·æ–°(windowä¸‹ctrl+F5)å°±æ˜¯è¿™ä¸ªåŸç†ï¼Œæ‰€ä»¥çš„è¯·æ±‚éƒ½è®¾ç½®no-cacheno-store: æš—ç¤ºè¯·æ±‚å’Œå“åº”åŒ…å«æœºå¯†ä¿¡æ¯ï¼Œä¸èƒ½è¿›è¡Œç¼“å­˜.åŒºåˆ†: no-storeæ‰æ˜¯çœŸæ­£çš„ä¸ç¼“å­˜max-age: è¯¥æŒ‡ä»¤ç”¨æ¥æ ‡è¯†ç¼“å­˜èµ„æºçš„æœ€å¤§æœ‰æ•ˆæœŸ. å¦‚æœmax-age=0ï¼Œå°±ä¼šå‘æºæœåŠ¡å™¨å‘é€è¯·æ±‚è¿›è¡Œç¼“å­˜èµ„æºæ–°é²œåº¦çš„éªŒè¯.æµè§ˆå™¨æ™®é€šåˆ·æ–°F5â€œCache-Controlâ€:â€ cache-directiveâ€*ä½œä¸ºè¯·æ±‚é¦–éƒ¨æ—¶ï¼Œcache-directive çš„å¯é€‰å€¼æœ‰:â€œCache-Controlâ€:â€ cache-directiveâ€*ä½œä¸ºå“åº”é¦–éƒ¨æ—¶ï¼Œcache-directive çš„å¯é€‰å€¼æœ‰:åœ¨è¯·æ±‚å¤´ä¸­max-age=0ä¸no-cacheçš„åŒºåˆ«ï¼Ÿè¿”å›çš„çŠ¶æ€æ¥çœ‹ï¼šno-cacheéƒ½æ˜¯200ï¼Œè€Œmax-ageå¯èƒ½æ˜¯304ï¼ˆå¦‚æœæµè§ˆå™¨æœ‰ç¼“å­˜ï¼‰. è¯·æ±‚å‚æ•°ï¼šmax-ageè¯·æ±‚å¤´ä¸€èˆ¬ä¼šæºå¸¦If-Modified-Sinceæˆ–If-None-Matchå­—æ®µè¿›è¡Œæ–°é²œåº¦éªŒè¯ï¼Œè€Œno-cacheä¸ä¼šæºå¸¦. F5åˆ·æ–°æ˜¯max-age=0æ¥å®ç°ï¼Œè€Œå¼ºåˆ¶åˆ·æ–°(Ctrl+F5)æ˜¯é€šè¿‡no-cacheå®ç°. å¼‚åŒ: Expiresæ˜¯HTTP 1.0+çš„é¦–éƒ¨ï¼Œç”¨æ¥æŒ‡å®šä¸€ä¸ªç»å¯¹çš„è¿‡æœŸæ—¥æœŸï¼Œä¾èµ–å®¢æˆ·ç«¯æ—¶é—´è®¾ç½®çš„å‡†ç¡®æ€§,ç¼“å­˜æ—¶é—´æ˜¯ç›¸å¯¹æœåŠ¡å™¨ä¸Šçš„æ—¶é—´è€Œè¨€çš„.è€Œmax-ageæ˜¯HTTP/1.1çš„Cache-Controlçš„ä¸€ä¸ªå­—æ®µï¼Œç”¨æ¥æŒ‡å®šæ–‡æ¡£çš„æœ€å¤§ä½¿ç”¨æ—¶é—´.åå•†ç¼“å­˜é‡Šä¹‰: å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡é—®æœåŠ¡å™¨è¦æŸä¸ªèµ„æºæ—¶ï¼ŒæœåŠ¡å™¨ä¸¢è¿˜ç»™å®¢æˆ·ç«¯æ‰€è¯·æ±‚çš„è¿™ä¸ªèµ„æºåŒæ—¶ï¼Œå°†è¯¥èµ„æºçš„ä¸€äº›ä¿¡æ¯ï¼ˆæ–‡ä»¶æ‘˜è¦ã€æˆ–è€…æœ€åä¿®æ”¹æ—¶é—´ï¼‰ä¹Ÿè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å°†è¿™ä¸ªèµ„æºç¼“å­˜åœ¨æœ¬åœ°.å½“å®¢æˆ·ç«¯ä¸‹ä¸€æ¬¡éœ€è¦è¿™ä¸ªèµ„æºæ—¶ï¼Œå°†è¯·æ±‚ä»¥åŠç›¸å…³ä¿¡æ¯ï¼ˆæ–‡ä»¶æ‘˜è¦ã€æˆ–è€…æœ€åä¿®æ”¹æ—¶é—´ï¼‰ä¸€å¹¶å‘é€ç»™æœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨æ¥åˆ¤æ–­å®¢æˆ·ç«¯ç¼“å­˜çš„èµ„æºæ˜¯å¦éœ€è¦æ›´æ–°ï¼šå¦‚ä¸éœ€è¦æ›´æ–°ï¼Œå°±ç›´æ¥å‘Šè¯‰å®¢æˆ·ç«¯è·å–æœ¬åœ°ç¼“å­˜èµ„æºï¼›å¦‚éœ€è¦æ›´æ–°ï¼Œåˆ™å°†æœ€æ–°çš„èµ„æºè¿åŒç›¸åº”çš„ä¿¡æ¯ä¸€å¹¶è¿”å›ç»™å®¢æˆ·ç«¯.Last-Modified &amp; If-Modified-Since &amp; Etag &amp; If-None-MatchLast-Modidied &amp; If-Modified-Since:Last-Modified: ä¸ºå®ä½“é¦–éƒ¨å­—æ®µï¼Œå€¼ä¸ºèµ„æºæœ€åæ›´æ–°æ—¶é—´ï¼ŒéšæœåŠ¡å™¨responseè¿”å›.If-Modified-Since: ä¸ºè¯·æ±‚é¦–éƒ¨å­—æ®µï¼Œé€šè¿‡æ¯”è¾ƒä¸¤ä¸ªæ—¶é—´æ¥åˆ¤æ–­èµ„æºåœ¨ä¸¤æ¬¡è¯·æ±‚æœŸé—´æ˜¯å¦æœ‰è¿‡ä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ï¼Œåˆ™å‘½ä¸­åå•†ç¼“å­˜ï¼Œæµè§ˆå™¨ä»ç¼“å­˜ä¸­è·å–èµ„æºï¼›å¦‚æœæœ‰è¿‡ä¿®æ”¹ï¼Œåˆ™æœåŠ¡å™¨è¿”å›èµ„æºï¼ŒåŒæ—¶è¿”å›æ–°çš„Last-Modifiedæ—¶é—´.Etag &amp; If-None-Match:Etag: ä¸ºç›¸åº”å¤´éƒ¨å­—æ®µï¼Œè¡¨ç¤ºèµ„æºå†…å®¹çš„å”¯ä¸€æ ‡è¯†ï¼ŒéšæœåŠ¡å™¨responseè¿”å›.If-None-Match: ä¸ºè¯·æ±‚å¤´éƒ¨å­—æ®µï¼ŒæœåŠ¡å™¨é€šè¿‡æ¯”è¾ƒè¯·æ±‚å¤´éƒ¨çš„If-None-Matchä¸å½“å‰èµ„æºçš„ETagæ˜¯å¦ä¸€è‡´æ¥åˆ¤æ–­èµ„æºæ˜¯å¦åœ¨ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´æœ‰è¿‡ä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ï¼Œåˆ™å‘½ä¸­åå•†ç¼“å­˜ï¼Œæµè§ˆå™¨ä»ç¼“å­˜ä¸­è·å–èµ„æºï¼›å¦‚æœæœ‰è¿‡ä¿®æ”¹ï¼Œåˆ™æœåŠ¡å™¨è¿”å›èµ„æºï¼ŒåŒæ—¶è¿”å›æ–°çš„ETag.ä¸èƒ½ç¼“å­˜çš„è¯·æ±‚HTTPä¿¡æ¯å¤´ä¸­åŒ…å«Cache-Control:no-cacheï¼Œpragma:no-cacheï¼ˆHTTP1.0ï¼‰ï¼Œæˆ–Cache-Control:max-age=0ç­‰å‘Šè¯‰æµè§ˆå™¨ä¸ç”¨ç¼“å­˜çš„è¯·æ±‚. Cache-Control: no-cacheï¼šè¿™ä¸ªå¾ˆå®¹æ˜“è®©äººäº§ç”Ÿè¯¯è§£ï¼Œä½¿äººè¯¯ä»¥ä¸ºæ˜¯å“åº”ä¸è¢«ç¼“å­˜.å®é™…ä¸ŠCache-Control: no-cacheæ˜¯ä¼šè¢«ç¼“å­˜çš„ï¼Œåªä¸è¿‡æ¯æ¬¡åœ¨å‘å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰æä¾›å“åº”æ•°æ®æ—¶ï¼Œç¼“å­˜éƒ½è¦å‘æœåŠ¡å™¨è¯„ä¼°ç¼“å­˜å“åº”çš„æœ‰æ•ˆæ€§éœ€è¦æ ¹æ®Cookieï¼Œè®¤è¯ä¿¡æ¯ç­‰å†³å®šè¾“å…¥å†…å®¹çš„åŠ¨æ€è¯·æ±‚æ˜¯ä¸èƒ½è¢«ç¼“å­˜çš„ç»è¿‡HTTPSå®‰å…¨åŠ å¯†çš„è¯·æ±‚ï¼ˆæœ‰äººä¹Ÿç»è¿‡æµ‹è¯•å‘ç°ï¼Œieå…¶å®åœ¨å¤´éƒ¨åŠ å…¥Cache-Controlï¼šmax-ageä¿¡æ¯ï¼Œfirefoxåœ¨å¤´éƒ¨åŠ å…¥Cache-Control:Publicä¹‹åï¼Œèƒ½å¤Ÿå¯¹HTTPSçš„èµ„æºè¿›è¡Œç¼“å­˜ï¼Œå‚è€ƒã€ŠHTTPSçš„ä¸ƒä¸ªè¯¯è§£ã€‹ï¼‰POSTè¯·æ±‚æ— æ³•è¢«ç¼“å­˜HTTPå“åº”å¤´ä¸­ä¸åŒ…å«Last-Modified/Etagï¼Œä¹Ÿä¸åŒ…å«Cache-Control/Expiresçš„è¯·æ±‚æ— æ³•è¢«ç¼“å­˜æµè§ˆå™¨ç¼“å­˜æœºåˆ¶ç¤ºæ„å›¾]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨ç¼“å­˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Github+Hexo+Nextåšå®¢æ­å»ºä¹‹Hexo,NextåŠéƒ¨ç½²]]></title>
    <url>%2FGithub-Hexo-Next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8BHexo-Next%E5%8F%8A%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[åšå®¢å·²ç»æ­å»ºå¥½äº†,è‡ªç„¶å¯ä»¥è¶çƒ­æ‰“é“å†™ä¸€äº›åšå®¢æ­å»ºçš„ç»éªŒ.ä¸€æ˜¯æ–¹ä¾¿è‡ªå·±ä»¥åæŸ¥çœ‹,å…å¾—å¿˜è®°.äºŒæ˜¯å¦‚æœæœ‰äººæƒ³äº†è§£åšå®¢æ­å»ºçš„è¿‡ç¨‹,ä¹Ÿæ­£å¥½æœ‰ä¸ªå‚è€ƒ.(å¦‚æœSEOåšçš„å¥½,å°±æœ‰å¯èƒ½çœ‹åˆ°è¿™ç¯‡æ–‡ç« ).æœ¬æ–‡ä»…è®°å½•æ€ä¹ˆå»æ­å»ºåšå®¢,è€Œä¸ä¼šè§£é‡Šæ¯ä¸€æ­¥åŸç†,æœ‰äº›ä¸œè¥¿æˆ‘è‡ªå·±éƒ½æ²¡æœ‰æçš„å¤ªæ¸…æ¥š.æ¯•ç«Ÿæˆ‘åªæ˜¯æƒ³å€ŸåŠ©åšå®¢è¿™ä¸ªå¹³å°è®°å½•å¹³æ—¶å·¥ä½œçš„ç»éªŒè€Œå·²,ç»†ç©¶ç›¸å…³æ–¹é¢çŸ¥è¯†å¹¶ä¸æ˜¯æˆ‘çš„æœ€ç»ˆç›®çš„ç°åœ¨å›å¤´çœ‹åšå®¢çš„æ­å»ºè¿‡ç¨‹,å¯ä»¥æ€»ç»“å½’çº³ä»¥ä¸‹å‡ ç‚¹. markdown,gitå’ŒGitHub,githubå’Œcodingéƒ¨ç½², Hexoå’ŒNextäº†è§£, SEOç­‰Hexo,Next,éƒ¨ç½²,SEOè¯¥åšå®¢çš„æ­å»ºç”¨çš„æ˜¯Hexoåšå®¢æ¡†æ¶,è¯¦ç»†çš„è¯´æ˜å®˜æ–¹æ–‡æ¡£éƒ½æœ‰æåˆ°.åœ¨ä¸»é¢˜çš„é€‰æ‹©ä¸Šç”¨çš„æ˜¯Next,å¯¹åº”çš„ä¹Ÿæœ‰ç›¸å…³çš„å®˜æ–¹æ–‡æ¡£.æ¥ä¸‹æ¥å°±æ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„ç®€å•ä»‹ç»ä¸€ä¸‹Hexoä¸­åŸºæœ¬æŒ‡ä»¤npm install -g hexo-cli // npmå®‰è£…Hexo, éHexoä¸­å‘½ä»¤ hexo init &lt;folder&gt; // æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹åˆå§‹åŒ–Hexo,è‹¥æ²¡æœ‰è®¾ç½®folder, Hexoé»˜è®¤åœ¨ç›®å‰çš„æ–‡ä»¶å¤¹å»ºç«‹ç½‘ç«™ cd &lt;folder&gt; // è¿›å…¥æŒ‡å®šæ–‡ä»¶å¤¹, éHexoä¸­å‘½ä»¤ npm install // å®‰è£…é…ç½®æ–‡ä»¶packge.jsonä¸­çš„ä¾èµ–, éHexoä¸­å‘½ä»¤ hexo new [layout] &lt;title&gt; // æ–°å»ºä¸€ç¯‡æ–‡ç« .layouté»˜è®¤default_layoutå‚æ•°,æ ‡é¢˜æœ‰ç©ºæ ¼,éœ€ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ hexo generate // ç”Ÿæˆé™æ€æ–‡ä»¶. -d, --deploy æ–‡ä»¶ç”Ÿæˆåç«‹å³éƒ¨ç½²ç½‘ç«™.å¯ç®€å†™ä¸º hexo g hexo server // å¯åŠ¨æœåŠ¡å™¨.é»˜è®¤æƒ…å†µä¸‹ç½‘å€ä¸º:http://loalhost:4000/. -p, --port é‡è®¾ç«¯å£ hexo deploy // éƒ¨ç½²ç½‘ç«™. -g, --generate éƒ¨ç½²ä¹‹å‰é¢„å…ˆç”Ÿæˆé™æ€æ–‡ä»¶.å¯ç®€å†™ä¸º hexo d hexo clean // æ¸…é™¤ç¼“å­˜æ–‡ä»¶å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ Hexoéƒ¨ç½²åœ°å€é…ç½®æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶_config.yml,æ‰¾åˆ°deployå­—æ®µ,é…ç½®å¦‚ä¸‹deploy: - type: git // ä»¥ä¸‹æ˜¯æˆ‘çš„gitåœ°å€ repo: git@github.com:yexiaochen/yexiaochen.github.io.git branch: master - type: git // ä»¥ä¸‹æ˜¯æˆ‘çš„codingåœ°å€ repo: git@git.coding.net:yexiaochen/yexiaochen.coding.me.git branch: master å®‰è£…Nextä¸»é¢˜å®šä½åˆ°Hexoç«™ç‚¹ç›®å½•ä¸‹,æ‰§è¡Œä¸€ä¸‹å‘½ä»¤å³å¯git clone https://github.com/iissnan/hexo-theme-next themes/next å…‹éš†å®Œæˆå,æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶_config.yml,æ‰¾åˆ°themeå­—æ®µ,å¹¶å°†å…¶å€¼æ›´æ”¹ä¸ºnextè®¾ç½®èœå•é¡µé¢Nextä¸»é¢˜æœ‰é»˜è®¤çš„èœå•é¡¹,éƒ¨åˆ†èœå•é¡¹éœ€è¦è‡ªå·±æ·»åŠ .æ·»åŠ èœå•é¡¹é¡µé¢æ–°å»ºæ ‡ç­¾é¡µé¢åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ ‡ç­¾é¡µé¢hexo new page tags åœ¨æ–°å»ºçš„é¡µé¢ç¼–è¾‘ä¸€ä¸‹å†…å®¹123456---title: All tagsdate: 2018-03-24 18:02:30type: &quot;tags&quot;comments: false---åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlå†…, æ‰¾åˆ°menuå­—æ®µ,æ·»åŠ å¦‚ä¸‹å†…å®¹123456789menu:home: / || home# about: /about/ || usertags: /tags/ || tagscategories: /categories/ || tharchives: /archives/ || archive# schedule: /schedule/ || calendar# sitemap: /sitemap.xml || sitemap# commonweal: /404/ || heartbeatåœ¨èœå•é¡¹é‡Œæ·»åŠ åˆ†ç±»é¡¹æ“ä½œåŒä¸Šæ·»åŠ gitmentè¯„è®º æ·»åŠ gitalkè¯„è®ºè¿œç¨‹ä»“åº“æ–°å»ºä¸€ä¸ªrepository,åå­—éšæ„,å¾…ä¼šå„¿ä¼šç”¨åˆ°æ·»åŠ OAuth Apps.ç™»é™†GitHub,é€šè¿‡Settings =&gt; Developer settings =&gt; OAuth Apps,ç‚¹å‡»New OAuth App.æ·»åŠ åä¼šç”ŸæˆClient IDå’ŒClient Secretgitalkå’Œgitmentæ˜¯å·®ä¸å¤šçš„äº§å“, åœ¨æˆ‘ä»¬æ›´æ¢è¯„è®ºç³»ç»Ÿæ—¶, å¯ä»¥åœ¨å…¶åŸºç¡€ä¸Šä¿®æ”¹. åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlå†…, æ‰¾åˆ°gitmentå­—æ®µ,æ·»åŠ å¦‚ä¸‹å†…å®¹.12345678910111213gitment: enable: true mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway count: true # Show comments count in post meta area lazy: true # Comments lazy loading with a button cleanly: true # Hide &apos;Powered by ...&apos; on footer, and more language: # Force language, or auto switch by theme github_user: yexiaochen # MUST HAVE, Your Github ID 18507780 github_repo: blog-gitment # MUST HAVE, The repo you use to store Gitment comments client_id: your_client_id # MUST HAVE, Github client id for the Gitment client_secret: your_client_secret # EITHER this or proxy_gateway, Github access secret token for the Gitment proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabledåœ¨themes/next/layout/_third-party/comments/gitment.swigæ–‡ä»¶ä¸­, æŒ‰ç…§gitalkæ–‡æ¡£é‡Œçš„é…ç½®è¿›è¡Œä¿®æ”¹.123456789const gitalk = new Gitalk(&#123;clientID: 'GitHub Application Client ID',clientSecret: 'GitHub Application Client Secret',repo: 'GitHub repo',owner: 'GitHub repo owner',admin: ['GitHub repo owner and collaborators, only these guys can initialize github issues'],id: location.pathname, // Ensure uniqueness and length less than 50distractionFreeMode: false // Facebook-like distraction free mode&#125;)æ³¨æ„: gitalk éœ€è¦GitHubè´¦å·ç™»é™†æ‰å¯ä»¥åˆ›å»ºåˆå§‹åŒ–.éƒ¨ç½²codingéƒ¨ç½²åˆ°codingå’Œéƒ¨ç½²åˆ°GitHubç±»ä¼¼,ä¹Ÿæ˜¯è¦æ·»åŠ SSHçš„.æ–°å»ºçš„é¡¹ç›®åç§°ä¹Ÿæ˜¯è¦æ±‚æŒ‰ç…§ä¸€å®šçš„è§„èŒƒæ¥,ç»†èŠ‚å¯å‚è€ƒCoding Pages.åœ¨PagesæœåŠ¡çš„è®¾ç½®å¯å‚è€ƒä¸‹å›¾DNSè§£æè®¾ç½®è´­ä¹°åŸŸåå,è¦å¯¹å…¶è¿›è¡Œè§£æè®¾ç½®.å› ä¸ºå›½å¤–å¢™çš„åŸå› ,æ•…åšå®¢åœ¨éƒ¨ç½²æ—¶ä¹Ÿé€‰åœ¨äº†ä¸åŒçš„å¹³å°ä¸Š.ä¸åŒçš„è§£æè·¯çº¿å¯¹åº”ä¸åŒçš„é¡¹ç›®URLåšå®¢çš„æ­å»ºåˆ°æ­¤å°±ç»“æŸäº†,å…¶ä¸­è¿˜æ˜¯æœ‰è®¸å¤šç»†èŠ‚æ²¡æœ‰æåˆ°,æ—¶é—´ä¹…äº†å·²ç»å¿˜äº†å¤§éƒ¨åˆ†äº†]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>coding</tag>
        <tag>éƒ¨ç½²</tag>
        <tag>DNS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Github+Hexo+Nextåšå®¢æ­å»ºä¹‹gitå’ŒGitHub]]></title>
    <url>%2FGithub-Hexo-Next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8Bgit%E5%92%8C%08GitHub%2F</url>
    <content type="text"><![CDATA[åšå®¢å·²ç»æ­å»ºå¥½äº†,è‡ªç„¶å¯ä»¥è¶çƒ­æ‰“é“å†™ä¸€äº›åšå®¢æ­å»ºçš„ç»éªŒ.ä¸€æ˜¯æ–¹ä¾¿è‡ªå·±ä»¥åæŸ¥çœ‹,å…å¾—å¿˜è®°.äºŒæ˜¯å¦‚æœæœ‰äººæƒ³äº†è§£åšå®¢æ­å»ºçš„è¿‡ç¨‹,ä¹Ÿæ­£å¥½æœ‰ä¸ªå‚è€ƒ.(å¦‚æœSEOåšçš„å¥½,å°±æœ‰å¯èƒ½çœ‹åˆ°è¿™ç¯‡æ–‡ç« ).æœ¬æ–‡ä»…è®°å½•æ€ä¹ˆå»æ­å»ºåšå®¢,è€Œä¸ä¼šè§£é‡Šæ¯ä¸€æ­¥åŸç†,æœ‰äº›ä¸œè¥¿æˆ‘è‡ªå·±éƒ½æ²¡æœ‰æçš„å¤ªæ¸…æ¥š.æ¯•ç«Ÿæˆ‘åªæ˜¯æƒ³å€ŸåŠ©åšå®¢è¿™ä¸ªå¹³å°è®°å½•å¹³æ—¶å·¥ä½œçš„ç»éªŒè€Œå·²,ç»†ç©¶ç›¸å…³æ–¹é¢çŸ¥è¯†å¹¶ä¸æ˜¯æˆ‘çš„æœ€ç»ˆç›®çš„.ç°åœ¨å›å¤´çœ‹åšå®¢çš„æ­å»ºè¿‡ç¨‹,å¯ä»¥æ€»ç»“å½’çº³ä»¥ä¸‹å‡ ç‚¹. markdown,gitå’ŒGitHub,githubå’Œcodingéƒ¨ç½², Hexoå’ŒNextäº†è§£, SEOç­‰gitå’ŒGitHubæ¥ä¸‹æ¥ä¼šæŒ‰ä¸€ä¸‹æµç¨‹å±•å¼€,æœ¬åœ°gité…ç½® =&gt; å…³è”è¿œç¨‹ä»“åº“ =&gt; åˆå§‹åŒ–ä»“åº“.ç”±äºåšä¸»ä½¿ç”¨çš„Mac,æ‰§è¡Œå‘½ä»¤æ—¶ä¼šå’Œwindowä¸‹cmdæœ‰æ‰€åŒºåˆ«.gité…ç½®å®Œæˆgit çš„å®‰è£…å,åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦é…ç½®ä¸€äº›å…¨å±€å‚æ•°, å¦‚usernameå’Œemail.å› ä¸ºGitHubæ¯æ¬¡commitéƒ½ä¼šè®°å½•å®ƒä»¬.git config --global user.name &quot;username&quot; git config --global user.email &quot;email&quot; é™¤äº†usernameå’Œemailå¤–,è¿˜æœ‰è®¸å¤šè‡ªå®šä¹‰é…ç½®,ç¤ºä¾‹:git config --global color.ui true // gitè¾“å‡ºæ˜¾ç¤ºä¸åŒé¢œè‰² git config --global ignorecase true // gitå¯¹ä»“åº“ä¸­çš„æ–‡ä»¶å¤§å°å†™æ•æ„Ÿ git config --global alias.st status // gitæä¾›aliasçš„åŠŸèƒ½,git statusç¼©å†™ä¸ºgit st git config --global apply.whitespace nowarn // gitå¿½ç•¥ç©ºç™½çš„å˜åŒ– æŸ¥çœ‹æ‰€æœ‰å·²ç»åšå‡ºçš„é…ç½®:git config -l æˆ– git config --list æ·»åŠ è¿œç¨‹ä»“åº“é¦–å…ˆåœ¨githubå®˜ç½‘æœ‰è‡ªå·±çš„è´¦å·,ä¹‹åå°±å¯ä»¥åˆ›å»ºä»“åº“äº†.æ·»åŠ SSH Keyç”±äºä½ çš„æœ¬åœ°Gitä»“åº“å’Œgithubä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡SSHåŠ å¯†çš„,æ‰€ä»¥éœ€æ‰§è¡Œä»¥ä¸‹æ­¥éª¤:æœ¬åœ°åˆ›å»ºssh key.$ ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot; åé¢çš„your_email@youremail.comæ”¹ä¸ºä½ åœ¨githubä¸Šæ³¨å†Œçš„é‚®ç®±,ä¹‹åä¼šè¦æ±‚ç¡®è®¤è·¯å¾„å’Œè¾“å…¥å¯†ç ,æˆ‘ä»¬é»˜è®¤ä¸€è·¯å›è½¦å°±è¡Œ.æˆåŠŸçš„è¯ä¼šåœ¨~/ä¸‹ç”Ÿæˆ.sshæ–‡ä»¶å¤¹,è¿›å»æ‰“å¼€id_rsa.pub,å¤åˆ¶é‡Œé¢çš„key.ls -al ~/.ssh // æŸ¥çœ‹æ˜¯å¦å­˜åœ¨id_rsa.pub,è‹¥å­˜åœ¨,æ‰§è¡Œä¸‹ä¸€æ­¥; cd ~/.ssh // è¿›å…¥.sshç›®å½• cat id_rsa.pub // æŸ¥çœ‹å¤åˆ¶id_rsa.pub åœ¨GitHubé‡Œæ·»åŠ å¤åˆ¶çš„id_rsa.pub. Settings =&gt; SSH and GPG keys =&gt;New SSH key.æ“ä½œä¹‹å,å¦‚å›¾ç¤º:Titleä»»æ„å¡«å†™,Keyå¡«å…¥ä¹‹å‰å¤åˆ¶çš„id_rsa.pub.ç‚¹å‡»Add SSH key,æ·»åŠ å·²ç»å®Œæˆ.éªŒè¯æ˜¯å¦æˆåŠŸ,è¾“å…¥ä¸‹åˆ—å‘½ä»¤:ssh -T git@github.com å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡çš„ä¼šæç¤ºæ˜¯å¦continue,è¾“å…¥yeså°±ä¼šçœ‹åˆ°:Youâ€™ve successfully authenticated,but GitHub does not provide shell access.è¿™å°±è¡¨ç¤ºå·²æˆåŠŸè¿ä¸Šgithub.åˆ›å»ºGitHubé¡¹ç›®å¹¶æ·»åŠ è¿œç¨‹ä»“åº“ç™»é™†githubè´¦æˆ·å,ç‚¹å‡»New repository, ä¼šæœ‰Create a new repositoryé¡µé¢,å¡«å†™ç›¸å…³ä¿¡æ¯,ç‚¹å‡»Create repository,å¯ä»¥æ ¹æ®å®˜ç½‘æä¾›çš„æ–¹å¼æ·»åŠ è¿œç¨‹ä»“åº“.å¦‚ä¸‹:â€¦or create a new repository on the command lineecho &quot;# something&quot; &gt;&gt; README.md // ç”Ÿæˆreadme.md git init // åˆå§‹åŒ–æœ¬åœ°ä»“åº“ git add README.md // å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº git commit -m &quot;first commit&quot; // å°†æš‚å­˜åŒºæ–‡ä»¶æäº¤åˆ°ä»“åº“ä¸­ git remote add origin git@github.com:your-repository // æ·»åŠ ä½ çš„è¿œç¨‹ä»“åº“ git push -u origin master // å°†æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç¨‹ä»“åº“ â€¦or push an existing repository from the command linegit remote add origin git@github.com:your-repository git push -u origin master ä»¥ä¸Šæ­¥éª¤å®Œæˆäº†æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“çš„è¿æ¥,æ¥ä¸‹æ¥æ€»ç»“gitçš„ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤æ·±å…¥äº†è§£å¯å‚è€ƒ gitä¸­æ–‡gitçš„å¸¸ç”¨å‘½ä»¤çŠ¶æ€å’Œå·¥ä½œåŒºåŸŸä¸‰ç§çŠ¶æ€å·²æäº¤: è¡¨ç¤ºæ•°æ®å·²ç»å®‰å…¨å¾—ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ä¸­.å·²ä¿®æ”¹: è¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶,ä½†è¿˜æ²¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­.å·²æš‚å­˜: è¡¨ç¤ºå¯¹ä¸€ä¸ªå·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ç‰ˆæœ¬åšäº†æ ‡è®°,ä½¿ä¹‹åŒ…å«åœ¨ä¸‹æ¬¡æäº¤çš„å¿«ç…§ä¸­.ä¸‰ç§å·¥ä½œåŒºåŸŸGitä»“åº“ç›®å½•: æ˜¯Gitç”¨æ¥ä¿å­˜é¡¹ç›®çš„å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“çš„åœ°æ–¹.è¿™æ˜¯Gitä¸­æœ€é‡è¦çš„éƒ¨åˆ†,ä»å…¶ä»–è®¡ç®—æœºå…‹éš†ä»“åº“æ—¶,æ‹·è´çš„å°±æ˜¯è¿™é‡Œçš„æ•°æ®.å·¥ä½œç›®å½•: å¯¹é¡¹ç›®çš„æŸä¸ªç‰ˆæœ¬ç‹¬ç«‹æå–å‡ºæ¥çš„å†…å®¹.è¿™äº›ä»Gitä»“åº“çš„å‹ç¼©æ•°æ®åº“ä¸­æå–å‡ºæ¥çš„æ–‡ä»¶,æ”¾åœ¨ç£ç›˜ä¸Šä¾›ä½ ä½¿ç”¨æˆ–ä¿®æ”¹.æš‚å­˜åŒº: æ˜¯ä¸€ä¸ªæ–‡ä»¶,ä¿å­˜äº†ä¸‹æ¬¡å°†æäº¤çš„æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯,ä¸€èˆ¬åœ¨Gitä»“åº“ç›®å½•ä¸­.æœ‰æ—¶ä¹Ÿè¢«ç§°ä½œâ€™ç´¢å¼•â€™.å·¥ä½œç›®å½•ä¸‹çš„ä¸¤ç§çŠ¶æ€å·²è·Ÿè¸ª: æŒ‡è¢«çº³å…¥äº†ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶,åœ¨ä¸Šä¸€æ¬¡å¿«ç…§ä¸­æœ‰å®ƒä»¬çš„è®°å½•,åœ¨å·¥ä½œä¸€æ®µæ—¶é—´å,å®ƒä»¬çš„çŠ¶æ€å¯èƒ½å¤„äºä¸ºä¿®æ”¹,å·²ä¿®æ”¹æˆ–å·²æš‚å­˜.æœªè·Ÿè¸ª: å·¥ä½œç›®å½•ä¸­é™¤äº†å·²è·Ÿè¸ªæ–‡ä»¶ä»¥å¤–çš„æ‰€æœ‰å…¶å®ƒæ–‡ä»¶éƒ½å±äºæœªè·Ÿè¸ªæ–‡ä»¶,å®ƒä»¬æ—¢ä¸å­˜åœ¨ä¸ä¸Šæ¬¡å¿«ç…§ä¸­,ä¹Ÿæ²¡æœ‰æ”¾å…¥æš‚å­˜åŒº.åˆæ¬¡å…‹éš†æŸä¸ªä»“åº“çš„æ—¶å€™,å·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½å±äºå·²è·Ÿè¸ªæ–‡ä»¶,å¹¶å¤„äºæœªä¿®æ”¹çŠ¶æ€.Gitå·¥ä½œæµç¨‹åŸºæœ¬çš„ Git å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼šåœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹æ–‡ä»¶.æš‚å­˜æ–‡ä»¶,å°†æ–‡ä»¶çš„å¿«ç…§æ”¾å…¥æš‚å­˜åŒºåŸŸ.æäº¤æ›´æ–°,æ‰¾åˆ°æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶,å°†å¿«ç…§æ°¸ä¹…æ€§å­˜å‚¨åˆ° Git ä»“åº“ç›®å½•.å¦‚æœ Git ç›®å½•ä¸­ä¿å­˜ç€çš„ç‰¹å®šç‰ˆæœ¬æ–‡ä»¶,å°±å±äºå·²æäº¤çŠ¶æ€. å¦‚æœä½œäº†ä¿®æ”¹å¹¶å·²æ”¾å…¥æš‚å­˜åŒºåŸŸï¼Œå°±å±äºå·²æš‚å­˜çŠ¶æ€.å¦‚æœè‡ªä¸Šæ¬¡å–å‡ºå,ä½œäº†ä¿®æ”¹ä½†è¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºåŸŸ,å°±æ˜¯å·²ä¿®æ”¹çŠ¶æ€.åŸºç¡€æ“ä½œåˆå§‹åŒ–Gitä»“åº“git init è¯¥å‘½ä»¤å°†åˆ›å»ºä¸€ä¸ªåä¸º.gitçš„å­ç›®å½•,è¿™ä¸ªå­ç›®å½•å«æœ‰åˆå§‹åŒ–çš„Gitä»“åº“ä¸­æ‰€æœ‰çš„å¿…é¡»æ–‡ä»¶æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒºgit add &lt;file&gt; // æ·»åŠ å•ä¸ªæ–‡ä»¶åˆ°æš‚å­˜åŒº git add . // &apos;.&apos; è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶ã€æ–‡ä»¶å¤¹å’Œå­æ–‡ä»¶å¤¹ æ·»åŠ æ–‡ä»¶åˆ°ä»“åº“git commit // å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°ä»“åº“ä¸­ git commit -m &apos;æäº¤ä¿¡æ¯&apos; // -m å¸¦æäº¤ä¿¡æ¯,è¯´æ˜æœ¬æ¬¡æäº¤å†…å®¹æˆ–ä¿®æ”¹ç­‰ git commit -am // -a Gitä¼šè‡ªåŠ¨æŠŠæ‰€æœ‰å·²ç»è·Ÿè¸ªè¿‡çš„æ–‡ä»¶æš‚å­˜ä¸€å¹¶æäº¤,ä»è€Œè·³è¿‡git addæ­¥éª¤ æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€git status // æŸ¥çœ‹å“ªäº›æ–‡ä»¶å¤„äºä»€ä¹ˆçŠ¶æ€ git status -s // git status -short è¾“å‡ºç®€ä»‹æ˜¾ç¤º ?? filename-1 // æ–°æ·»åŠ æœªè·Ÿè¸ªæ–‡ä»¶å‰é¢æœ‰??æ ‡è®° A filename-2 // æ–°æ·»åŠ åˆ°æš‚å­˜åŒºæ–‡ä»¶å‰æœ‰Aæ ‡è®° M filename-3 // å‡ºç°åœ¨å·¦è¾¹çš„Mè¡¨ç¤º,è¯¥æ–‡ä»¶è¢«ä¿®æ”¹äº†å¹¶æ”¾å…¥äº†æš‚å­˜åŒº M filename-4 // å‡ºç°åœ¨å³è¾¹çš„Mè¡¨ç¤ºè¯¥æ–‡ä»¶è¢«ä¿®æ”¹äº†ä½†æ²¡æ”¾å…¥æš‚å­˜å– MM filename-5 // åŒæ—¶å‡ºç°è¡¨ç¤ºåœ¨å·¥ä½œåŒºè¢«ä¿®æ”¹å¹¶æäº¤åˆ°æš‚å­˜åŒºç”±äºåœ¨å·¥ä½œåŒºä¸­è¢«ä¿®æ”¹äº†,æ‰€ä»¥è¯´æš‚å­˜åŒºå’Œå·¥ä½œåŒºéƒ½æœ‰è¯¥æ–‡ä»¶çš„ä¿®æ”¹è®°å½• æŸ¥çœ‹æ–‡ä»¶å…·ä½“ä¿®æ”¹git diff // è¯¥å‘½ä»¤æŸ¥çœ‹æœªæš‚å­˜çš„æ–‡ä»¶æ›´æ–°äº†å“ªäº›éƒ¨åˆ†,ç”¨äºæ¯”è¾ƒå·¥ä½œç›®å½•ä¸­å½“å‰æ–‡ä»¶å’Œæš‚å­˜åŒºåŸŸå¿«ç…§ä¹‹é—´çš„å·®å¼‚ git diff --cached // è¯¥å‘½ä»¤ç”¨äºæŸ¥çœ‹å·²æš‚å­˜çš„å°†è¦æ·»åŠ åˆ°ä¸‹æ¬¡æäº¤é‡Œçš„å†…å®¹ (Git 1.6.1 åŠæ›´é«˜ç‰ˆæœ¬è¿˜å…è®¸ä½¿ç”¨ git diff --stagedï¼Œæ•ˆæœæ˜¯ç›¸åŒçš„) æŸ¥çœ‹æäº¤å†å²git log // æŒ‰æäº¤æ—¶é—´åˆ—å‡ºæ‰€æœ‰çš„æ›´æ–°,æœ€æ–°çš„æ›´æ–°æ’åœ¨æœ€ä¸Šé¢ git log -p -(n) // -p ç”¨æ¥æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„å†…å®¹å·®å¼‚. -(n) ä»…æ˜¾ç¤ºæœ€è¿‘næ¬¡æäº¤ git log --stat // æ¯æ¬¡çš„ç®€ç•¥çš„ç»Ÿè®¡ä¿¡æ¯ git log --pretty=oneline // è¯¥é€‰é¡¹æŒ‡å®šä½¿ç”¨ä¸åŒäºé»˜è®¤æ ¼å¼çš„æ–¹å¼å±•ç¤ºæäº¤å†å². å¯ç”¨é€‰é¡¹åŒ…æ‹¬oneline,short,full,fullerå’Œformat(åè·ŸæŒ‡å®šæ ¼å¼) git log --shortstat // åªæ˜¾ç¤º--statä¸­æœ€åçš„è¡Œæ•°ä¿®æ”¹æ·»åŠ ç§»é™¤ç»Ÿè®¡ git log --name-only // ä»…åœ¨æäº¤ä¿¡æ¯åæ˜¾ç¤ºå·²ä¿®æ”¹çš„æ–‡ä»¶æ¸…å• git log --name-status // æ˜¾ç¤ºæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤çš„æ–‡ä»¶æ¸…å• git log --graph // æ˜¾ç¤ºASCLLå›¾å½¢è¡¨ç¤ºçš„åˆ†æ”¯åˆå¹¶å†å² git relog // å¼•ç”¨æ—¥å¿—,è®°å½•äº†HEADå’Œåˆ†æ”¯å¼•ç”¨æ‰€æŒ‡å‘çš„å†å²,åªå­˜åœ¨åœ¨äºæœ¬åœ°ä»“åº“ æ’¤é”€æ“ä½œgit reset HEAD &lt;file&gt; // ä¸¢å¼ƒå·²ç»è¿›å…¥æš‚å­˜å–çš„ä¿®æ”¹ git checkout -- &lt;file&gt; // ä¸¢å¼ƒå·¥ä½œåŒºä¸­æ–‡ä»¶çš„ä¿®æ”¹ git checkout -- . // ä¸¢å¼ƒå½“å‰ç›®å½•ä¸‹æ‰€æœ‰å·¥ä½œåŒºä¸­çš„ä¿®æ”¹ é€€å›åˆ°æŸä¸ªæäº¤ç‰ˆæœ¬git reset --hard HEAD^ // å›é€€åˆ°ä¸Šä¸€ä¸ªæäº¤ git reset --hard HEAD^^ // å›é€€åˆ°ä¸Šä¸Šä¸€ä¸ªæäº¤ git reset --hard &lt;commit_id&gt; // å›é€€åˆ°æŒ‡å®šidçš„æäº¤ç‰ˆæœ¬ åˆ é™¤æ“ä½œåœ¨æ–‡ä»¶æœªæ·»åŠ åˆ°æš‚å­˜å–ä¹‹å‰,å¯ä»¥ç›´æ¥ç‰©ç†åˆ é™¤æƒ³è¦åˆ é™¤çš„æ–‡ä»¶.æˆ–é€šè¿‡git checkout -- &lt;file&gt; æ¥ä¸¢å¼ƒä¿®æ”¹.å¦‚æœæ–‡ä»¶å·²ç»è¢«æäº¤,åˆ™éœ€è¦git rmåˆ é™¤git rm &lt;file&gt; // åˆ é™¤è¢«æäº¤çš„æ–‡ä»¶ è¿œç¨‹ä»“åº“æŸ¥çœ‹è¿œç¨‹ä»“åº“git remote // æŸ¥çœ‹å·²é…ç½®çš„è¿œç¨‹ä»“åº“æœåŠ¡å™¨ git remote -v // æ˜¾ç¤ºéœ€è¦è¯»å†™è¿œç¨‹ä»“åº“ä½¿ç”¨çš„Gitä¿å­˜çš„ç®€å†™ä¸å¯¹åº”çš„URL git remote show &lt;remote-name&gt; // æŸ¥çœ‹æŸä¸€ä¸ªè¿œç¨‹ä»“åº“çš„æ›´å¤šä¿¡æ¯ æ·»åŠ è¿œç¨‹ä»“åº“git remote add &lt;remote-name&gt; &lt;url&gt; // æ·»åŠ åœ°å€ä¸ºURL,åä¸ºremote-nameçš„å¼•ç”¨ ä»è¿œç¨‹ä»“åº“ä¸­æ‹‰å–ä¸æ¨é€git fetch &lt;remote-name&gt; // è¯¥å‘½ä»¤å°†æ•°æ®æ‹‰å–åˆ°æœ¬åœ°ä»“åº“,å¹¶ä¸ä¼šè‡ªåŠ¨åˆå¹¶æˆ–ä¿®æ”¹å½“å‰çš„å·¥ä½œ git pull &lt;remote-name&gt; // æ”¹å‘½ä»¤è‡ªåŠ¨æŠ“å–ç„¶ååˆå¹¶è¿œç¨‹åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ git push &lt;remote-name&gt; &lt;branch-name&gt; // å°†branch-nameåˆ†æ”¯æ¨é€åˆ°remote-nameæœåŠ¡å™¨ä¸Š git push -u &lt;remote-name&gt; &lt;branch-name&gt; // ç¬¬ä¸€æ¬¡ä½¿ç”¨å¸¦ä¸Š-uå‚æ•°,åœ¨å°†æœ¬åœ°çš„ master åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹æ–°çš„ master åˆ†æ”¯çš„åŒæ—¶,è¿˜ä¼šæŠŠæœ¬åœ°çš„ master åˆ†æ”¯å’Œè¿œç¨‹çš„ master åˆ†æ”¯å…³è”èµ·æ¥ è¿œç¨‹ä»“åº“çš„ç§»é™¤ä¸é‡å‘½ågit remote rm &lt;remote-name&gt; // ç§»é™¤è¿œç¨‹ä»“åº“ git remote rename &lt;old-name&gt; &lt;new-name&gt; // é‡å‘½åè¿œç¨‹ä»“åº“ ä¿®æ”¹æœ¬åœ°ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“git remote set-url &lt;remote-name&gt; &lt;url&gt; // å½“è¿œç¨‹çš„ä»“åº“åœ°å€å‘ç”Ÿå˜åŒ–æ—¶,éœ€è¦ä¿®æ”¹æœ¬åœ°ä»“åº“å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€ åˆ†æ”¯ç®¡ç†git branch // æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ä¿¡æ¯, è¾“å‡ºå†…å®¹ä¸­,æ ‡è®°*,è¡¨ç¤ºå½“å‰æ‰€åœ¨åˆ†æ”¯ git branch -v // æŸ¥çœ‹è¯¦ç»†çš„æœ¬åœ°åˆ†æ”¯ä¿¡æ¯ git branch &lt;branch-name&gt; // æ–°å»ºä¸€ä¸ªbranch-nameåˆ†æ”¯ git checkout &lt;branch-name&gt; // æ–°å»ºå®Œbranch-nameåˆ†æ”¯å,å¹¶é€šè¿‡è¯¥å‘½ä»¤åˆ‡åˆ°branch-nameåˆ†æ”¯ git checkout master git merge &lt;branch-name&gt; // åˆ‡æ¢å›masteråˆ†æ”¯,å¹¶å°†branch-nameåˆ†æ”¯çš„ä¿®æ”¹åˆå¹¶åˆ°masteråˆ†æ”¯ git branch -d &lt;branch-name&gt; // åˆ é™¤branch-nameåˆ†æ”¯]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Github+Hexo+Nextåšå®¢æ­å»ºä¹‹Markdown]]></title>
    <url>%2FGithub-Hexo-Next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8BMarkdown%2F</url>
    <content type="text"><![CDATA[åšå®¢å·²ç»æ­å»ºå¥½äº†,è‡ªç„¶å¯ä»¥è¶çƒ­æ‰“é“å†™ä¸€äº›åšå®¢æ­å»ºçš„ç»éªŒ.ä¸€æ˜¯æ–¹ä¾¿è‡ªå·±ä»¥åæŸ¥çœ‹,å…å¾—å¿˜è®°.äºŒæ˜¯å¦‚æœæœ‰äººæƒ³äº†è§£åšå®¢æ­å»ºçš„è¿‡ç¨‹,ä¹Ÿæ­£å¥½æœ‰ä¸ªå‚è€ƒ.(å¦‚æœSEOåšçš„å¥½,å°±æœ‰å¯èƒ½çœ‹åˆ°è¿™ç¯‡æ–‡ç« ).æœ¬æ–‡ä»…è®°å½•æ€ä¹ˆå»æ­å»ºåšå®¢,è€Œä¸ä¼šè§£é‡Šæ¯ä¸€æ­¥åŸç†,æœ‰äº›ä¸œè¥¿æˆ‘è‡ªå·±éƒ½æ²¡æœ‰æçš„å¤ªæ¸…æ¥š.æ¯•ç«Ÿæˆ‘åªæ˜¯æƒ³å€ŸåŠ©åšå®¢è¿™ä¸ªå¹³å°è®°å½•å¹³æ—¶å·¥ä½œçš„ç»éªŒè€Œå·²,ç»†ç©¶ç›¸å…³æ–¹é¢çŸ¥è¯†å¹¶ä¸æ˜¯æˆ‘çš„æœ€ç»ˆç›®çš„.ç°åœ¨å›å¤´çœ‹åšå®¢çš„æ­å»ºè¿‡ç¨‹,å¯ä»¥æ€»ç»“å½’çº³ä»¥ä¸‹å‡ ç‚¹. markdown,gitå’ŒGitHub, githubå’Œcodingéƒ¨ç½², Hexoå’ŒNextäº†è§£, SEOç­‰Markdownå·¥æ¬²å–„å…¶äº‹,å¿…å…ˆåˆ©å…¶å™¨.ä½œä¸ºç¨‹åºå‘˜,å¹³æ—¶çš„ç¼–è¾‘è¯­è¨€é¦–é€‰æ˜¯markdown,markdownçš„ä½¿ç”¨å…¶å®å¾ˆç®€å•.ä¹‹å‰é™¤äº†æ•´ç†ä¸€ä¸‹æ–‡æ¡£å¤–,å¹³æ—¶å€’æ˜¯ç”¨çš„ä¸å¤š,åœ¨æ­¤æ•´ç†ä¸€ä¸‹æ®µè½å’Œæ¢è¡Œä¸€ä¸ªMarkdownæ®µè½å‰åè¦æœ‰ä¸€ä¸ªä»¥ä¸Šç©ºè¡Œ,æ™®é€šæ®µè½ä¸è¯¥ç”¨ç©ºè¡Œæˆ–åˆ¶è¡¨ç¬¦æ¥ç¼©è¿›.æ®µè½å†…å¼ºè¿«æ¢è¡Œå¯åœ¨æ’å…¥å¤„é”®å…¥ä¸¤ä¸ªä»¥ä¸Šç©ºæ ¼ç„¶åå›è½¦.æ ‡é¢˜markdownæ”¯æŒä¸¤ç§æ ‡é¢˜,ç±»Setextå’ŒAtxå½¢å¼.ç±»Atxå½¢å¼æ˜¯åœ¨è¡Œé¦–æ’å…¥1åˆ°6ä¸ª#,åˆ†åˆ«å¯¹åº”1åˆ°6çº§æ ‡é¢˜,ç¤ºä¾‹:123# ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜### ä¸‰çº§æ ‡é¢˜åŒºå—å¼•ç”¨Markdownä¸­å»ºç«‹åŒºå—å¼•ç”¨,éœ€åœ¨è¡Œé¦–æœ€å‰é¢åŠ ä¸Š&gt;:1&gt; è¿™æ˜¯ä¸€ä¸ªåŒºå—å¼•ç”¨æ•ˆæœå±•ç¤º:è¿™æ˜¯ä¸€ä¸ªåŒºå—å¼•ç”¨åŒºå—å¼•ç”¨å¯ä»¥åµŒå¥—,åªè¦æ ¹æ®å±‚æ¬¡åŠ ä¸Šä¸åŒæ•°é‡çš„&gt;:123&gt; è¿™æ˜¯é¡¶å±‚çš„&gt;&gt; è¿™æ˜¯äºŒçº§å¼•ç”¨&gt;&gt;&gt; è¿™æ˜¯ä¸‰çº§å¼•ç”¨æ•ˆæœå±•ç¤º:è¿™æ˜¯é¡¶å±‚çš„è¿™æ˜¯äºŒçº§å¼•ç”¨è¿™æ˜¯ä¸‰çº§å¼•ç”¨å¼•ç”¨åŒºå—å†…å¯ä»¥ä½¿ç”¨å…¶ä»–Markdownè¯­æ³•,åŒ…æ‹¬æ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç åŒºå—ç­‰:1234567&gt; åˆ—è¡¨&gt; 1. item1&gt; 2. item2&gt;&gt; ä»£ç åŒºå—&gt;&gt; è¿™æ˜¯ä¸€ä¸ªä»£ç åŒºå—æ•ˆæœå±•ç¤º:åˆ—è¡¨item1item2ä»£ç åŒºå—è¿™æ˜¯ä¸€ä¸ªä»£ç åŒºå—åˆ—è¡¨Markdownæ”¯æŒæœ‰åºåˆ—è¡¨å’Œæ— åºåˆ—è¡¨.åˆ—è¡¨é¡¹ç›®æ ‡è®°é€šå¸¸æ”¾åœ¨æœ€å·¦è¾¹,ä¹Ÿå¯ä»¥ç¼©è¿›,æœ€å¤š3ä¸ªç©ºæ ¼,é¡¹ç›®æ ‡è®°åé¢ä¸€å®šè¦æ¥ç€è‡³å°‘ä¸€ä¸ªç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦.åˆ—è¡¨é¡¹ç›®å¯ä»¥åŒ…å«å¤šä¸ªæ®µè½,æ¯ä¸ªé¡¹ç›®ä¸‹çš„æ®µè½éƒ½å¿…é¡»ç¼©è¿›å››ä¸ªç©ºæ ¼æˆ–æ˜¯ä¸€ä¸ªåˆ¶è¡¨ç¬¦:123456* è¿™æ˜¯ç¬¬ä¸€æ®µè½(ç©ºè¡Œ)(å››ä¸ªç©ºæ ¼ä¸€ä¸ªåˆ¶è¡¨ç¬¦)è¿™æ˜¯ç¬¬äºŒæ®µè½æˆ–* è¿™æ˜¯ç¬¬ä¸€æ®µè½(ä¸¤ä¸ªç©ºæ ¼)(å››ä¸ªç©ºæ ¼ä¸€ä¸ªåˆ¶è¡¨ç¬¦)è¿™æ˜¯ç¬¬äºŒæ®µè½æ•ˆæœå±•ç¤º:è¿™æ˜¯ç¬¬ä¸€æ®µè½.è¿™æ˜¯ç¬¬äºŒæ®µè½è¿™æ˜¯ç¬¬ä¸€æ®µè½è¿™æ˜¯ç¬¬äºŒæ®µè½åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›å¼•ç”¨,å¼•ç”¨éœ€ç¼©è¿›å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªåˆ¶è¡¨ç¬¦:12* åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›å¼•ç”¨(å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªåˆ¶è¡¨ç¬¦)&gt; è¿™æ˜¯å¼•ç”¨ä¸€æ•ˆæœå±•ç¤º:åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›å¼•ç”¨è¿™æ˜¯å¼•ç”¨ä¸€åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›ä»£ç åŒºå—,è¯¥åŒºå—éœ€ç¼©è¿›ä¸¤æ¬¡,å…«ä¸ªç©ºæ ¼æˆ–ä¸¤ä¸ªåˆ¶è¡¨ç¬¦:123* åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›ä»£ç åŒºå—(ç©ºè¡Œ)(å…«ä¸ªç©ºæ ¼æˆ–ä¸¤ä¸ªåˆ¶è¡¨ç¬¦)è¿™æ˜¯ä¸€ä¸ªä»£ç åŒºå—æ•ˆæœå±•ç¤º:åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›ä»£ç åŒºå—è¿™æ˜¯ä¸€ä¸ªä»£ç åŒºå— æ— åºåˆ—è¡¨æ— åºåˆ—è¡¨ä½¿ç”¨æ˜Ÿå·(*)ã€åŠ å·(+)ã€å‡å·(-)ä½œä¸ºåˆ—è¡¨æ ‡è®°:123* item + item - item* item + item - item* item + item - itemæ•ˆæœå±•ç¤º:itemitemitemæœ‰åºåˆ—è¡¨æœ‰åºåˆ—è¡¨åˆ™æ˜¯æ•°å­—æ¥ç€è‹±æ–‡å¥ç‚¹( æ•°å­— + . ):1231. item2. item3. itemæ•ˆæœå±•ç¤º:item1item2item3ä»£ç åŒºå—Markdownä¸­å»ºç«‹ä»£ç åŒºå—,éœ€ç¼©è¿›å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªåˆ¶è¡¨ç¬¦:123è¿™æ˜¯ä¸€ä¸ªæ™®é€šæ®µè½:(ç©ºè¡Œ)(å…«ä¸ªç©ºæ ¼æˆ–ä¸¤ä¸ªåˆ¶è¡¨ç¬¦)è¿™æ˜¯ä¸€ä¸ªä»£ç åŒºå—æ•ˆæœå±•ç¤º:è¿™æ˜¯ä¸€ä¸ªæ™®é€šæ®µè½:è¿™æ˜¯ä¸€ä¸ªä»£ç åŒºå— åˆ†å‰²çº¿Markdownä¸­çš„åˆ†éš”çº¿éœ€ä¸‰ä¸ªä»¥ä¸Šçš„æ˜Ÿå·(*)ã€å‡å·(-)ã€åº•çº¿(_).ä¹Ÿå¯ä»¥åœ¨æ˜Ÿå·æˆ–å‡å·æˆ–åº•çº¿ä¸­é—´æ’å…¥ç©ºæ ¼,ä¸å½±å“æ•ˆæœ.1234****-----_______**** ***** **********æ•ˆæœå±•ç¤º:é“¾æ¥Markdownæ”¯æŒä¸¤ç§å½¢å¼çš„é“¾æ¥è¯­æ³•: è¡Œå†…å¼å’Œå‚è€ƒå¼.é“¾æ¥æ–‡å­—éƒ½æ˜¯ç”¨[]æ ‡è®°.è¡Œå†…å¼è¡Œå†…å¼é“¾æ¥:1è¿™æ˜¯ä¸€ä¸ªè¡Œå†…å¼é“¾æ¥[é“¾æ¥æ–‡å­—](é“¾æ¥URL &quot;é“¾æ¥æ ‡é¢˜&quot;)æ•ˆæœå±•ç¤º:è¿™æ˜¯ä¸€ä¸ªè¡Œå†…å¼é“¾æ¥é“¾æ¥æ–‡å­—å‚è€ƒå¼1234å‚è€ƒå¼é“¾æ¥:è¿™æ˜¯ä¸€ä¸ªå‚è€ƒå¼é“¾æ¥[é“¾æ¥æ–‡å­—][é“¾æ¥è¾¨åˆ«æ ‡ç­¾](ç©ºè¡Œ)[é“¾æ¥è¾¨åˆ«æ ‡ç­¾]: é“¾æ¥URL &quot;é“¾æ¥æ ‡é¢˜&quot;æ•ˆæœå±•ç¤º:è¿™æ˜¯ä¸€ä¸ªå‚è€ƒå¼é“¾æ¥é“¾æ¥æ–‡å­—é“¾æ¥å†…å®¹å®šä¹‰å½¢å¼:æ–¹æ‹¬å·(å‰é¢å¯ä»¥é€‰æ‹©æ€§åŠ ä¸Šè‡³å¤šä¸‰ä¸ªç©ºæ ¼ç¼©è¿›),é‡Œé¢è¾“å…¥é“¾æ¥æ–‡å­—æ¥ç€ä¸€ä¸ªå†’å·æ¥ç€ä¸€ä¸ªä»¥ä¸Šçš„ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦æ¥ç€é“¾æ¥çš„ç½‘å€, å¯ä»¥ç”¨å°–æ‹¬å·åŒ…èµ·æ¥é€‰æ‹©æ€§æ¥ç€titleå†…å®¹,å¯ä»¥æ˜¯å•å¼•å·ã€åŒå¼•å·æˆ–æ‹¬å·,å¯ä»¥æ”¾åˆ°ä¸‹ä¸€è¡Œ,ä¹Ÿå¯ä»¥åŠ ä¸€äº›ç¼©è¿›é“¾æ¥è¾¨åˆ«æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™.éšå¼é“¾æ¥æ ‡è®°éšå¼é“¾æ¥æ ‡è®°å¯ä»¥çœç•¥åˆ¶å®šé“¾æ¥æ ‡è®°,æ­¤æ—¶é“¾æ¥æ ‡è®°ç­‰åŒäºé“¾æ¥æ–‡å­—:123è¿™æ˜¯ä¸€ä¸ªéšå¼é“¾æ¥æ ‡è®°åŠŸèƒ½[éšå¼é“¾æ¥][][éšå¼é“¾æ¥]: é“¾æ¥URL &quot;éšå¼é“¾æ¥æ ‡é¢˜&quot;æ•ˆæœå±•ç¤º:è¿™æ˜¯ä¸€ä¸ªéšå¼é“¾æ¥æ ‡è®°åŠŸèƒ½éšå¼é“¾æ¥å¼ºè°ƒMarkdownä¸­æ ‡è®°å¼ºè°ƒå­—è¯éœ€ä½¿ç”¨æ˜Ÿå·(*)æˆ–åº•çº¿(_),è¢«å•ä¸ª*æˆ–_åŒ…å›´çš„å­—è¯ä¼šè¢«&lt;em&gt;æ ‡ç­¾åŒ…å›´,ç”¨ä¸¤ä¸ª*æˆ–_åŒ…èµ·æ¥,åˆ™ä¼šè¢«è½¬æˆ&lt;strong&gt;,ç¤ºä¾‹:123*å¼ºè°ƒ***å¼ºè°ƒ**__å¼ºè°ƒ__æ•ˆæœå±•ç¤º:å¼ºè°ƒå¼ºè°ƒå¼ºè°ƒå¦‚æœ*æˆ–_ä¸¤è¾¹éƒ½æœ‰ç©ºç™½,å®ƒä»¬å°±åªä¼šè¢«å½“æˆæ™®é€šçš„ç¬¦å·.ä»£ç Markdownæ ‡è®°ä¸€å°æ®µè¡Œå†…ä»£ç ,éœ€ç”¨åå¼•å·åŒ…èµ·æ¥(`),æ”¯æŒè¯­æ³•é«˜äº®,åŒ…æ‹¬:Apache, Bash, CoffeeScript, C++, C#, CSS, HTTP, Java, JavaScript, JSON, Markdown, Nginx, Objective-C, Perl, PHP, Properties, Python, Ruby, Shell Session, SQL, HTML, XMLç­‰.ç¤ºä¾‹:1è¿™æ˜¯ä¸€ä¸ª`è¡Œå†…ä»£ç æ ‡è®°`æ•ˆæœå±•ç¤º:è¿™æ˜¯ä¸€ä¸ªè¡Œå†…ä»£ç æ ‡è®°å›¾ç‰‡Markdownä¸­æ’å…¥å›¾ç‰‡,æœ‰ä¸¤ç§æ ·å¼: è¡Œå†…å¼å’Œå‚è€ƒå¼.è¡Œå†…å¼1![å›¾ç‰‡æ›¿ä»£æ–‡å­—](å›¾ç‰‡é“¾æ¥URL &quot;å›¾ç‰‡æè¿°&quot;)ä¸€ä¸ªæ„Ÿå¹å·!æ¥ç€æ–¹æ‹¬å·[],é‡Œé¢æ˜¯å›¾ç‰‡çš„æ›¿ä»£æ–‡å­—æ¥ç€æ‹¬å·,é‡Œé¢æ˜¯å›¾ç‰‡çš„URL,æœ€åè¿˜å¯ä»¥é€‰æ‹©æ€§åŠ ä¸Šæ–‡å­—æè¿°.å‚è€ƒå¼12![å›¾ç‰‡æ›¿ä»£æ–‡å­—][å›¾ç‰‡å‚è€ƒæ ‡è®°][å›¾ç‰‡å‚è€ƒæ ‡è®°]: å›¾ç‰‡é“¾æ¥URL &quot;å›¾ç‰‡æè¿°&quot;å¦‚æœéœ€å¯¹å›¾ç‰‡è¿›è¡Œå®½é«˜,ä½ç½®è°ƒæ•´,å¯ä»¥ä½¿ç”¨æ™®é€šçš„&lt;img&gt;æ ‡ç­¾è‡ªåŠ¨é“¾æ¥Markdownæ”¯æŒæ¯”è¾ƒçŸ­çš„è‡ªåŠ¨é“¾æ¥å½¢å¼æ¥å¤„ç†ç½‘å€å’Œç”µå­ä¿¡ç®±,éœ€ç”¨å°–æ‹¬å·&lt;&gt;1&lt;ç½‘å€çš„URL&gt;è¡¨æ ¼Markdownä¸­æ”¯æŒè¡¨æ ¼,:ä»£è¡¨å¯¹å…¶æ–¹å¼,:å’Œ|ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼,å¦åˆ™å¯¹å…¶ä¼šæœ‰ä¸å…¼å®¹.ç¤ºä¾‹:123456789(ç©ºæ ¼)|å·¦ä¾§|ä¸­é—´|å³ä¾§||:---:|:---:|:---:||æè¿°ä¸€|æè¿°äºŒ|æè¿°ä¸‰|æˆ–(ç©ºæ ¼)å·¦ä¾§|ä¸­é—´|å³ä¾§:---:|:---:|:---:æè¿°ä¸€|æè¿°äºŒ|æè¿°ä¸‰æ•ˆæœå±•ç¤º:å·¦ä¾§ä¸­é—´å³ä¾§æè¿°ä¸€æè¿°äºŒæè¿°ä¸‰å°ç»“Markdownçš„ç®€å•åº”ç”¨åˆ°è¿™ä¹Ÿå·®ä¸å¤šå†™å®Œäº†,å½“ç„¶è¿˜æœ‰å¥½å¤šçš„é«˜çº§æŠ€å·§å¯ä»¥è‡ªè¡Œç™¾åº¦æˆ–Google.è¯­æ³•æœ¬æ¥å°±å¾ˆç®€å•,è™½ä¸è¯´ååˆ†é’ŸåŒ…æ•™åŒ…ä¼š,ä½†æ˜¯åªè¦å°è¯•ç€åœ¨é”®ç›˜ä¸Šæ•²ä¸¤ä¸‹,çœ‹çœ‹æ•ˆæœ,å­¦ä¼šå®ƒè¿˜æ˜¯æŒºå®¹æ˜“çš„.]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åºè¨€]]></title>
    <url>%2F%E5%BA%8F%E8%A8%80%2F</url>
    <content type="text"><![CDATA[å¿™æ´»äº†å¥½å¤šå¤©ç»ˆäºæŠŠåšå®¢æ­å»ºå¥½äº†.å¹³æ—¶ä¸Šç­çš„æ¯”è¾ƒå¿™,åˆ©ç”¨é›¶é›¶æ•£æ•£çš„æ—¶é—´çœ‹äº†å¥½å¤šå…³äºæ­å»ºåšå®¢çš„æ–‡ç« ,æ¶ˆåŒ–ä¹‹å,å‘ç°åšå®¢çš„æ­å»ºå¹¶ä¸æ˜¯æƒ³è±¡é‚£æ ·éº»çƒ¦.ä»¥å‰ä¸€ç›´æœ‰æ­å»ºåšå®¢çš„æƒ³æ³•,å¯æ˜¯æ¯æ¯åœ¨æ­å»ºçš„è¿‡ç¨‹ä¸­å°±æ”¾å¼ƒäº†.åŸå› æœ‰å¾ˆå¤š,ä¸€éƒ¨åˆ†æ˜¯å› ä¸ºä»æ²¡æœ‰æ¥è§¦è¿‡ç±»ä¼¼åšå®¢æ­å»ºçš„çŸ¥è¯†,ä¹Ÿæœ‰éƒ¨åˆ†åŸå› æ˜¯ä¹Ÿæ²¡æœ‰æ­å»ºåšå®¢çš„éœ€æ±‚.ä¸ºä»€ä¹ˆå†™åšä»»ä½•äº‹éƒ½æ˜¯æœ‰åŸå› çš„.æœ‰æ­åšå®¢å†™åšå®¢çš„æƒ³æ³•ä¹Ÿæ˜¯ä¸€ç›´éƒ½æ˜¯å­˜åœ¨çš„.åœ¨å¤§å­¦çš„é‚£ä¼šå„¿,ä¸€ç›´è§‰å¾—åšç¨‹åºå‘˜æ˜¯ä¸€ç±»é«˜å¤§ä¸Šçš„äººç‰©,æ‰€ä»¥ä¸€ç›´å¯¹è¿™ä¸ªè¡Œä¸šå¿ƒæ€€æ†§æ†¬.å¹³æ—¶çœ‹äº›æŠ€æœ¯å‹æ–‡ç« æ—¶,ä¸€èˆ¬éƒ½æ˜¯æ¥è‡ªå¤§ç‰›çš„åšå®¢,å†™çš„æ–‡ç« æˆ–åœ¨ç¬¬ä¸‰æ–¹å¹³å°,æˆ–åœ¨è‡ªå·±æ­å»ºçš„åšå®¢ä¸Š.å°±åœ¨é‚£ä¸ªæ—¶å€™,å¿ƒä¸­å°±æœ‰äº†èƒ½å¤Ÿæ‹¥æœ‰å±äºè‡ªå·±åšå®¢çš„æƒ³æ³•.äºæ˜¯å‘¢,è‡ªå·±ä¹Ÿæ˜¯æœ‰è¿‡å°è¯•,ä½†æ˜¯å¯¹äºæ¯«æ— åŸºç¡€çš„èœé¸Ÿæ¥è¯´,é‚£æ˜¯ä¸€ç§æŠ˜ç£¨.æŒ‘æˆ˜æ–°çš„äº‹ç‰©çš„ç¡®æœ‰æ„æ€,ä½†æ˜¯çªç„¶æ¥è§¦åˆ°å¥½å¤šä¸æ‡‚çš„æ¦‚å¿µ,ä¹Ÿæ˜¯ä¸€ç§é…¸çˆ½.ä¸è¿‡éšç€ç»å†å’Œç»éªŒçš„ç§¯ç´¯,ä¹Ÿæ…¢æ…¢å‘ç°,å­¦ä¹ ä»»ä½•æ–°çš„äº‹ç‰©,éƒ½è¦æœ‰ä¸ªå¾ªå¾ªæ¸è¿›çš„è¿‡ç¨‹,å‚¨å¤‡çš„è¶³å¤Ÿäº†è‡ªç„¶ä¼šä»é‡å˜è½¬ä¸ºè´¨å˜.å½“ç„¶è¿™ä¹Ÿæ˜¯åæ¥è¯äº†.åœ¨è¿™ä¸ªé˜¶æ®µæ­å»ºåšå®¢æƒ³æ³•æ— éå°±æ˜¯è§‰å¾—æ–°é²œ,æ»¡è¶³ä¸€ä¸‹å°è™šè£.ç»“å±€å‘¢,å¯æƒ³è€ŒçŸ¥,æ²¡æœ‰è¶³å¤Ÿçš„åŠ¨åŠ›,æ˜¯ä¸èƒ½å®Œæˆæœ‰äº›è®¸æŒ‘æˆ˜æ€§çš„ä»»åŠ¡çš„.æ¯•ç«ŸåŠ¨ç‰©è¶‹äºå®‰é€¸,ç”Ÿæ€§æ‡’æƒ°,æ²¡æœ‰å‹åŠ›,å“ªæ¥çš„å¥”æ³¢.äºº,ä¹Ÿæ˜¯åŠ¨ç‰©.æ¯•ä¸šä¹‹å,å°±å¼€å§‹æ­¥å…¥ç¤¾ä¼š,è¿™æ—¶å€™å°±è¦è€ƒè™‘å¦‚ä½•è°‹ç”Ÿäº†.æ‰€å¹¸çš„æ˜¯,è‡ªå·±ä»ä¸€å¼€å§‹å°±é€‰æ‹©äº†å‰ç«¯è¿™ä¸ªè¡Œä¸š.ä»ä¸€ä¸ªæ¯•ä¸šå°±æ˜¯å¤±ä¸šçš„ä¸“ä¸šè·³åˆ°äº†ä¸€ä¸ªé™Œç”Ÿçš„é¢†åŸŸ,é™¤äº†æ›¾ç»é‚£ä¸€ä¸ä¸çš„æ†§æ†¬è®©äººæœ‰æ‰€å®‰æ…°å¤–,å‰©ä¸‹çš„å°±æ˜¯å½·å¾¨ä¸å®‰.åœ¨è‡ªå­¦äº†ä¸€æ®µæ—¶é—´çš„å‰ç«¯åŸºç¡€å,è¿«äºå¯¹è‡ªèº«å­¦ä¹ æˆæœçš„ä¸æ»¡å’Œå¤–åœ¨å‹åŠ›,ç¡¬ç€å¤´çš®æŠ•é€’äº†å„å®¶æ‹›è˜ç½‘ç«™çš„å…¬å¸.ç™½å¤©å‚åŠ é¢è¯•,æ™šä¸Šè¿˜è¦å­¦ä¹ å·©å›ºç™½å¤©é¢è¯•å®˜æçš„é—®é¢˜.äººçš„æ½œåŠ›æˆ–æ•ˆç‡æœ‰æ—¶å€™è¿˜çœŸæ˜¯é€¼å‡ºæ¥çš„.åœ¨é¢è¯•æœŸé—´çš„ç¡®å­¦åˆ°äº†å¥½å¤šä¸œè¥¿,ä¹Ÿå¤§æ¦‚çš„çŸ¥é“äº†,è¿™ç±»è¡Œä¸šåˆ°åº•éœ€è¦ä»€ä¹ˆæ ·çš„äºº.äººçŸ¥é“çš„è¶Šå¤š,ä¹Ÿå°±è¶ŠçŸ¥é“ä¸çŸ¥é“çš„å¤ªå¤š.é‚£æ—¶å€™è‡ªå·±å°±è¿«åˆ‡å¸Œæœ›èƒ½å¤Ÿç¨³å®šä¸‹æ¥å¤¯å®ä¸€ä¸‹è‡ªå·±çš„åŸºç¡€.ç»è¿‡ä¸€æ®µæ—¶é—´çš„ä¸œå¥”è¥¿è·‘,æ‰¾åˆ°äº†äººç”Ÿçš„ç¬¬ä¸€ä»½æ­£å¼çš„å·¥ä½œ.å‡†ç¡®çš„è¯´,æ˜¯è¢«æ‰¾ä¸Šäº†.ä¸æ˜¯è¯´æˆ‘çš„æŠ€æœ¯æœ‰å¤šå‰å®³,è€Œæ˜¯è¿™ä»½å·¥ä½œå‹æ ¹ä¸éœ€è¦ä»€ä¹ˆæŠ€æœ¯.æœ¬æ¥æˆ‘æ˜¯æƒ³æ‹’ç»çš„,ä¹Ÿå¦è¨€äº†è‡ªå·±çš„çŠ¶å†µ.æ¯•ç«Ÿæˆ‘æ˜¯æŠ±ç€å­¦æŠ€æœ¯çš„å¿ƒæ€å‡ºæ¥çš„.å¯æ˜¯ç»è¿‡ä¸€è½®è½®çš„é¢è¯•,æˆ‘ä¹Ÿæ˜¯çŸ¥é“,æŠ€æœ¯çš„é‡è¦æ€§,å†åŠ ä¸Šäººå®¶çŸ¥é“æƒ…å†µåè¿˜æ˜¯è¦ç•™äºº,é‚£æˆ‘ä¹Ÿå°±ç•™ç€å‘—.ç•™åœ¨å…¬å¸å,å°±æ˜¯ç”¨cmsæ­ä¸ªç½‘ç«™,ç”³è¯·ä¸ªå¾®ä¿¡å…¬ä¼—å·åšå¾®ä¿¡è¿è¥ä»€ä¹ˆçš„.é‚£æ—¶å€™çœŸçš„ä»€ä¹ˆéƒ½ä¸çŸ¥é“,å„ç§ç™¾åº¦å•Šä»€ä¹ˆçš„.ä¸è¿‡æœ€ç»ˆè¿˜æ˜¯è®©æˆ‘æ£é¼“å‡ºæ¥äº†.ä¹‹åæ—¥å­ä¹Ÿå°±å®‰é€¸äº†,ä¸è¿‡æ¯å¤©ä¹Ÿæ˜¯æå¿ƒåŠèƒ†çš„,ç”Ÿæ€•å“ªä¸€å¤©è€æ¿åˆæ•´å‡ºä»€ä¹ˆå¹ºè›¾å­.æ—¶é—´ç©ºå‡ºæ¥äº†,æ­å»ºåšå®¢çš„æƒ³æ³•ä¹Ÿæ˜¯çªç„¶åˆé‡ç°åœ¨è„‘æµ·ä¸­.è¶ç€æœºä¼šå¯ä»¥å»ºç«™æ­åšå®¢.æ‰€ä»¥,å›å®¶ååˆå¼€å§‹å¿™æ´»èµ·å¦‚ä½•å»ºç«™.å¯æƒ³æ³•æ˜¯å¥½çš„,ç°å®å´ååä½œå¯¹.å…¬å¸ä¸€ç›´ç­¹åˆ’ç€ä¸€äº›æ´»åŠ¨,å¾®ä¿¡ä¸Šçš„ä¸€äº›æ´»åŠ¨ä¹Ÿè¦åŒæ­¥å¾—åšèµ·æ¥,æˆ‘åˆå¼€å§‹äº†å„ç§ç½‘ç«™æ”¶é›†èµ„æº.æ‰€ä»¥,æ­åšå®¢çš„æƒ³æ³•åˆæ³¡æ±¤äº†,è€Œä¸”å­¦çš„å‰ç«¯åŸºç¡€åœ¨è¿™æ®µæ—¶é—´ä¹Ÿä¸¢äº†ä¸å°‘.æ¢äº†å·¥ä½œå,æ¥è§¦çš„åˆ°äº†å…·ä½“å®åœ¨çš„é¡¹ç›®,ç§¯ç´¯çš„ç›¸å…³ç»éªŒä¹Ÿå°±å¤šäº†èµ·æ¥,ä¸€äº›ç¬”è®°ç±»çš„åº”ç”¨ä¹Ÿç”¨äº†èµ·æ¥.åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°è®¸å¤šé—®é¢˜,è‡ªå·±ä¹Ÿå°±æ›´åŠ ä¸»åŠ¨å»æ¥å—æ–°çš„çŸ¥è¯†.å¯æ˜¯è™½ç„¶çœ‹åˆ°äº†å¥½çš„æ–‡ç« ,ä¹Ÿæ”¶è—äº†èµ·æ¥,ä½†æ˜¯åŒæ ·ä¹ŸçŠ¯äº†å¥½å¤šäººçŠ¯çš„æ¯›ç—….æ”¶è—å¤¹é‡Œçš„è®°å½•ä¸€å¤©å¤©å¢åŠ ,å´ä»æ¥æ²¡æœ‰å†æ¬¡çœ‹è¿‡.è€Œä¸”,å¹³æ—¶çœ‹çš„ä¸œè¥¿å¤ªè¿‡é›¶æ•£,æ— æ³•å½¢æˆè‡ªå·±çš„ä¸€å¥—çŸ¥è¯†ä½“ç³». åŠ¨åŠ›æœ‰äº†,æ­å»ºåšå®¢çš„æƒ³æ³•ä¹Ÿæœ€ç»ˆå¯ä»¥è½å®äº†.æ€ä¹ˆå»å†™ä¸ªäººå¹³æ—¶ä¸å–„è¨€è¾,å°¤å…¶å¹³æ—¶åšå·¥ä½œæ±‡æŠ¥æ—¶,æœ€æ˜¯å°´å°¬,å¿™å¾—è¦æ­»ç»“æœå‡ å¥è¯å°±ç»™æ€»ç»“äº†.è¿™çªç„¶è®©æˆ‘æƒ³èµ·äº†å­¦ç”Ÿæ—¶ä»£å†™ä½œæ–‡çš„æ—¶å€™,æˆ‘æ˜¯å¦‚ä½•å‡‘è¶³å­—æ•°çš„.ç”±äºè‡ªèº«éšå¿ƒéšæ€§,ä¸å–œæ¬¢çº¦æŸ,åªè¦æœ‰ä¸ªå¤§çš„ç›®æ ‡å°±è¡Œäº†.ä¸ªäººè§‰å¾—,çº¦æŸåçš„è‡ªå·±ä¸å†æ˜¯è‡ªå·±.æœ‰è§„åˆ’æ›´è¦æœ‰è‡ªå·±çš„æƒ³æ³•.æˆ‘å‘æ¥ä¸å–œæ¬¢ç…§æ¬åˆ«äººçš„åšæ³•.å³ä½¿æƒå¨,ä¹Ÿæ˜¯ä¸è¡Œ.æ¨¡å…·å¯ä»¥å¿«é€Ÿç”Ÿäº§å‡ºè®¸å¤šæˆå“,å´æ— æ³•äº§å‡ºä¸€ä»¶ç²¾å“.å†™ä¸œè¥¿ä¹Ÿæ˜¯è¦çœ‹çŠ¶æ€çš„,å°¤å…¶åœ¨å†™æ€»ç»“æ€§çš„ä¸œè¥¿,éœ€è¦æŠŠè‡ªå·±çš„æƒ³æ³•åŠ è¿›å».çŠ¶æ€åœ¨äº†,æœ‰æ—¶å€™çœ‹å¾…é—®é¢˜ä¼šæ›´åŠ å½»åº•.è‡³äºåå‘äºæŠ€æœ¯ç±»å‹çš„ä¸œè¥¿,é‚£å°±éšä¾¿äº†,èµ·ç åœ¨æˆ‘çœ‹æ¥,é‚£éƒ½æ˜¯å¥—è·¯.æ— éå°±æ˜¯è¦è®°å½•ä¸€ä¸‹é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ.å†™ä»€ä¹ˆè™½ç„¶æ­åšå®¢çš„èµ·å› æ›´å¤šçš„æ¥æºäºæ€»ç»“è‡ªå·±çš„å·¥ä½œç»éªŒ.ä½†æ˜¯è¿™ä¸ªä¸–ç•Œä¸åªæœ‰çœ¼å‰çš„è‹Ÿä¸”,è¿˜æœ‰è¯—ä¸è¿œæ–¹å¯¹äºæ´’è„±æˆæ€§çš„æˆ‘,çœ‹å¾…ç”Ÿæ´»æ—¶,æ€»ä¼šæ—¶ä¸æ—¶å¾—å†’å‡ºè‡ªå·±çš„æƒ³æ³•å’Œæ„Ÿæ‚Ÿ.è™½è¯´ä¸æ˜¯å†™è¯—,ä½†æ˜¯å‡ç»ƒæ–‡é‡‡,æ²‰æ·€åº•è•´,æœªå°ä¸å¯.å°ç»“ç»ˆäºåˆ°äº†å°ç»“äº†,æœ¬ä»¥ä¸ºè‡ªå·±è¨€è¯­åŒ®ä¹.æ²¡æƒ³åˆ°ä¹Ÿå·²ç»å†™äº†è¿™ä¹ˆå¤š.ä¸‡ä¸€å“ªå¤©çµæ„Ÿæ¥äº†,ä¼°è®¡ä¼šå†™å‡ºä¸€éƒ¨ä¸­ç¯‡å°è¯´.ä¸‡äº‹å¼€å¤´éš¾,æœ¬æ¥æƒ³æ˜¯ç›´æ¥è¿›å…¥ä¸»é¢˜,å†™ç»éªŒæ€»ç»“çš„.ä½†å”¯æåšæŒä¸ä¸‹å»,å°±å†™äº†è¿™ç¯‡åºè¨€,ä»¥å¢åŠ ä»ªå¼æ„Ÿ,å¸Œæœ›è‡ªå·±èƒ½å¤ŸåšæŒä¸‹å».]]></content>
      <categories>
        <category>æ—¥å¿—</category>
      </categories>
      <tags>
        <tag>åºè¨€</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
</search>
